<!DOCTYPE html><html class="split" lang="ja"><script src="https://html.spec.whatwg.org/link-fixup.js" defer=""></script><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"><title>HTML Standard 日本語訳</title><meta content="#3c790a" name="theme-color"><link rel="stylesheet" href="https://resources.whatwg.org/spec.css" crossorigin=""><link rel="stylesheet" href="https://resources.whatwg.org/standard.css" crossorigin=""><link rel="stylesheet" href="https://resources.whatwg.org/standard-shared-with-dev.css" crossorigin=""><link rel="icon" href="https://resources.whatwg.org/logo.svg" crossorigin=""><link rel="stylesheet" href="https://html.spec.whatwg.org/styles.css" crossorigin=""><script>
   function toggleStatus(div) {
     div.parentNode.classList.toggle('wrapped');
   }
   function setLinkFragment(link) {
     link.hash = location.hash;
   }
  </script><body>
  
  <script async="" crossorigin="" src="./html-dfn.js"></script>
  <script data-file-issue-url="https://github.com/momdo/momdo.github.io/issues/new" async="" crossorigin="" src="https://resources.whatwg.org/file-issue.js"></script>
  
  <header id="head" class="head with-buttons"><a href="https://whatwg.org/" class="logo"><img width="100" alt="WHATWG" crossorigin="" src="https://resources.whatwg.org/logo.svg" height="100"></a><hgroup><h1 class="allcaps">HTML</h1><h2 id="living-standard" class="no-num no-toc">Living Standard — Last Updated <span class="pubdate">5 November 2021</span></h2></hgroup>
   
   

   
  </header>

  

  

  

  
  

  
  

  

  <nav><a href="origin.html">← 7.5 生成元</a> — <a href="./">目次</a> — <a href="browsing-the-web.html">7.11 ウェブを閲覧する →</a></nav><ol class="toc"><li id="toc-browsers"><ol><li><a href="history.html#history"><span class="secno">7.10</span> セッション履歴およびナビゲーション</a><ol><li><a href="history.html#browsing-sessions"><span class="secno">7.10.1</span> ブラウジングセッション</a><li><a href="history.html#the-session-history-of-browsing-contexts"><span class="secno">7.10.2</span> ブラウジングコンテキストのセッション履歴</a><li><a href="history.html#the-history-interface"><span class="secno">7.10.3</span> <code>History</code>インターフェイス</a><li><a href="history.html#history-notes"><span class="secno">7.10.4</span> Implementation notes for session history</a><li><a href="history.html#the-location-interface"><span class="secno">7.10.5</span> <code>Location</code>インターフェイス</a><ol><li><a href="history.html#location-getprototypeof"><span class="secno">7.10.5.1</span> [[GetPrototypeOf]] ( )</a><li><a href="history.html#location-setprototypeof"><span class="secno">7.10.5.2</span> [[SetPrototypeOf]] ( <var>V</var> )</a><li><a href="history.html#location-isextensible"><span class="secno">7.10.5.3</span> [[IsExtensible]] ( )</a><li><a href="history.html#location-preventextensions"><span class="secno">7.10.5.4</span> [[PreventExtensions]] ( )</a><li><a href="history.html#location-getownproperty"><span class="secno">7.10.5.5</span> [[GetOwnProperty]] ( <var>P</var> )</a><li><a href="history.html#location-defineownproperty"><span class="secno">7.10.5.6</span> [[DefineOwnProperty]] ( <var>P</var>, <var>Desc</var> )</a><li><a href="history.html#location-get"><span class="secno">7.10.5.7</span> [[Get]] ( <var>P</var>, <var>Receiver</var> )</a><li><a href="history.html#location-set"><span class="secno">7.10.5.8</span> [[Set]] ( <var>P</var>, <var>V</var>, <var>Receiver</var> )</a><li><a href="history.html#location-delete"><span class="secno">7.10.5.9</span> [[Delete]] ( <var>P</var> )</a><li><a href="history.html#location-ownpropertykeys"><span class="secno">7.10.5.10</span> [[OwnPropertyKeys]] ( )</a></ol></ol></ol></ol><h3 id="history"><span class="secno">7.10</span> セッション履歴およびナビゲーション<a href="#history" class="self-link"></a></h3>

  <h4 id="browsing-sessions"><span class="secno">7.10.1</span> ブラウジングセッション<a href="#browsing-sessions" class="self-link"></a></h4>

  <div class="XXX"><p><dfn id="browsing-session" data-export="">ブラウジングセッション</dfn>は…である。 <a href="#browsing-session" id="browsing-sessions:browsing-session">ブラウジングセッション</a>の定義については、<a href="https://github.com/whatwg/html/issues/4782">whatwg/html issue #4782</a>および<a href="https://github.com/whatwg/html/issues/5350">whatwg/html issue #5350</a>を参照のこと。 `<code id="browsing-sessions:cross-origin-opener-policy-2"><a href="iana.html#cross-origin-opener-policy-2">Cross-Origin-Opener-Policy</a></code>`ヘッダーまたはナビゲーションのために置き換えることができないことを除いて、これは<a id="browsing-sessions:top-level-browsing-context" href="browsers.html#top-level-browsing-context">トップレベルブラウジングコンテキスト</a>にほぼ類似している。</p>

  <p><a id="browsing-sessions:top-level-browsing-context-2" href="browsers.html#top-level-browsing-context">トップレベルブラウジングコンテキスト</a>には、<a href="#browsing-session" id="browsing-sessions:browsing-session-2">ブラウジングセッション</a>である<dfn data-dfn-for="top-level browsing context" id="tlbc-browsing-session" data-export="">ブラウジングセッション</dfn>が関連付けられている。</p>

  <p><a id="browsing-sessions:environment-settings-object" href="webappapis.html#environment-settings-object">環境設定オブジェクト</a><var>environment</var>の<dfn data-dfn-for="environment settings object" id="environment-browsing-session" data-export="">ブラウジングセッション</dfn>は、次の手順を実行した結果である：</p>

  <ol><li><p>アサート：<var>environment</var>は<a id="browsing-sessions:responsible-document" href="webappapis.html#responsible-document">責任ある文書</a>を持つ。<li><p><var>environment</var>の<a id="browsing-sessions:responsible-document-2" href="webappapis.html#responsible-document">責任ある文書</a>の<a href="browsers.html#concept-document-bc" id="browsing-sessions:concept-document-bc">ブラウジングコンテキスト</a>の<a id="browsing-sessions:top-level-browsing-context-3" href="browsers.html#top-level-browsing-context">トップレベルブラウジングコンテキスト</a>の<a href="#tlbc-browsing-session" id="browsing-sessions:tlbc-browsing-session">ブラウジングセッション</a>を返す。</ol>

  </div>


  <h4 id="the-session-history-of-browsing-contexts"><span class="secno">7.10.2</span> ブラウジングコンテキストのセッション履歴<a href="#the-session-history-of-browsing-contexts" class="self-link"></a></h4>

  <p><a id="the-session-history-of-browsing-contexts:browsing-context" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>内の<code id="the-session-history-of-browsing-contexts:document"><a href="dom.html#document">Document</a></code>の配列は、その<dfn id="session-history">セッション履歴</dfn>である。<a href="browsers.html#child-browsing-context" id="the-session-history-of-browsing-contexts:child-browsing-context">子ブラウジングコンテキスト</a>を含む各<a id="the-session-history-of-browsing-contexts:browsing-context-2" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>は、個別のセッション履歴を持つ。<a id="the-session-history-of-browsing-contexts:browsing-context-3" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>のセッション履歴は、<a href="#session-history-entry" id="the-session-history-of-browsing-contexts:session-history-entry">セッション履歴のエントリー</a>のフラットなリストから成る。</p>

  <p><a id="the-session-history-of-browsing-contexts:browsing-context-4" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>の<a href="#session-history" id="the-session-history-of-browsing-contexts:session-history">セッション履歴</a>における各<code id="the-session-history-of-browsing-contexts:document-2"><a href="dom.html#document">Document</a></code>オブジェクトは、同じ基礎となる<a href="#session-history" id="the-session-history-of-browsing-contexts:session-history-2">セッション履歴</a>をすべてモデル化しなければならない、一意な<code id="the-session-history-of-browsing-contexts:history-3"><a href="#history-3">History</a></code>オブジェクトに関連付けられる。</p>

  

  <p>The <dfn data-dfn-for="Window" id="dom-history" data-dfn-type="attribute"><code>history</code></dfn> getter steps are to return <a id="the-session-history-of-browsing-contexts:this" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="window-object.html#concept-document-window" id="the-session-history-of-browsing-contexts:concept-document-window">associated <code>Document</code></a>'s <code id="the-session-history-of-browsing-contexts:history-3-2"><a href="#history-3">History</a></code> instance.</p>

  

  <hr>

  <p><dfn id="session-history-entry">セッション履歴エントリー</dfn>は、以下の<a href="https://triple-underscore.github.io/infra-ja.html#struct-item" id="the-session-history-of-browsing-contexts:struct-item" data-x-internal="struct-item">アイテム</a>をもつ<a id="the-session-history-of-browsing-contexts:struct" href="https://triple-underscore.github.io/infra-ja.html#struct" data-x-internal="struct">構造体</a>である：</p>

  <ul><li><p><dfn id="she-url">URL</dfn>、<a id="the-session-history-of-browsing-contexts:url" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a><li><p><dfn id="she-document">文書</dfn>、<code id="the-session-history-of-browsing-contexts:document-3"><a href="dom.html#document">Document</a></code>またはnull</p>

    <p class="note">各エントリーは、最初に作成されたとき、その<a href="#she-document" id="the-session-history-of-browsing-contexts:she-document">文書</a>の<code id="the-session-history-of-browsing-contexts:document-4"><a href="dom.html#document">Document</a></code>を持つ。しかし、<code id="the-session-history-of-browsing-contexts:document-5"><a href="dom.html#document">Document</a></code>が<a href="browsers.html#fully-active" id="the-session-history-of-browsing-contexts:fully-active">アクティブ</a>でない場合、リソースを解放するために<a href="window-object.html#discard-a-document" id="the-session-history-of-browsing-contexts:discard-a-document">廃棄する</a>ことができる。次に、<a href="#session-history-entry" id="the-session-history-of-browsing-contexts:session-history-entry-2">セッション履歴エントリー</a>の<a href="#she-url" id="the-session-history-of-browsing-contexts:she-url">URL</a>およびその他のデータは、ユーザーエージェントがそのエントリーにナビゲートする必要があることを発見した場合に、元の代わりに新しい<code id="the-session-history-of-browsing-contexts:document-6"><a href="dom.html#document">Document</a></code>をもたらすために使用される。
</p>
   <li><p><dfn id="she-serialized-state">シリアライズされた状態</dfn>、これは<a href="#serialized-state" id="the-session-history-of-browsing-contexts:serialized-state">シリアライズされた状態</a>またはnullであり、最初はnull<li><p><dfn id="she-policy-container">policy container</dfn>, a <a id="the-session-history-of-browsing-contexts:policy-container" href="origin.html#policy-container">policy container</a> or null<li><p><dfn id="she-scroll-restoration-mode">スクロール復元モード</dfn>、<a href="#scroll-restoration-mode" id="the-session-history-of-browsing-contexts:scroll-restoration-mode">スクロール復元モード</a>、最初は "<code id="the-session-history-of-browsing-contexts:dom-scrollrestoration-auto"><a href="#dom-scrollrestoration-auto">auto</a></code>"。<li><p><dfn id="she-scroll-position">スクロール位置データ</dfn>、これは<a href="#she-document" id="the-session-history-of-browsing-contexts:she-document-2">文書</a>の<a id="the-session-history-of-browsing-contexts:restorable-scrollable-regions" href="browsing-the-web.html#restorable-scrollable-regions">復元可能なスクロール可能領域</a>のスクロール位置データである。<li><p><dfn id="she-bc-name">ブラウジングコンテキスト名</dfn>、<a id="the-session-history-of-browsing-contexts:browsing-context-name" href="browsers.html#browsing-context-name">ブラウジングコンテキスト名</a>またはnull、最初はnull<li><p id="an-entry-with-persisted-user-state"><dfn id="she-other">永続ユーザー状態</dfn>、これは<a id="the-session-history-of-browsing-contexts:implementation-defined" href="https://triple-underscore.github.io/infra-ja.html#implementation-defined" data-x-internal="implementation-defined">実装定義</a>であり、最初はnull</p>

    <p class="example">たとえば、一部のユーザーエージェントは、フォームコントロールの値を永続化したいかもしれない。</p>

    <p class="note">フォームコントロールの値を永続化するユーザーエージェントはまた、それらの方向（要素の<code id="the-session-history-of-browsing-contexts:attr-dir"><a href="dom.html#attr-dir">dir</a></code>属性の値）を保持することが推奨される。これは、ユーザーが最初明示的にデフォルト以外の方向をもつ値を入力した場合、履歴走査の後に誤って値を表示することを防ぐ。</p>
   </ul>

  <p id="state-object"><dfn id="serialized-state">シリアライズされた状態</dfn>は、ユーザーインターフェイスの状態を表すオブジェクトを（<a id="the-session-history-of-browsing-contexts:structuredserializeforstorage" href="structured-data.html#structuredserializeforstorage">StructuredSerializeForStorage</a>経由で）シリアライズしたものである。非公式に"状態オブジェクト"と呼ぶこともあるが、これは著者から提供されたユーザーインターフェイスの状態を表すオブジェクトであり、あるいは、シリアライズされた状態をデシリアライズ（<a id="the-session-history-of-browsing-contexts:structureddeserialize" href="structured-data.html#structureddeserialize">StructuredDeserialize</a>経由で）して作成されたオブジェクトでもある。</p>

  <p>ページは、<a href="#serialized-state" id="the-session-history-of-browsing-contexts:serialized-state-2">シリアライズされた状態</a>をセッション履歴に<a href="#dom-history-pushstate" id="the-session-history-of-browsing-contexts:dom-history-pushstate">追加する</a>ことができる。ユーザー（またはスクリプト）が履歴に戻るとき、これらは<a href="structured-data.html#structureddeserialize" id="the-session-history-of-browsing-contexts:structureddeserialize-2">デシリアイズされ</a>て<a href="indices.html#event-popstate" id="the-session-history-of-browsing-contexts:event-popstate">スクリプトに返される</a>ため、著者は1ページのアプリケーションでも"ナビゲーション"メタファーを使用できるようになる。</p>

  <div class="note"><p><a href="#serialized-state" id="the-session-history-of-browsing-contexts:serialized-state-3">シリアライズされた状態</a>は、主に2つの目的で使用されることを意図している：1つは、事前に準備された状態の記述を<a id="the-session-history-of-browsing-contexts:url-2" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a>に格納することで、単純な場合には著者が解析を行う必要がないようにすることである（ただし、ユーザーによって渡された<a href="https://triple-underscore.github.io/URL-ja.html#concept-url" id="the-session-history-of-browsing-contexts:url-3" data-x-internal="url">URL</a>を処理するためには解析が必要になるので、マイナーな最適化に過ぎない）。もう1つは、現在の<code id="the-session-history-of-browsing-contexts:document-7"><a href="dom.html#document">Document</a></code>インスタンスにのみ適用され、新しい <code id="the-session-history-of-browsing-contexts:document-8"><a href="dom.html#document">Document</a></code>を開いた場合に再構築しなければならないため、URL には保存されないような状態を作者が保存できるようにすることである。</p>

   <p>後者の例は、ユーザーが戻った場合同じ場所にアニメーションさせることができるように、ポップアップ<code id="the-session-history-of-browsing-contexts:the-div-element"><a href="grouping-content.html#the-div-element">div</a></code>がアニメーション化するために作られた正確な座標を追跡するようなものになるだろう。またその代わりに、前後に行くときに、情報が再度フェッチする必要がないよう、<a id="the-session-history-of-browsing-contexts:url-4" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a>内の情報に基づいてサーバーからフェッチされるデータのキャッシュにポインターを保持するために使用できる。</p>
  </div>

  <p><dfn id="scroll-restoration-mode">スクロール復元モード</dfn>は、<a href="#session-history-entry" id="the-session-history-of-browsing-contexts:session-history-entry-3">エントリー</a>に移動するときに、ユーザーエージェントが永続化されたスクロール位置（存在する場合）を復元すべきかどうかを示す。スクロール復元モードは次のいずれかである：</p>

  <dl><dt>"<dfn data-dfn-for="ScrollRestoration" id="dom-scrollrestoration-auto" data-dfn-type="enum-value"><code>auto</code></dfn>"<dd>ユーザーエージェントは、ナビゲーション時にスクロール位置を復元する責任がある。<dt>"<dfn data-dfn-for="ScrollRestoration" id="dom-scrollrestoration-manual" data-dfn-type="enum-value"><code>manual</code></dfn>"<dd>ページはスクロール位置を復元する責任があり、ユーザーエージェントは自動的に復元を試みない。</dl>

  <hr>

  <p>セッション履歴内の複数の連続したエントリーは、同じ<a href="#she-document" id="the-session-history-of-browsing-contexts:she-document-3">文書</a>を共有することができる。これは、通常の<a href="browsing-the-web.html#navigate" id="the-session-history-of-browsing-contexts:navigate">ナビゲーション</a>を介して最初のエントリーに到達し、かつ<code id="the-session-history-of-browsing-contexts:dom-history-pushstate-2"><a href="#dom-history-pushstate">history.pushState()</a></code>を介して次のエントリーが追加された場合に発生する可能性がある。または、<a href="browsing-the-web.html#navigate-fragid" id="the-session-history-of-browsing-contexts:navigate-fragid">フラグメントへのナビゲーション</a>を介して発生する可能性がある。</p>

  <p class="note">同じ<a href="#she-document" id="the-session-history-of-browsing-contexts:she-document-4">Document</a>を共有する（したがって、特定の文書の単に異なる状態である）すべてのエントリーは、定義により連続する。</p>

  

  <p>User agents may <a href="window-object.html#discard-a-document" id="the-session-history-of-browsing-contexts:discard-a-document-2">discard</a> the <a href="#she-document" id="the-session-history-of-browsing-contexts:she-document-5">documents</a> of entries with non-null <a href="#she-document" id="the-session-history-of-browsing-contexts:she-document-6">documents</a>, as long as the following conditions are met:</p>

  <ul><li><p>They must not discard the <a href="#she-document" id="the-session-history-of-browsing-contexts:she-document-7">document</a> of the <a href="#current-entry" id="the-session-history-of-browsing-contexts:current-entry">current entry</a>.<li><p>They must not discard any <code id="the-session-history-of-browsing-contexts:document-9"><a href="dom.html#document">Document</a></code> objects which are referenced from script.</ul>

  <p>Apart from these restrictions, this standard does not specify when user agents should discard an entry's <a href="#she-document" id="the-session-history-of-browsing-contexts:she-document-8">document</a>, versus keeping it cached.</p>

  <p class="note"><a href="window-object.html#discard-a-document" id="the-session-history-of-browsing-contexts:discard-a-document-3">Discarding</a> a <code id="the-session-history-of-browsing-contexts:document-10"><a href="dom.html#document">Document</a></code> will set the corresponding <a href="#she-document" id="the-session-history-of-browsing-contexts:she-document-9">document</a> item of any <a href="#session-history-entry" id="the-session-history-of-browsing-contexts:session-history-entry-4">session history entries</a> to null. Subsequent navigations to those entries will result in the creation of a new <code id="the-session-history-of-browsing-contexts:document-11"><a href="dom.html#document">Document</a></code> object, and set the <a href="#she-document" id="the-session-history-of-browsing-contexts:she-document-10">document</a> item to it.</p>

  

  <hr>

  <p>任意の時点で、セッション履歴のエントリーの1つは、<dfn id="current-entry">現在のエントリー</dfn>である。これは、<a id="the-session-history-of-browsing-contexts:browsing-context-5" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>の<a id="the-session-history-of-browsing-contexts:active-document" href="browsers.html#active-document">アクティブ文書</a>を表すエントリーである。<a href="#current-entry" id="the-session-history-of-browsing-contexts:current-entry-2">現在のエントリー</a>であるそれぞれのエントリーは、この仕様で定義されるアルゴリズムによって変更される。たとえば<a href="browsing-the-web.html#traverse-the-history" id="the-session-history-of-browsing-contexts:traverse-the-history">セッション履歴走査</a>中など。</p>

  <p class="note"><a href="#current-entry" id="the-session-history-of-browsing-contexts:current-entry-3">現在のエントリー</a>は通常、ナビゲーション時に作成される最初のエントリーである。しかし、上記のように、同じ<a href="#she-document" id="the-session-history-of-browsing-contexts:she-document-11">文書</a>を共有する連続したエントリーの1つにすることもできる。</p>

  <p><a id="the-session-history-of-browsing-contexts:browsing-context-6" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>内の各<code id="the-session-history-of-browsing-contexts:document-12"><a href="dom.html#document">Document</a></code>はまた、<dfn id="latest-entry">最新のエントリー</dfn>を持つことができる。これは、<a id="the-session-history-of-browsing-contexts:browsing-context-7" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>の<a href="#session-history" id="the-session-history-of-browsing-contexts:session-history-3">セッション履歴</a>が最後にたどられた<code id="the-session-history-of-browsing-contexts:document-13"><a href="dom.html#document">Document</a></code>のエントリーである。 <code id="the-session-history-of-browsing-contexts:document-14"><a href="dom.html#document">Document</a></code>が作成されるとき、最初は<a href="#latest-entry" id="the-session-history-of-browsing-contexts:latest-entry">最新のエントリー</a>を持たない。</p>



  <h4 id="the-history-interface"><span class="secno">7.10.3</span> <code id="the-history-interface:history-3"><a href="#history-3">History</a></code>インターフェイス<a href="#the-history-interface" class="self-link"></a></h4><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/History" title="The History interface allows manipulation of the browser session history, that is the pages visited in the tab or frame that the current page is loaded in.">History</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/history" title="The Window.history read-only property returns a reference to the History object, which provides an interface for manipulating the browser session history (pages visited in the tab or frame that the current page is loaded in).">Window/history</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div>

  <pre><code class='idl'><c- b>enum</c-> <dfn id='scrollrestoration' data-dfn-type='enum'><c- g>ScrollRestoration</c-></dfn> { <c- s>"</c-><a href='#dom-scrollrestoration-auto' id='the-history-interface:dom-scrollrestoration-auto'><c- s>auto</c-></a><c- s>"</c->, <c- s>"</c-><a href='#dom-scrollrestoration-manual' id='the-history-interface:dom-scrollrestoration-manual'><c- s>manual</c-></a><c- s>"</c-> };

[<c- g>Exposed</c->=<c- n>Window</c->]
<c- b>interface</c-> <dfn id='history-3' data-dfn-type='interface'><c- g>History</c-></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <c- b>unsigned</c-> <c- b>long</c-> <a href='#dom-history-length' id='the-history-interface:dom-history-length'><c- g>length</c-></a>;
  <c- b>attribute</c-> <a href='#scrollrestoration' id='the-history-interface:scrollrestoration'><c- n>ScrollRestoration</c-></a> <a href='#dom-history-scroll-restoration' id='the-history-interface:dom-history-scroll-restoration'><c- g>scrollRestoration</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <c- b>any</c-> <a href='#dom-history-state' id='the-history-interface:dom-history-state'><c- g>state</c-></a>;
  <c- b>undefined</c-> <a href='#dom-history-go' id='the-history-interface:dom-history-go'><c- g>go</c-></a>(<c- b>optional</c-> <c- b>long</c-> <c- g>delta</c-> = 0);
  <c- b>undefined</c-> <a href='#dom-history-back' id='the-history-interface:dom-history-back'><c- g>back</c-></a>();
  <c- b>undefined</c-> <a href='#dom-history-forward' id='the-history-interface:dom-history-forward'><c- g>forward</c-></a>();
  <c- b>undefined</c-> <a href='#dom-history-pushstate' id='the-history-interface:dom-history-pushstate'><c- g>pushState</c-></a>(<c- b>any</c-> <c- g>data</c->, <c- b>DOMString</c-> <c- g>unused</c->, <c- b>optional</c-> <c- b>USVString</c->? <c- g>url</c-> = <c- b>null</c->);
  <c- b>undefined</c-> <a href='#dom-history-replacestate' id='the-history-interface:dom-history-replacestate'><c- g>replaceState</c-></a>(<c- b>any</c-> <c- g>data</c->, <c- b>DOMString</c-> <c- g>unused</c->, <c- b>optional</c-> <c- b>USVString</c->? <c- g>url</c-> = <c- b>null</c->);
};</code></pre>

  <dl class="domintro"><dt><code><var>window</var>.<a href="#dom-history" id="dom-history-dev">history</a>.<a href="#dom-history-length" id="dom-history-length-dev">length</a></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/History/length" title="The History.length read-only property returns an integer representing the number of elements in the session history, including the currently loaded page.">History/length</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><dd><p><a href="#joint-session-history" id="the-history-interface:joint-session-history">ジョイントセッション履歴</a>内のエントリーの数を返す。<dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history">history</a>.<a href="#dom-history-scroll-restoration" id="dom-history-scroll-restoration-dev">scrollRestoration</a> [ = <var>value</var> ]</code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/History/scrollRestoration" title="The scrollRestoration property of History interface allows web applications to explicitly set default scroll restoration behavior on history navigation.">History/scrollRestoration</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>46+</span></span><span class="safari yes"><span>Safari</span><span>11+</span></span><span class="chrome yes"><span>Chrome</span><span>46+</span></span><hr><span class="opera yes"><span>Opera</span><span>33+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge no"><span>Edge (Legacy)</span><span>No</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>46+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>11+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>46+</span></span><span class="webview_android yes"><span>WebView Android</span><span>46+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>5.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>33+</span></span></div></div></div><dd><p><a href="#session-history" id="the-history-interface:session-history">セッション履歴</a>の現在のエントリーの<a href="#she-scroll-restoration-mode" id="the-history-interface:she-scroll-restoration-mode">スクロール復元モード</a>を返す。</p>

    <p><a href="#session-history" id="the-history-interface:session-history-2">セッション履歴</a>の現在のエントリーの<a href="#she-scroll-restoration-mode" id="the-history-interface:she-scroll-restoration-mode-2">スクロール復元モード</a>を変更する設定が可能である。</p>
   <dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history-2">history</a>.<a href="#dom-history-state" id="dom-history-state-dev">state</a></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/History/state" title="The History.state property returns a value representing the state at the top of the history stack. This is a way to look at the state without having to wait for a popstate event.">History/state</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>4+</span></span><span class="safari yes"><span>Safari</span><span>6+</span></span><span class="chrome yes"><span>Chrome</span><span>19+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>6+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>25+</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.5+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><dd><p>オブジェクトにデシリアライズされた、現在の<a href="#serialized-state" id="the-history-interface:serialized-state">シリアライズされた状態</a>を返す。<dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history-3">history</a>.<a href="#dom-history-go" id="dom-history-go-dev">go</a>([ <var>delta</var> ])</code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/History/go" title="The History.go() method loads a specific page from the session history. You can use it to move forwards and backwards through the history depending on the value of a parameter.">History/go</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><dd><p><a href="#joint-session-history" id="the-history-interface:joint-session-history-2">ジョイントセッション履歴</a>内のステップの指定した数の前後に進む。</p>

    <p>ゼロ差分は、現在のページをリロードする。</p>

    <p>差分が範囲外の場合、何もしない。</p>
   <dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history-4">history</a>.<a href="#dom-history-back" id="dom-history-back-dev">back</a>()</code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/History/back" title="The History.back() method causes the browser to move back one page in the session history.">History/back</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><dd><p><a href="#joint-session-history" id="the-history-interface:joint-session-history-3">ジョイントセッション履歴</a>内の1つのステップに戻る。</p>

    <p>前のページが存在しない場合、何もしない。</p>
   <dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history-5">history</a>.<a href="#dom-history-forward" id="dom-history-forward-dev">forward</a>()</code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/History/forward" title="The History.forward() method causes the browser to move forward one page in the session history. It has the same effect as calling history.go(1).">History/forward</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><dd><p><a href="#joint-session-history" id="the-history-interface:joint-session-history-4">ジョイントセッション履歴</a>内の1つのステップに進む。</p>

    <p>次のページが存在しない場合、何もしない。</p>
   <dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history-6">history</a>.<a href="#dom-history-pushstate" id="dom-history-pushstate-dev">pushState</a>(<var>data</var>, "")</code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/History/pushState" title="In an HTML document, the history.pushState() method adds an entry to the browser's session history stack.">History/pushState</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>4+</span></span><span class="safari yes"><span>Safari</span><span>5+</span></span><span class="chrome yes"><span>Chrome</span><span>5+</span></span><hr><span class="opera yes"><span>Opera</span><span>11.5+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>4+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>11.5+</span></span></div></div></div><dd><p>Push a new entry into session history with the given <var>data</var> associated. The current entry's URL will be copied over and used for the new entry's URL.</p>

    <p> （2番目のパラメーターは歴史的な理由で存在し、省略することはできない。空の文字列を渡すことは慣例的なものである。）</p>
   <dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history-7">history</a>.<a href="#dom-history-pushstate" id="the-history-interface:dom-history-pushstate-2">pushState</a>(<var>data</var>, "", <var>url</var>)</code><dd><p>Push a new entry into session history with the given <var>data</var> associated, and with its URL set to <var>url</var>.</p>

    <p>If the current <code id="the-history-interface:document"><a href="dom.html#document">Document</a></code> <a href="#can-have-its-url-rewritten" id="the-history-interface:can-have-its-url-rewritten">cannot have its URL rewritten</a> to <var>url</var>, a <a id="the-history-interface:securityerror" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-history-interface:domexception"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code> will be thrown.</p>

    <p> （2番目のパラメーターは歴史的な理由で存在し、省略することはできない。空の文字列を渡すことは慣例的なものである。）</p>
   <dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history-8">history</a>.<a href="#dom-history-replacestate" id="dom-history-replacestate-dev">replaceState</a>(<var>data</var>, "")</code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState" title="The History.replaceState() method modifies the current history entry, replacing it with the stateObj, title, and URL passed in the method parameters. This method is particularly useful when you want to update the state object or URL of the current history entry in response to some user action.">History/replaceState</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>4+</span></span><span class="safari yes"><span>Safari</span><span>5+</span></span><span class="chrome yes"><span>Chrome</span><span>5+</span></span><hr><span class="opera yes"><span>Opera</span><span>11.5+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>4+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>11.5+</span></span></div></div></div><dd><p>Updates the data stored in the current session history entry to <var>data</var>.</p>

    <p> （2番目のパラメーターは歴史的な理由で存在し、省略することはできない。空の文字列を渡すことは慣例的なものである。）</p>
   <dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history-9">history</a>.<a href="#dom-history-replacestate" id="the-history-interface:dom-history-replacestate-2">replaceState</a>(<var>data</var>, "", <var>url</var>)</code><dd><p>Updates the data stored in the current session history entry to <var>data</var>, and its URL to <var>url</var>.</p>

    <p>If the current <code id="the-history-interface:document-2"><a href="dom.html#document">Document</a></code> <a href="#can-have-its-url-rewritten" id="the-history-interface:can-have-its-url-rewritten-2">cannot have its URL rewritten</a> to <var>url</var>, a <a id="the-history-interface:securityerror-2" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-history-interface:domexception-2"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code> will be thrown.</p>

    <p> （2番目のパラメーターは歴史的な理由で存在し、省略することはできない。空の文字列を渡すことは慣例的なものである。）</p>
   </dl>


  <p><a id="the-history-interface:top-level-browsing-context" href="browsers.html#top-level-browsing-context">トップレベルブラウジングコンテキスト</a>の<dfn id="joint-session-history">ジョイントセッション履歴</dfn>は、<a href="#current-entry-of-the-joint-session-history" id="the-history-interface:current-entry-of-the-joint-session-history">ジョイントセッション履歴の現在のエントリー</a>を除いて削除されたそれぞれの<a href="#session-history" id="the-history-interface:session-history-4">セッション履歴</a>において<a href="#current-entry" id="the-history-interface:current-entry">現在のエントリー</a>であるすべてのエントリーとともに、<a id="the-history-interface:top-level-browsing-context-2" href="browsers.html#top-level-browsing-context">トップレベルブラウジングコンテキスト</a>を共有するすべての<a id="the-history-interface:fully-active" href="browsers.html#fully-active">完全にアクティブな</a><code id="the-history-interface:document-3"><a href="dom.html#document">Document</a></code>オブジェクトのすべての<a href="browsers.html#concept-document-bc" id="the-history-interface:concept-document-bc">ブラウジングコンテキスト</a>に属するすべての<a href="#session-history" id="the-history-interface:session-history-3">セッション履歴</a>の結合である。</p>

  <p><dfn id="current-entry-of-the-joint-session-history">ジョイントセッション履歴の現在のエントリー</dfn>は、最近その<a href="#session-history" id="the-history-interface:session-history-5">セッション履歴</a>内の<a href="#current-entry" id="the-history-interface:current-entry-2">現在のエントリー</a>になったエントリーである。</p>

  <p><a href="#joint-session-history" id="the-history-interface:joint-session-history-5">ジョイントセッション履歴</a>内のエントリーは、それぞれの<a href="#session-history" id="the-history-interface:session-history-6">セッション履歴</a>に追加された時点で時系列に並べられる。Each entry has an index; the earliest entry has index 0, and the subsequent entries are numbered with consecutively increasing integers (1, 2, 3, etc.).</p>

  <p class="note"><a id="the-history-interface:browsing-context" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>内の各<code id="the-history-interface:document-4"><a href="dom.html#document">Document</a></code>は、異なる<a id="the-history-interface:event-loop" href="webappapis.html#event-loop">イベントループ</a>があるかもしれないので、<a href="#joint-session-history" id="the-history-interface:joint-session-history-6">ジョイントセッション履歴</a>の実際の状態は、不明瞭にできる。たとえば、2つの兄弟<code id="the-history-interface:the-iframe-element"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>要素は、同時に1つの一意な生成元から別のものに互いに<a href="browsing-the-web.html#traverse-the-history" id="the-history-interface:traverse-the-history">横断</a>でき、それらの正確な順序は明確に定義されないかもしれない。それらは後にお互いを知るかもしれないので、同様に、それらは<a href="#joint-session-history" id="the-history-interface:joint-session-history-7">ジョイントセッション履歴</a>の長さについて同意しないかもしれない。</p>


  

  <p>Each <code id="the-history-interface:history-3-2"><a href="#history-3">History</a></code> object has <dfn id="concept-history-state">state</dfn>, initially null.</p>

  <p>The <dfn data-dfn-for="History" id="dom-history-length" data-dfn-type="attribute"><code>length</code></dfn> getter steps are:</p>

  <ol><li><p>If <a id="the-history-interface:this" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s associated <code id="the-history-interface:document-5"><a href="dom.html#document">Document</a></code> is not <a id="the-history-interface:fully-active-2" href="browsers.html#fully-active">fully active</a>, then throw a <a id="the-history-interface:securityerror-3" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-history-interface:domexception-3"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Return the number of entries in the <a id="the-history-interface:top-level-browsing-context-3" href="browsers.html#top-level-browsing-context">top-level browsing context</a>'s <a href="#joint-session-history" id="the-history-interface:joint-session-history-8">joint session history</a>.</ol>

  <p>The actual entries are not accessible from script.</p>

  <p>The <dfn data-dfn-for="History" id="dom-history-scroll-restoration" data-dfn-type="attribute"><code>scrollRestoration</code></dfn> getter steps are:</p>

  <ol><li><p>If <a id="the-history-interface:this-2" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s associated <code id="the-history-interface:document-6"><a href="dom.html#document">Document</a></code> is not <a id="the-history-interface:fully-active-3" href="browsers.html#fully-active">fully active</a>, then throw a <a id="the-history-interface:securityerror-4" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-history-interface:domexception-4"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Return <a id="the-history-interface:this-3" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#session-history" id="the-history-interface:session-history-7">session history</a>'s <a href="#current-entry" id="the-history-interface:current-entry-3">current entry</a>'s <a href="#she-scroll-restoration-mode" id="the-history-interface:she-scroll-restoration-mode-3">scroll restoration mode</a>.</ol>

  <p>The <code id="the-history-interface:dom-history-scroll-restoration-2"><a href="#dom-history-scroll-restoration">scrollRestoration</a></code> setter steps are:</p>

  <ol><li><p>If <a id="the-history-interface:this-4" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s associated <code id="the-history-interface:document-7"><a href="dom.html#document">Document</a></code> is not <a id="the-history-interface:fully-active-4" href="browsers.html#fully-active">fully active</a>, then throw a <a id="the-history-interface:securityerror-5" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-history-interface:domexception-5"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Set <a id="the-history-interface:this-5" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#session-history" id="the-history-interface:session-history-8">session history</a>'s <a href="#current-entry" id="the-history-interface:current-entry-4">current entry</a>'s <a href="#she-scroll-restoration-mode" id="the-history-interface:she-scroll-restoration-mode-4">scroll restoration mode</a> to the given value.</ol>

  <p>The <dfn data-dfn-for="History" id="dom-history-state" data-dfn-type="attribute"><code>state</code></dfn> getter steps are:</p>

  <ol><li><p>If <a id="the-history-interface:this-6" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s associated <code id="the-history-interface:document-8"><a href="dom.html#document">Document</a></code> is not <a id="the-history-interface:fully-active-5" href="browsers.html#fully-active">fully active</a>, then throw a <a id="the-history-interface:securityerror-6" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-history-interface:domexception-6"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Return <a id="the-history-interface:this-7" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-history-state" id="the-history-interface:concept-history-state">state</a>.</ol>

  <p>The <dfn data-dfn-for="History" id="dom-history-go" data-dfn-type="method"><code>go(<var>delta</var>)</code></dfn> method steps are:</p>

  <ol><li><p>Let <var>document</var> be <a id="the-history-interface:this-8" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s associated <code id="the-history-interface:document-9"><a href="dom.html#document">Document</a></code>.<li><p>If <var>document</var> is not <a id="the-history-interface:fully-active-6" href="browsers.html#fully-active">fully active</a>, then throw a <a id="the-history-interface:securityerror-7" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-history-interface:domexception-7"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>If <var>delta</var> is 0, then act as if the <code id="the-history-interface:dom-location-reload"><a href="#dom-location-reload">location.reload()</a></code> method was called, and return.<li><p><a href="#traverse-the-history-by-a-delta" id="the-history-interface:traverse-the-history-by-a-delta">Traverse the history by a delta</a> with <var>delta</var> and <var>document</var>'s <a href="browsers.html#concept-document-bc" id="the-history-interface:concept-document-bc-2">browsing context</a>.</ol>

  <p>The <dfn data-dfn-for="History" id="dom-history-back" data-dfn-type="method"><code>back()</code></dfn> method steps are:</p>

  <ol><li><p>Let <var>document</var> be <a id="the-history-interface:this-9" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s associated <code id="the-history-interface:document-10"><a href="dom.html#document">Document</a></code>.<li><p>If <var>document</var> is not <a id="the-history-interface:fully-active-7" href="browsers.html#fully-active">fully active</a>, then throw a <a id="the-history-interface:securityerror-8" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-history-interface:domexception-8"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p><a href="#traverse-the-history-by-a-delta" id="the-history-interface:traverse-the-history-by-a-delta-2">Traverse the history by a delta</a> with −1 and <var>document</var>'s <a href="browsers.html#concept-document-bc" id="the-history-interface:concept-document-bc-3">browsing context</a>.</ol>

  <p>The <dfn data-dfn-for="History" id="dom-history-forward" data-dfn-type="method"><code>forward()</code></dfn> method steps are:</p>

  <ol><li><p>Let <var>document</var> be <a id="the-history-interface:this-10" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s associated <code id="the-history-interface:document-11"><a href="dom.html#document">Document</a></code>.<li><p>If <var>document</var> is not <a id="the-history-interface:fully-active-8" href="browsers.html#fully-active">fully active</a>, then throw a <a id="the-history-interface:securityerror-9" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-history-interface:domexception-9"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p><a href="#traverse-the-history-by-a-delta" id="the-history-interface:traverse-the-history-by-a-delta-3">Traverse the history by a delta</a> with +1 and <var>document</var>'s <a href="browsers.html#concept-document-bc" id="the-history-interface:concept-document-bc-4">browsing context</a>.</ol>


  <hr>

  <p>Each <a id="the-history-interface:top-level-browsing-context-4" href="browsers.html#top-level-browsing-context">top-level browsing context</a> has a <dfn id="session-history-traversal-queue">session history traversal queue</dfn>, initially empty, to which <a href="webappapis.html#concept-task" id="the-history-interface:concept-task">tasks</a> can be added.</p>

  <p>Each <a id="the-history-interface:top-level-browsing-context-5" href="browsers.html#top-level-browsing-context">top-level browsing context</a>, when created, must begin running the following algorithm, known as the <dfn id="session-history-event-loop">session history event loop</dfn> for that <a id="the-history-interface:top-level-browsing-context-6" href="browsers.html#top-level-browsing-context">top-level browsing context</a>, <a id="the-history-interface:in-parallel" href="infrastructure.html#in-parallel">in parallel</a>:</p>

  <ol><li><p>Wait until this <a id="the-history-interface:top-level-browsing-context-7" href="browsers.html#top-level-browsing-context">top-level browsing context</a>'s <a href="#session-history-traversal-queue" id="the-history-interface:session-history-traversal-queue">session history traversal queue</a> is not empty.<li><p>Pull the first <a href="webappapis.html#concept-task" id="the-history-interface:concept-task-2">task</a> from this <a id="the-history-interface:top-level-browsing-context-8" href="browsers.html#top-level-browsing-context">top-level browsing context</a>'s <a href="#session-history-traversal-queue" id="the-history-interface:session-history-traversal-queue-2">session history traversal queue</a>, and execute it.<li><p>Return to the first step of this algorithm.</p>
  </ol>

  <p>The <a href="#session-history-event-loop" id="the-history-interface:session-history-event-loop">session history event loop</a> helps coordinate cross-browsing-context transitions of the <a href="#joint-session-history" id="the-history-interface:joint-session-history-9">joint session history</a>: since each <a id="the-history-interface:browsing-context-2" href="browsers.html#browsing-context">browsing context</a> might, at any particular time, have a different <a id="the-history-interface:event-loop-2" href="webappapis.html#event-loop">event loop</a> (this can happen if the user navigates from <code>example.com</code> to <code>shop.example</code>), transitions would otherwise have to involve cross-event-loop synchronization.</p>

  <hr>

  <p>To <dfn id="traverse-the-history-by-a-delta">traverse the history by a delta</dfn> given <var>delta</var> and <a id="the-history-interface:browsing-context-3" href="browsers.html#browsing-context">browsing context</a> <var>source browsing context</var>, the user agent must append a <a href="webappapis.html#concept-task" id="the-history-interface:concept-task-3">task</a> to this <a id="the-history-interface:top-level-browsing-context-9" href="browsers.html#top-level-browsing-context">top-level browsing context</a>'s <a href="#session-history-traversal-queue" id="the-history-interface:session-history-traversal-queue-3">session history traversal queue</a>, the <a href="webappapis.html#concept-task" id="the-history-interface:concept-task-4">task</a> consisting of running the following steps:</p>

  <ol><li><p>If the index of the <a href="#current-entry-of-the-joint-session-history" id="the-history-interface:current-entry-of-the-joint-session-history-2">current entry of the joint session history</a> plus <var>delta</var> is less than zero or greater than or equal to the number of items in the <a href="#joint-session-history" id="the-history-interface:joint-session-history-10">joint session history</a>, then return.</p>

   <li><p>Let <var>specified entry</var> be the entry in the <a href="#joint-session-history" id="the-history-interface:joint-session-history-11">joint session history</a> whose index is the sum of <var>delta</var> and the index of the <a href="#current-entry-of-the-joint-session-history" id="the-history-interface:current-entry-of-the-joint-session-history-3">current entry of the joint session history</a>.<li><p>Let <var>specified browsing context</var> be the <a id="the-history-interface:browsing-context-4" href="browsers.html#browsing-context">browsing context</a> of the <var>specified entry</var>.<li><p>If <var>source browsing context</var> is not <a id="the-history-interface:allowed-to-navigate" href="browsers.html#allowed-to-navigate">allowed to navigate</a> <var>specified browsing context</var>, then return.<li><p>If the <var>specified browsing context</var>'s <a id="the-history-interface:active-document" href="browsers.html#active-document">active document</a>'s <a id="the-history-interface:unload-counter" href="browsing-the-web.html#unload-counter">unload counter</a> is greater than 0, then return.<li><p><a id="the-history-interface:queue-a-global-task" href="webappapis.html#queue-a-global-task">Queue a global task</a> on the <a id="the-history-interface:history-traversal-task-source" href="webappapis.html#history-traversal-task-source">history traversal task source</a> given <var>specified browsing context</var>'s <a id="the-history-interface:active-window" href="browsers.html#active-window">active window</a> to perform the following steps:</p>

    <ol><li><p>If there is an ongoing attempt to navigate <var>specified browsing context</var> that has not yet <a href="browsing-the-web.html#concept-navigate-mature" id="the-history-interface:concept-navigate-mature">matured</a> (i.e. it has not passed the point of making its <code id="the-history-interface:document-12"><a href="dom.html#document">Document</a></code> the <a id="the-history-interface:active-document-2" href="browsers.html#active-document">active document</a>), then cancel that attempt to navigate the <a id="the-history-interface:browsing-context-5" href="browsers.html#browsing-context">browsing context</a>.<li><p>If the <var>specified browsing context</var>'s <a id="the-history-interface:active-document-3" href="browsers.html#active-document">active document</a> is not the same <code id="the-history-interface:document-13"><a href="dom.html#document">Document</a></code> as the <code id="the-history-interface:document-14"><a href="dom.html#document">Document</a></code> of the <var>specified entry</var>, then run these substeps:</p>

      <ol><li><p><var>specified browsing context</var>の<a id="the-history-interface:active-document-4" href="browsers.html#active-document">アクティブ文書</a>を<a id="the-history-interface:prompt-to-unload-a-document" href="browsing-the-web.html#prompt-to-unload-a-document">アンロードするように要求する</a>。If the user <a id="the-history-interface:refused-to-allow-the-document-to-be-unloaded" href="browsing-the-web.html#refused-to-allow-the-document-to-be-unloaded">refused to allow the document to be unloaded</a>, then return.<li><p><a href="browsing-the-web.html#unload-a-document" id="the-history-interface:unload-a-document">Unload</a> the <a id="the-history-interface:active-document-5" href="browsers.html#active-document">active document</a> of the <var>specified browsing context</var>.</ol>
     <li><p><a id="the-history-interface:traverse-the-history-2" href="browsing-the-web.html#traverse-the-history">Traverse the history</a> of the <var>specified browsing context</var> to the <var>specified entry</var> with <var><a id="the-history-interface:explicithistorynavigation" href="browsing-the-web.html#explicithistorynavigation">explicitHistoryNavigation</a></var> set to true.</p>
    </ol>
   </ol>

  <p>When the user navigates through a <a id="the-history-interface:browsing-context-6" href="browsers.html#browsing-context">browsing context</a>, e.g. using a browser's back and forward buttons, the user agent must <a href="#traverse-the-history-by-a-delta" id="the-history-interface:traverse-the-history-by-a-delta-4">traverse the history by a delta</a> with a delta equivalent to the action specified by the user and the browsing context being operated on.</p>

  <hr id="history-1">

  <p>The <dfn id="url-and-history-update-steps">URL and history update steps</dfn>, given a <code id="the-history-interface:document-15"><a href="dom.html#document">Document</a></code> <var>document</var>, a <a id="the-history-interface:url" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a> <var>newURL</var>, an optional <a href="#serialized-state" id="the-history-interface:serialized-state-2">serialized state</a>-or-null <dfn id="uhus-serializeddata"><var>serializedData</var></dfn> (default null), and an optional boolean <dfn id="uhus-ispush"><var>isPush</var></dfn> (default false), are:</p>

  <ol><li><p>Let <var>browsingContext</var> be <var>document</var>'s <a href="browsers.html#concept-document-bc" id="the-history-interface:concept-document-bc-5">browsing context</a>.<li><p>If <var>isPush</var> is true, then:</p>

    <ol><li><p>Remove all the entries in <var>browsingContext</var>'s <a href="#session-history" id="the-history-interface:session-history-9">session history</a> after the <a href="#current-entry" id="the-history-interface:current-entry-5">current entry</a>. If the <a href="#current-entry" id="the-history-interface:current-entry-6">current entry</a> is the last entry in the session history, then no entries are removed.</p>

      <p class="note">This <a href="#history-notes">doesn't necessarily have to affect</a> the user agent's user interface.</p>
     <li><p>Remove any <a href="webappapis.html#concept-task" id="the-history-interface:concept-task-5">tasks</a> queued by the <a id="the-history-interface:history-traversal-task-source-2" href="webappapis.html#history-traversal-task-source">history traversal task source</a> that are associated with any <code id="the-history-interface:document-16"><a href="dom.html#document">Document</a></code> objects in the <a id="the-history-interface:top-level-browsing-context-10" href="browsers.html#top-level-browsing-context">top-level browsing context</a>'s <a id="the-history-interface:document-family" href="browsers.html#document-family">document family</a>.<li><p><a id="the-history-interface:save-persisted-state" href="browsing-the-web.html#save-persisted-state">Save persisted state</a> to the <a href="#current-entry" id="the-history-interface:current-entry-7">current entry</a>.<li><p>Add a <a href="#session-history-entry" id="the-history-interface:session-history-entry">session history entry</a> entry to <var>browsingContext</var>'s <a href="#session-history" id="the-history-interface:session-history-10">session history</a>, after the <a href="#current-entry" id="the-history-interface:current-entry-8">current entry</a>, with</p>

      <ul><li><p><var>newURL</var> as the <a href="#she-url" id="the-history-interface:she-url">URL</a>;<li><p><var>document</var> as the <a href="#she-document" id="the-history-interface:she-document">document</a>;<li><p><var>serializedData</var> as the <a href="#she-serialized-state" id="the-history-interface:she-serialized-state">serialized state</a>;<li><p>the <a href="#she-scroll-restoration-mode" id="the-history-interface:she-scroll-restoration-mode-5">scroll restoration mode</a> of the current entry in the <a href="#session-history" id="the-history-interface:session-history-11">session history</a> as the <a href="#she-scroll-restoration-mode" id="the-history-interface:she-scroll-restoration-mode-6">scroll restoration mode</a>.</ul>
     <li><p>Update the <a href="#current-entry" id="the-history-interface:current-entry-9">current entry</a> to be this newly added entry.</ol>
   <li><p>Otherwise:</p>

    <ol><li><p>Let <var>entry</var> be <var>browsingContext</var>'s <a href="#session-history" id="the-history-interface:session-history-12">session history</a>'s <a href="#current-entry" id="the-history-interface:current-entry-10">current entry</a>.<li><p>Set <var>entry</var>'s <a href="#she-url" id="the-history-interface:she-url-2">URL</a> to <var>newURL</var>.<li><p>If <var>serializedData</var> is not null, then set <var>entry</var>'s <a href="#she-serialized-state" id="the-history-interface:she-serialized-state-2">serialized state</a> to <var>serializedData</var>.<li><p>Update <var>entry</var> so that it represents a GET request, if it currently represents a non-GET request (e.g. it was the result of a POST submission).</p>

      <p class="XXX">What does this mean? This is not a part of the definition of <a href="#session-history-entry" id="the-history-interface:session-history-entry-2">session history entry</a>.</p>
     </ol>
   <li><p>Set <var>document</var>'s <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-url" id="the-history-interface:the-document's-address" data-x-internal="the-document's-address">URL</a> to <var>newURL</var>.</p>

    <p class="note">Since this is neither a <a href="browsing-the-web.html#navigate" id="the-history-interface:navigate">navigation</a> of the <a id="the-history-interface:browsing-context-7" href="browsers.html#browsing-context">browsing context</a> nor a <a href="browsing-the-web.html#traverse-the-history" id="the-history-interface:traverse-the-history-3">history traversal</a>, it does not cause a <code id="the-history-interface:event-hashchange"><a href="indices.html#event-hashchange">hashchange</a></code> event to be fired.</p>
   <li><p>If <var>serializedData</var> is not null, then:</p>

    <ol><li><p>Let <var>state</var> be <a id="the-history-interface:structureddeserialize" href="structured-data.html#structureddeserialize">StructuredDeserialize</a>(<var>serializedData</var>, <var>document</var>'s <a href="webappapis.html#concept-relevant-realm" id="the-history-interface:concept-relevant-realm">relevant Realm</a>). If this throws an exception, catch it, ignore the exception, and set <var>state</var> to null.<li><p>Set <var>document</var>'s <code id="the-history-interface:history-3-3"><a href="#history-3">History</a></code> instance's <a href="#concept-history-state" id="the-history-interface:concept-history-state-2">state</a> to <var>state</var>.</ol>
   <li><p>Set the <a href="#current-entry" id="the-history-interface:current-entry-11">current entry</a>'s <a href="#she-document" id="the-history-interface:she-document-2">document</a>'s <a href="#latest-entry" id="the-history-interface:latest-entry">latest entry</a> to the <a href="#current-entry" id="the-history-interface:current-entry-12">current entry</a>.</ol>

  <p>The <dfn data-dfn-for="History" id="dom-history-pushstate" data-dfn-type="method"><code>pushState(<var>data</var>, <var>unused</var>, <var>url</var>)</code></dfn> method steps are to run the <a href="#shared-history-push/replace-state-steps" id="the-history-interface:shared-history-push/replace-state-steps">shared history push/replace state steps</a> given <a id="the-history-interface:this-11" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>, <var>data</var>, <var>url</var>, and true.</p>

  <p>The <dfn data-dfn-for="History" id="dom-history-replacestate" data-dfn-type="method"><code>replaceState(<var>data</var>, <var>unused</var>, <var>url</var>)</code></dfn> method steps are to run the <a href="#shared-history-push/replace-state-steps" id="the-history-interface:shared-history-push/replace-state-steps-2">shared history push/replace state steps</a> given <a id="the-history-interface:this-12" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>, <var>data</var>, <var>url</var>, and false.</p>

  <p>The <dfn id="shared-history-push/replace-state-steps">shared history push/replace state steps</dfn>, given a <code id="the-history-interface:history-3-4"><a href="#history-3">History</a></code> <var>history</var>, a value <var>data</var>, a <a id="the-history-interface:scalar-value-string" href="https://triple-underscore.github.io/infra-ja.html#scalar-value-string" data-x-internal="scalar-value-string">scalar value string</a>-or-null <var>url</var>, and a boolean <var>isPush</var>, are:</p>

  <ol><li><p>Let <var>document</var> be <var>history</var>'s associated <code id="the-history-interface:document-17"><a href="dom.html#document">Document</a></code>.<li><p>If <var>document</var> is not <a id="the-history-interface:fully-active-9" href="browsers.html#fully-active">fully active</a>, then throw a <a id="the-history-interface:securityerror-10" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-history-interface:domexception-10"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Optionally, return. (For example, the user agent might disallow calls to these methods that are invoked on a timer, or from event listeners that are not triggered in response to a clear user action, or that are invoked in rapid succession.)<li><p>Let <var>serializedData</var> be <a id="the-history-interface:structuredserializeforstorage" href="structured-data.html#structuredserializeforstorage">StructuredSerializeForStorage</a>(<var>data</var>). 例外を再度投げる。<li><p>Let <var>newURL</var> be the <a href="#session-history" id="the-history-interface:session-history-13">session history</a>'s <a href="#current-entry" id="the-history-interface:current-entry-13">current entry</a>'s <a href="#she-url" id="the-history-interface:she-url-3">URL</a>.<li><p>If <var>url</var> is not null, then:</p>

    <ol><li><p><a href="urls-and-fetching.html#parse-a-url" id="the-history-interface:parse-a-url">Parse</a> <var>url</var>, relative to the <a id="the-history-interface:relevant-settings-object" href="webappapis.html#relevant-settings-object">relevant settings object</a> of <var>history</var>.<li><p>If that fails, then throw a <a id="the-history-interface:securityerror-11" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-history-interface:domexception-11"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Set <var>newURL</var> to the <a id="the-history-interface:resulting-url-record" href="urls-and-fetching.html#resulting-url-record">resulting URL record</a>.<li><p>If <var>document</var> <a href="#can-have-its-url-rewritten" id="the-history-interface:can-have-its-url-rewritten-3">cannot have its URL rewritten</a> to <var>newURL</var>, then throw a <a id="the-history-interface:securityerror-12" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-history-interface:domexception-12"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.</ol>
   <li><p>Run the <a href="#url-and-history-update-steps" id="the-history-interface:url-and-history-update-steps">URL and history update steps</a> given <var>document</var> and <var>newURL</var>, with <i id="the-history-interface:uhus-serializeddata"><a href="#uhus-serializeddata">serializedData</a></i> set to <var>serializedData</var> and <i id="the-history-interface:uhus-ispush"><a href="#uhus-ispush">isPush</a></i> set to <var>isPush</var>.</ol>

  <p>User agents may limit the number of state objects added to the session history per page. If a page hits the <a id="the-history-interface:implementation-defined" href="https://triple-underscore.github.io/infra-ja.html#implementation-defined" data-x-internal="implementation-defined">implementation-defined</a> limit, user agents must remove the entry immediately after the first entry for that <code id="the-history-interface:document-18"><a href="dom.html#document">Document</a></code> object in the session history after having added the new entry. (Thus the state history acts as a FIFO buffer for eviction, but as a LIFO buffer for navigation.)</p>

  

  <p>A <code id="the-history-interface:document-19"><a href="dom.html#document">Document</a></code> <var>document</var> <dfn id="can-have-its-url-rewritten">can have its URL rewritten</dfn> to a <a id="the-history-interface:url-2" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a> <var>targetURL</var> if the following algorithm returns true:</p>

  <ol><li><p>Let <var>documentURL</var> be <var>document</var>'s <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-url" id="the-history-interface:the-document's-address-2" data-x-internal="the-document's-address">URL</a>.<li><p>If <var>targetURL</var> and <var>documentURL</var> differ in their <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-scheme" id="the-history-interface:concept-url-scheme" data-x-internal="concept-url-scheme">scheme</a>, <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-username" id="the-history-interface:concept-url-username" data-x-internal="concept-url-username">username</a>, <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-password" id="the-history-interface:concept-url-password" data-x-internal="concept-url-password">password</a>, <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-host" id="the-history-interface:concept-url-host" data-x-internal="concept-url-host">host</a>, or <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-port" id="the-history-interface:concept-url-port" data-x-internal="concept-url-port">port</a> components, then return false.<li><p>If <var>targetURL</var>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-scheme" id="the-history-interface:concept-url-scheme-2" data-x-internal="concept-url-scheme">scheme</a> is an <a id="the-history-interface:http(s)-scheme" href="https://triple-underscore.github.io/Fetch-ja.html#http-scheme" data-x-internal="http(s)-scheme">HTTP(S) scheme</a>, then return true. (Differences in <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-path" id="the-history-interface:concept-url-path" data-x-internal="concept-url-path">path</a>, <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-query" id="the-history-interface:concept-url-query" data-x-internal="concept-url-query">query</a>, and <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-fragment" id="the-history-interface:concept-url-fragment" data-x-internal="concept-url-fragment">fragment</a> are allowed for <code id="the-history-interface:http-protocol"><a data-x-internal="http-protocol" href="https://triple-underscore.github.io/RFC7230-ja.html#section-2.7.1">http:</a></code> and <code id="the-history-interface:https-protocol"><a data-x-internal="https-protocol" href="https://triple-underscore.github.io/RFC7230-ja.html#section-2.7.2">https:</a></code> URLs.)<li><p>If <var>targetURL</var>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-scheme" id="the-history-interface:concept-url-scheme-3" data-x-internal="concept-url-scheme">scheme</a> is "<code>file</code>", and <var>targetURL</var> and <var>documentURL</var> differ in their <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-path" id="the-history-interface:concept-url-path-2" data-x-internal="concept-url-path">path</a> component, then return false. (Differences in <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-query" id="the-history-interface:concept-url-query-2" data-x-internal="concept-url-query">query</a> and <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-fragment" id="the-history-interface:concept-url-fragment-2" data-x-internal="concept-url-fragment">fragment</a> are allowed for <code>file:</code> URLs.)<li><p>If <var>targetURL</var> and <var>documentURL</var> differ in their <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-path" id="the-history-interface:concept-url-path-3" data-x-internal="concept-url-path">path</a> component or <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-query" id="the-history-interface:concept-url-query-3" data-x-internal="concept-url-query">query</a> components, then return false. (Only differences in <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-fragment" id="the-history-interface:concept-url-fragment-3" data-x-internal="concept-url-fragment">fragment</a> are allowed for other types of URLs.)<li><p>Return true.</ol>

  <div class="example"><table><thead><tr><th><var>document</var>'s <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-url" id="the-history-interface:the-document's-address-3" data-x-internal="the-document's-address">URL</a><th><var>targetURL</var><th><a href="#can-have-its-url-rewritten" id="the-history-interface:can-have-its-url-rewritten-4">can have its URL rewritten</a><tbody><tr><td><code>https://example.com/home</code><td><code>https://example.com/home#about</code><td>✅<tr><td><code>https://example.com/home</code><td><code>https://example.com/home?page=shop</code><td>✅<tr><td><code>https://example.com/home</code><td><code>https://example.com/shop</code><td>✅<tr><td><code>https://example.com/home</code><td><code>https://user:pass@example.com/home</code><td>❌<tr><td><code>https://example.com/home</code><td><code>http://example.com/home</code><td>❌<tr><td><code>file:///path/to/x</code><td><code>file:///path/to/x#hash</code><td>✅<tr><td><code>file:///path/to/x</code><td><code>file:///path/to/x?search</code><td>✅<tr><td><code>file:///path/to/x</code><td><code>file:///path/to/y</code><td>❌<tr><td><code>about:blank</code><td><code>about:blank#hash</code><td>✅<tr><td><code>about:blank</code><td><code>about:blank?search</code><td>❌<tr><td><code>about:blank</code><td><code>about:srcdoc</code><td>❌<tr><td><code>data:text/html,foo</code><td><code>data:text/html,foo#hash</code><td>✅<tr><td><code>data:text/html,foo</code><td><code>data:text/html,foo?search</code><td>❌<tr><td><code>data:text/html,foo</code><td><code>data:text/html,bar</code><td>❌<tr><td><code>data:text/html,foo</code><td><code>data:bar</code><td>❌<tr><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43</code><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43#hash</code><td>✅<tr><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43</code><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43?search</code><td>❌<tr><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43</code><td><code>blob:https://example.com/anything</code><td>❌<tr><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43</code><td><code>blob:path</code><td>❌</table>

   <p>Note how only the <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-url" id="the-history-interface:the-document's-address-4" data-x-internal="the-document's-address">URL</a> of the <code id="the-history-interface:document-20"><a href="dom.html#document">Document</a></code> matters, and not its <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-history-interface:concept-document-origin" data-x-internal="concept-document-origin">origin</a>. They can mismatch in cases like <code id="the-history-interface:about:blank"><a href="infrastructure.html#about:blank">about:blank</a></code> <code id="the-history-interface:document-21"><a href="dom.html#document">Document</a></code>s with inherited origins, in sandboxed <code id="the-history-interface:the-iframe-element-2"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>s, or when the <code id="the-history-interface:dom-document-domain"><a href="origin.html#dom-document-domain">document.domain</a></code> setter has been used.</p>
  </div>

  <div class="example"><p>ユーザーはいくつかの座標に常にあり、ユーザーが後で再開するための特定の座標に対応するページをブックマークできるような、ユーザーがラインに沿って移動できるゲームを考える。</p>

   <p>そのようなゲームでx=5位置を実装する静的ページは次のようになる：</p>

   <pre><code class='html'><c- cp>&lt;!DOCTYPE HTML></c->
<c- c>&lt;!-- this is https://example.com/line?x=5 --></c->
<c- p>&lt;</c-><c- f>html</c-> <c- e>lang</c-><c- o>=</c-><c- s>"en"</c-><c- p>></c->
<c- p>&lt;</c-><c- f>title</c-><c- p>></c->Line Game - 5<c- p>&lt;/</c-><c- f>title</c-><c- p>></c->
<c- p>&lt;</c-><c- f>p</c-><c- p>></c->You are at coordinate 5 on the line.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
<c- p>&lt;</c-><c- f>p</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>a</c-> <c- e>href</c-><c- o>=</c-><c- s>"?x=6"</c-><c- p>></c->Advance to 6<c- p>&lt;/</c-><c- f>a</c-><c- p>></c-> or
 <c- p>&lt;</c-><c- f>a</c-> <c- e>href</c-><c- o>=</c-><c- s>"?x=4"</c-><c- p>></c->retreat to 4<c- p>&lt;/</c-><c- f>a</c-><c- p>></c->?
<c- p>&lt;/</c-><c- f>p</c-><c- p>></c-></code></pre>

   <p>このようなシステムの問題点は、毎回ユーザーがクリックするとページ全体をリロードする必要があることにある。ここで、代わりにスクリプトを使用して、リロードを行うための別の方法：</p>

   <pre><code class='html'><c- cp>&lt;!DOCTYPE HTML></c->
<c- c>&lt;!-- this starts off as https://example.com/line?x=5 --></c->
<c- p>&lt;</c-><c- f>html</c-> <c- e>lang</c-><c- o>=</c-><c- s>"en"</c-><c- p>></c->
<c- p>&lt;</c-><c- f>title</c-><c- p>></c->Line Game - 5<c- p>&lt;/</c-><c- f>title</c-><c- p>></c->
<c- p>&lt;</c-><c- f>p</c-><c- p>></c->You are at coordinate <c- p>&lt;</c-><c- f>span</c-> <c- e>id</c-><c- o>=</c-><c- s>"coord"</c-><c- p>></c->5<c- p>&lt;/</c-><c- f>span</c-><c- p>></c-> on the line.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
<c- p>&lt;</c-><c- f>p</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>a</c-> <c- e>href</c-><c- o>=</c-><c- s>"?x=6"</c-> <c- e>onclick</c-><c- o>=</c-><c- s>"go(1); return false;"</c-><c- p>></c->Advance to 6<c- p>&lt;/</c-><c- f>a</c-><c- p>></c-> or
 <c- p>&lt;</c-><c- f>a</c-> <c- e>href</c-><c- o>=</c-><c- s>"?x=4"</c-> <c- e>onclick</c-><c- o>=</c-><c- s>"go(-1); return false;"</c-><c- p>></c->retreat to 4<c- p>&lt;/</c-><c- f>a</c-><c- p>></c->?
<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
<c- p>&lt;</c-><c- f>script</c-><c- p>></c->
 <c- a>var</c-> currentPage <c- o>=</c-> <c- mf>5</c-><c- p>;</c-> <c- c1>// prefilled by server</c->
 <c- a>function</c-> go<c- p>(</c->d<c- p>)</c-> <c- p>{</c->
   setupPage<c- p>(</c->currentPage <c- o>+</c-> d<c- p>);</c->
   history<c- p>.</c->pushState<c- p>(</c->currentPage<c- p>,</c-> <c- u>""</c-><c- p>,</c-> <c- t>'?x='</c-> <c- o>+</c-> currentPage<c- p>);</c->
 <c- p>}</c->
 onpopstate <c- o>=</c-> <c- a>function</c-><c- p>(</c->event<c- p>)</c-> <c- p>{</c->
   setupPage<c- p>(</c->event<c- p>.</c->state<c- p>);</c->
 <c- p>}</c->
 <c- a>function</c-> setupPage<c- p>(</c->page<c- p>)</c-> <c- p>{</c->
   currentPage <c- o>=</c-> page<c- p>;</c->
   document<c- p>.</c->title <c- o>=</c-> <c- t>'Line Game - '</c-> <c- o>+</c-> currentPage<c- p>;</c->
   document<c- p>.</c->getElementById<c- p>(</c-><c- t>'coord'</c-><c- p>).</c->textContent <c- o>=</c-> currentPage<c- p>;</c->
   document<c- p>.</c->links<c- p>[</c-><c- mf>0</c-><c- p>].</c->href <c- o>=</c-> <c- t>'?x='</c-> <c- o>+</c-> <c- p>(</c->currentPage<c- o>+</c-><c- mf>1</c-><c- p>);</c->
   document<c- p>.</c->links<c- p>[</c-><c- mf>0</c-><c- p>].</c->textContent <c- o>=</c-> <c- t>'Advance to '</c-> <c- o>+</c-> <c- p>(</c->currentPage<c- o>+</c-><c- mf>1</c-><c- p>);</c->
   document<c- p>.</c->links<c- p>[</c-><c- mf>1</c-><c- p>].</c->href <c- o>=</c-> <c- t>'?x='</c-> <c- o>+</c-> <c- p>(</c->currentPage<c- o>-</c-><c- mf>1</c-><c- p>);</c->
   document<c- p>.</c->links<c- p>[</c-><c- mf>1</c-><c- p>].</c->textContent <c- o>=</c-> <c- t>'retreat to '</c-> <c- o>+</c-> <c- p>(</c->currentPage<c- o>-</c-><c- mf>1</c-><c- p>);</c->
 <c- p>}</c->
<c- p>&lt;/</c-><c- f>script</c-><c- p>></c-></code></pre>

   <p>スクリプトをもたないシステムにおいて、前の例と同じように動作する。しかし、同じ体験に対するネットワークアクセスが存在しないので、スクリプトをサポート<em>する</em>ユーザーは現在はるかに速く移動できる。さらに、経験に反して、ユーザーは単にナイーブなスクリプトベースのアプローチ、ブックマーク、およびセッション履歴の移動が依然として動作する必要がある。</p>

   <p>上記の例において、<code id="the-history-interface:dom-history-pushstate-3"><a href="#dom-history-pushstate">pushState()</a></code>メソッドへの<var>data</var>引数は、サーバーに送信されるものと同じ情報であるが、スクリプトはURLにユーザーが移動するたびに解析する必要はないので、より便利な形式となる。</p>

  </div>

  <div class="example"><p>ほとんどのアプリケーションは、すべての履歴エントリーに同じ<a href="#scroll-restoration-mode" id="the-history-interface:scroll-restoration-mode">スクロール復元モード</a>値を使用したいと考えている。これを実現するために、できるだけ早く<code id="the-history-interface:dom-history-scroll-restoration-3"><a href="#dom-history-scroll-restoration">scrollRestoration</a></code>属性を設定して（たとえば、文書の<code id="the-history-interface:the-head-element"><a href="semantics.html#the-head-element">head</a></code>要素の最初の<code id="the-history-interface:the-script-element"><a href="scripting.html#the-script-element">script</a></code>要素で）、履歴セッションに追加されたエントリーが確実に希望のスクロール復元モードになるようにする。</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>head</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>script</c-><c- p>></c->
       <c- k>if</c-> <c- p>(</c-><c- t>'scrollRestoration'</c-> <c- k>in</c-> history<c- p>)</c->
            history<c- p>.</c->scrollRestoration <c- o>=</c-> <c- t>'manual'</c-><c- p>;</c->
  <c- p>&lt;/</c-><c- f>script</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>head</c-><c- p>></c->
   </code></pre>
  </div>


  

  <h4 id="history-notes"><span class="secno">7.10.4</span> Implementation notes for session history<a href="#history-notes" class="self-link"></a></h4>
  

  <p><i>この節は非規範的である。</i></p>

  <p>The <code id="history-notes:history-3"><a href="#history-3">History</a></code> interface is not meant to place restrictions on how implementations represent the session history to the user.</p>

  <p>For example, session history could be implemented in a tree-like manner, with each page having multiple "forward" pages. This specification doesn't define how the linear list of pages in the <code id="history-notes:dom-history"><a href="#dom-history">history</a></code> object are derived from the actual session history as seen from the user's perspective.</p>

  <p>Similarly, a page containing two <code id="history-notes:the-iframe-element"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>s has a <code id="history-notes:dom-history-2"><a href="#dom-history">history</a></code> object distinct from the <code id="history-notes:the-iframe-element-2"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>s' <code id="history-notes:dom-history-3"><a href="#dom-history">history</a></code> objects, despite the fact that typical web browsers present the user with just one "Back" button, with a session history that interleaves the navigation of the two inner frames and the outer page.</p>


  <p><strong>Security</strong>: It is suggested that to avoid letting a page "hijack" the history navigation facilities of a UA by abusing <code id="history-notes:dom-history-pushstate"><a href="#dom-history-pushstate">pushState()</a></code>, the UA provide the user with a way to jump back to the previous page (rather than just going back to the previous state). For example, the back button could have a drop down showing just the pages in the session history, and not showing any of the states. Similarly, an aural browser could have two "back" commands, one that goes back to the previous state, and one that jumps straight back to the previous page.</p>

  <p>For both <code id="history-notes:dom-history-pushstate-2"><a href="#dom-history-pushstate">pushState()</a></code> and <code id="history-notes:dom-history-replacestate"><a href="#dom-history-replacestate">replaceState()</a></code>, user agents are encouraged to prevent abuse of these APIs via too-frequent calls or over-large state objects. As detailed above, the algorithm explicitly allows user agents to ignore any such calls when appropriate.</p>


  


  <h4 id="the-location-interface"><span class="secno">7.10.5</span> <code id="the-location-interface:location"><a href="#location">Location</a></code>インターフェイス<a href="#the-location-interface" class="self-link"></a></h4><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/location" title="The Document.location read-only property returns a Location object, which contains information about the URL of the document and provides methods for changing that URL and loading another URL.">Document/location</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location" title="The Location interface represents the location (URL) of the object it is linked to. Changes done on it are reflected on the object it relates to. Both the Document and Window interface have such a linked Location, accessible via Document.location and Window.location respectively.">Location</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>3+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/location" title="The Window.location read-only property returns a Location object with information about the current location of the document.">Window/location</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div>

  <p>Each <code id="the-location-interface:window"><a href="window-object.html#window">Window</a></code> object is associated with a unique instance of a <code id="the-location-interface:location-2"><a href="#location">Location</a></code> object, allocated when the <code id="the-location-interface:window-2"><a href="window-object.html#window">Window</a></code> object is created.</p>

  

  <p class="warning">The <code id="the-location-interface:location-3"><a href="#location">Location</a></code> exotic object is defined through a mishmash of IDL, invocation of JavaScript internal methods post-creation, and overridden JavaScript internal methods. Coupled with its scary security policy, please take extra care while implementing this excrescence.</p>

  <p>To create a <code id="the-location-interface:location-4"><a href="#location">Location</a></code> object, run these steps:</p>

  <ol><li><p>Let <var>location</var> be a new <code id="the-location-interface:location-5"><a href="#location">Location</a></code> <a id="the-location-interface:platform-object" href="https://webidl.spec.whatwg.org/#dfn-platform-object" data-x-internal="platform-object">platform object</a>.<li><p>Let <var>valueOf</var> be <var>location</var>'s <a href="webappapis.html#concept-relevant-realm" id="the-location-interface:concept-relevant-realm">relevant Realm</a>.[[Intrinsics]].[[<a id="the-location-interface:object.prototype.valueof" href="https://tc39.es/ecma262/#sec-object.prototype.valueof" data-x-internal="object.prototype.valueof">%Object.prototype.valueOf%</a>]].<li><p>Perform ! <var>location</var>.[[DefineOwnProperty]]("<code>valueOf</code>", { [[Value]]: <var>valueOf</var>, [[Writable]]: false, [[Enumerable]]: false, [[Configurable]]: false }).<li><p>Perform ! <var>location</var>.[[DefineOwnProperty]](<a id="the-location-interface:@@toprimitive" href="infrastructure.html#@@toprimitive">@@toPrimitive</a>, { [[Value]]: undefined, [[Writable]]: false, [[Enumerable]]: false, [[Configurable]]: false }).<li><p>Set the value of the <a href="#defaultproperties" id="the-location-interface:defaultproperties">[[DefaultProperties]]</a> internal slot of <var>location</var> to <var>location</var>.[[OwnPropertyKeys]]().<li><p>Return <var>location</var>.</ol>

  <p class="note">The addition of <code>valueOf</code> and <a id="the-location-interface:@@toprimitive-2" href="infrastructure.html#@@toprimitive">@@toPrimitive</a> own data properties, as well as the fact that all of <code id="the-location-interface:location-6"><a href="#location">Location</a></code>'s IDL attributes are marked <code>[<a id="the-location-interface:legacyunforgeable" href="https://webidl.spec.whatwg.org/#LegacyUnforgeable" data-x-internal="legacyunforgeable">LegacyUnforgeable</a>]</code>, is required by legacy code that consulted the <code id="the-location-interface:location-7"><a href="#location">Location</a></code> interface, or stringified it, to determine the <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-url" id="the-location-interface:the-document's-address" data-x-internal="the-document's-address">document URL</a>, and then used it in a security-sensitive way. In particular, the <code>valueOf</code>, <a id="the-location-interface:@@toprimitive-3" href="infrastructure.html#@@toprimitive">@@toPrimitive</a>, and <code>[<a id="the-location-interface:legacyunforgeable-2" href="https://webidl.spec.whatwg.org/#LegacyUnforgeable" data-x-internal="legacyunforgeable">LegacyUnforgeable</a>]</code> stringifier mitigations ensure that code such as <code>foo[location] = bar</code> or <code>location + ""</code> cannot be misdirected.</p>

  

  <dl class="domintro"><dt><code><var>document</var>.<a href="#dom-document-location" id="dom-document-location-dev">location</a> [ = <var>value</var> ]</code><dt><code><var>window</var>.<a href="#dom-location" id="dom-location-dev">location</a> [ = <var>value</var> ]</code><dd><p>現在のページの位置と<code id="the-location-interface:location-8"><a href="#location">Location</a></code>オブジェクトを返す。</p>

    <p>別のページにナビゲートするために、設定可能である。</p>
   </dl>

  

  <p>The <code id="the-location-interface:document"><a href="dom.html#document">Document</a></code> object's <dfn data-dfn-for="Document" id="dom-document-location" data-dfn-type="attribute"><code>location</code></dfn> getter steps are to return <a id="the-location-interface:this" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a id="the-location-interface:concept-relevant-global" href="webappapis.html#concept-relevant-global">relevant global object</a>'s <code id="the-location-interface:location-9"><a href="#location">Location</a></code> object, if <a id="the-location-interface:this-2" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a> is <a id="the-location-interface:fully-active" href="browsers.html#fully-active">fully active</a>, and null otherwise.</p>

  <p>The <code id="the-location-interface:window-3"><a href="window-object.html#window">Window</a></code> object's <dfn data-dfn-for="Window" id="dom-location" data-dfn-type="attribute"><code>location</code></dfn> getter steps are to return <a id="the-location-interface:this-3" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <code id="the-location-interface:location-10"><a href="#location">Location</a></code> object.</p>

  

  <p><code id="the-location-interface:location-11"><a href="#location">Location</a></code> objects provide a representation of the <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-url" id="the-location-interface:the-document's-address-2" data-x-internal="the-document's-address">URL</a> of the <a id="the-location-interface:active-document" href="browsers.html#active-document">active document</a> of their <code id="the-location-interface:document-2"><a href="dom.html#document">Document</a></code>'s <a href="browsers.html#concept-document-bc" id="the-location-interface:concept-document-bc">browsing context</a>, and allow the <a href="#current-entry" id="the-location-interface:current-entry">current entry</a> of the <a id="the-location-interface:browsing-context" href="browsers.html#browsing-context">browsing context</a>'s session history to be changed, by adding or replacing entries in the <code id="the-location-interface:dom-history"><a href="#dom-history">history</a></code> object.</p>

  <pre><code class='idl'>[<c- g>Exposed</c->=<c- n>Window</c->]
<c- b>interface</c-> <dfn id='location' data-dfn-type='interface'><c- g>Location</c-></dfn> { // but see also <a href='#the-location-interface'>additional creation steps</a> and <a href='#location-internal-methods'>overridden internal methods</a>
  [<a id='the-location-interface:legacyunforgeable-3' href='https://webidl.spec.whatwg.org/#LegacyUnforgeable' data-x-internal='legacyunforgeable'><c- g>LegacyUnforgeable</c-></a>] <c- b>stringifier</c-> <c- b>attribute</c-> <c- b>USVString</c-> <a href='#dom-location-href' id='the-location-interface:dom-location-href'><c- g>href</c-></a>;
  [<a id='the-location-interface:legacyunforgeable-4' href='https://webidl.spec.whatwg.org/#LegacyUnforgeable' data-x-internal='legacyunforgeable'><c- g>LegacyUnforgeable</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <c- b>USVString</c-> <a href='#dom-location-origin' id='the-location-interface:dom-location-origin'><c- g>origin</c-></a>;
  [<a id='the-location-interface:legacyunforgeable-5' href='https://webidl.spec.whatwg.org/#LegacyUnforgeable' data-x-internal='legacyunforgeable'><c- g>LegacyUnforgeable</c-></a>] <c- b>attribute</c-> <c- b>USVString</c-> <a href='#dom-location-protocol' id='the-location-interface:dom-location-protocol'><c- g>protocol</c-></a>;
  [<a id='the-location-interface:legacyunforgeable-6' href='https://webidl.spec.whatwg.org/#LegacyUnforgeable' data-x-internal='legacyunforgeable'><c- g>LegacyUnforgeable</c-></a>] <c- b>attribute</c-> <c- b>USVString</c-> <a href='#dom-location-host' id='the-location-interface:dom-location-host'><c- g>host</c-></a>;
  [<a id='the-location-interface:legacyunforgeable-7' href='https://webidl.spec.whatwg.org/#LegacyUnforgeable' data-x-internal='legacyunforgeable'><c- g>LegacyUnforgeable</c-></a>] <c- b>attribute</c-> <c- b>USVString</c-> <a href='#dom-location-hostname' id='the-location-interface:dom-location-hostname'><c- g>hostname</c-></a>;
  [<a id='the-location-interface:legacyunforgeable-8' href='https://webidl.spec.whatwg.org/#LegacyUnforgeable' data-x-internal='legacyunforgeable'><c- g>LegacyUnforgeable</c-></a>] <c- b>attribute</c-> <c- b>USVString</c-> <a href='#dom-location-port' id='the-location-interface:dom-location-port'><c- g>port</c-></a>;
  [<a id='the-location-interface:legacyunforgeable-9' href='https://webidl.spec.whatwg.org/#LegacyUnforgeable' data-x-internal='legacyunforgeable'><c- g>LegacyUnforgeable</c-></a>] <c- b>attribute</c-> <c- b>USVString</c-> <a href='#dom-location-pathname' id='the-location-interface:dom-location-pathname'><c- g>pathname</c-></a>;
  [<a id='the-location-interface:legacyunforgeable-10' href='https://webidl.spec.whatwg.org/#LegacyUnforgeable' data-x-internal='legacyunforgeable'><c- g>LegacyUnforgeable</c-></a>] <c- b>attribute</c-> <c- b>USVString</c-> <a href='#dom-location-search' id='the-location-interface:dom-location-search'><c- g>search</c-></a>;
  [<a id='the-location-interface:legacyunforgeable-11' href='https://webidl.spec.whatwg.org/#LegacyUnforgeable' data-x-internal='legacyunforgeable'><c- g>LegacyUnforgeable</c-></a>] <c- b>attribute</c-> <c- b>USVString</c-> <a href='#dom-location-hash' id='the-location-interface:dom-location-hash'><c- g>hash</c-></a>;

  [<a id='the-location-interface:legacyunforgeable-12' href='https://webidl.spec.whatwg.org/#LegacyUnforgeable' data-x-internal='legacyunforgeable'><c- g>LegacyUnforgeable</c-></a>] <c- b>undefined</c-> <a href='#dom-location-assign' id='the-location-interface:dom-location-assign'><c- g>assign</c-></a>(<c- b>USVString</c-> <c- g>url</c->);
  [<a id='the-location-interface:legacyunforgeable-13' href='https://webidl.spec.whatwg.org/#LegacyUnforgeable' data-x-internal='legacyunforgeable'><c- g>LegacyUnforgeable</c-></a>] <c- b>undefined</c-> <a href='#dom-location-replace' id='the-location-interface:dom-location-replace'><c- g>replace</c-></a>(<c- b>USVString</c-> <c- g>url</c->);
  [<a id='the-location-interface:legacyunforgeable-14' href='https://webidl.spec.whatwg.org/#LegacyUnforgeable' data-x-internal='legacyunforgeable'><c- g>LegacyUnforgeable</c-></a>] <c- b>undefined</c-> <a href='#dom-location-reload' id='the-location-interface:dom-location-reload'><c- g>reload</c-></a>();

  [<a id='the-location-interface:legacyunforgeable-15' href='https://webidl.spec.whatwg.org/#LegacyUnforgeable' data-x-internal='legacyunforgeable'><c- g>LegacyUnforgeable</c-></a>, <c- g>SameObject</c->] <c- b>readonly</c-> <c- b>attribute</c-> <a id='the-location-interface:domstringlist' href='common-dom-interfaces.html#domstringlist'><c- n>DOMStringList</c-></a> <a href='#dom-location-ancestororigins' id='the-location-interface:dom-location-ancestororigins'><c- g>ancestorOrigins</c-></a>;
};</code></pre>

  <dl class="domintro"><dt><code><var>location</var>.<span>toString()</span></code><dt><code><var>location</var>.<a href="#dom-location-href" id="dom-location-href-dev">href</a></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/href" title="The href property of the Location interface is a stringifier that returns a USVString containing the whole URL, and allows the href to be updated.">Location/href</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>3+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/toString" title="The toString() stringifier method of the Location interface returns a USVString containing the whole URL. It is a read-only version of Location.href.">Location/toString</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>22+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>52+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>11</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>22+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>52+</span></span><span class="webview_android yes"><span>WebView Android</span><span>52+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>6.0+</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><dd><p><code id="the-location-interface:location-12"><a href="#location">Location</a></code>オブジェクトのURLを返す。</p>

    <p>与えられたURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<a href="#dom-location-origin" id="dom-location-origin-dev">origin</a></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/origin" title="The origin read-only property of the Location interface is a USVString containing the Unicode serialization of the origin of the represented URL.">Location/origin</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>21+</span></span><span class="safari yes"><span>Safari</span><span>5.1+</span></span><span class="chrome yes"><span>Chrome</span><span>8+</span></span><hr><span class="opera yes"><span>Opera</span><span>15+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>11</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>21+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>5+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>14+</span></span></div></div></div><dd><p><code id="the-location-interface:location-13"><a href="#location">Location</a></code>オブジェクトの生成元を返す。<dt><code><var>location</var>.<a href="#dom-location-protocol" id="dom-location-protocol-dev">protocol</a></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/protocol" title="The protocol property of the Location interface is a USVString representing the protocol scheme of the URL, including the final ':'.">Location/protocol</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>3+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><dd><p><code id="the-location-interface:location-14"><a href="#location">Location</a></code>オブジェクトのスキームを返す。</p>

    <p>変更されたスキームと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<a href="#dom-location-host" id="dom-location-host-dev">host</a></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/host" title="The host property of the Location interface is a USVString containing the host, that is the hostname, and then, if the port of the URL is nonempty, a ':', and the port of the URL.">Location/host</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>3+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><dd><p><code id="the-location-interface:location-15"><a href="#location">Location</a></code>オブジェクトのURLのホストとポートを返す（スキームのデフォルトポートと異なる場合）。</p>

    <p>変更されたホストおよびポートと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<a href="#dom-location-hostname" id="dom-location-hostname-dev">hostname</a></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/hostname" title="The hostname property of the Location interface is a USVString containing the domain of the URL.">Location/hostname</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>3+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><dd><p><code id="the-location-interface:location-16"><a href="#location">Location</a></code>オブジェクトのホストを返す。</p>

    <p>変更されたホストと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<a href="#dom-location-port" id="dom-location-port-dev">port</a></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/port" title="The port property of the Location interface is a USVString containing the port number of the URL. If the URL does not contain an explicit port number, it will be set to ''.">Location/port</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>3+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><dd><p><code id="the-location-interface:location-17"><a href="#location">Location</a></code>オブジェクトのポートを返す。</p>

    <p>変更されたポートと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<a href="#dom-location-pathname" id="dom-location-pathname-dev">pathname</a></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/pathname" title="The pathname property of the Location interface is a USVString containing the path of the URL for the location, which will be the empty string if there is no path.">Location/pathname</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>3+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><dd><p><code id="the-location-interface:location-18"><a href="#location">Location</a></code>オブジェクトのパスを返す。</p>

    <p>変更されたパスと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<a href="#dom-location-search" id="dom-location-search-dev">search</a></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/search" title="The search property of the Location interface is a search string, also called a query string; that is, a USVString containing a '?' followed by the parameters of the URL.">Location/search</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>3+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><dd><p><code id="the-location-interface:location-19"><a href="#location">Location</a></code>オブジェクトのURLのクエリーを返す（空でない場合は先頭の"<code>?</code>"を含む）。</p>

    <p>（先頭の"<code>?</code>"を無視して）変更されたクエリーと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<a href="#dom-location-hash" id="dom-location-hash-dev">hash</a></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/hash" title="The hash property of the Location interface returns a USVString containing a '#' followed by the fragment identifier of the URL — the ID on the page that the URL is trying to target.">Location/hash</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>3+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><dd><p><code id="the-location-interface:location-20"><a href="#location">Location</a></code>オブジェクトのURLのフラグメントを返す（空でない場合は先頭の"<code>#</code>"を含む）。</p>

    <p>（先頭の"<code>#</code>"を無視して）変更されたフラグメントと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<a href="#dom-location-assign" id="dom-location-assign-dev">assign</a>(<var>url</var>)</code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/assign" title="The Location.assign() method causes the window to load and display the document at the URL specified. After the navigation occurs, the user can navigate back to the page that called Location.assign() by pressing the "back" button.">Location/assign</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>3+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>5.5+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div><dd><p>与えられたURLにナビゲートする。<dt><code><var>location</var>.<a href="#dom-location-replace" id="dom-location-replace-dev">replace</a>(<var>url</var>)</code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/replace" title="The replace() method of the Location interface replaces the current resource with the one at the provided URL. The difference from the assign() method is that after using replace() the current page will not be saved in session History, meaning the user won't be able to use the back button to navigate to it.">Location/replace</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>5.5+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div><dd><p>セッション履歴から現在のページを削除し、与えられたURLにナビゲートする。<dt><code><var>location</var>.<a href="#dom-location-reload" id="dom-location-reload-dev">reload</a>()</code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/reload" title="The location.reload() method reloads the current URL, like the Refresh button.">Location/reload</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>5.5+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div><dd><p>現在のページをリロードする。<dt><code><var>location</var>.<a href="#dom-location-ancestororigins" id="dom-location-ancestororigins-dev">ancestorOrigins</a></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/ancestorOrigins" title="The ancestorOrigins read-only property of the Location interface is a static DOMStringList containing, in reverse order, the origins of all ancestor browsing contexts of the document associated with the given Location object.">Location/ancestorOrigins</a><div class="support"><span class="firefox no"><span>Firefox</span><span>No</span></span><span class="safari yes"><span>Safari</span><span>6+</span></span><span class="chrome yes"><span>Chrome</span><span>20+</span></span><hr><span class="opera yes"><span>Opera</span><span>15+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge no"><span>Edge (Legacy)</span><span>No</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android no"><span>Firefox Android</span><span>No</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>6+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>25+</span></span><span class="webview_android yes"><span>WebView Android</span><span>4.4+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.5+</span></span><span class="opera_android yes"><span>Opera Android</span><span>14+</span></span></div></div></div><dd><p><a id="the-location-interface:parent-browsing-context" href="browsers.html#parent-browsing-context">親ブラウジングコンテキスト</a>から<a id="the-location-interface:top-level-browsing-context" href="browsers.html#top-level-browsing-context">トップレベルブラウジングコンテキスト</a>まで、祖先<a href="browsers.html#browsing-context" id="the-location-interface:browsing-context-2">ブラウジングコンテキスト</a>の生成元を列挙する<code id="the-location-interface:domstringlist-2"><a href="common-dom-interfaces.html#domstringlist">DOMStringList</a></code>オブジェクトを返す。</p>
   </dl>

  

  <p>A <code id="the-location-interface:location-21"><a href="#location">Location</a></code> object has an associated <dfn id="relevant-document">relevant <code>Document</code></dfn>, which is this <code id="the-location-interface:location-22"><a href="#location">Location</a></code> object's <a id="the-location-interface:concept-relevant-global-2" href="webappapis.html#concept-relevant-global">relevant global object</a>'s <a href="window-object.html#window-bc" id="the-location-interface:window-bc">browsing context</a>'s <a id="the-location-interface:active-document-2" href="browsers.html#active-document">active document</a>, if this <code id="the-location-interface:location-23"><a href="#location">Location</a></code> object's <a id="the-location-interface:concept-relevant-global-3" href="webappapis.html#concept-relevant-global">relevant global object</a>'s <a href="window-object.html#window-bc" id="the-location-interface:window-bc-2">browsing context</a> is non-null, and null otherwise.</p>

  <p>A <code id="the-location-interface:location-24"><a href="#location">Location</a></code> object has an associated <dfn id="concept-location-url">url</dfn>, which is this <code id="the-location-interface:location-25"><a href="#location">Location</a></code> object's <a href="#relevant-document" id="the-location-interface:relevant-document">relevant <code>Document</code></a>'s <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-url" id="the-location-interface:the-document's-address-3" data-x-internal="the-document's-address">URL</a>, if this <code id="the-location-interface:location-26"><a href="#location">Location</a></code> object's <a href="#relevant-document" id="the-location-interface:relevant-document-2">relevant <code>Document</code></a> is non-null, and <code id="the-location-interface:about:blank"><a href="infrastructure.html#about:blank">about:blank</a></code> otherwise.</p>

  <p>A <code id="the-location-interface:location-27"><a href="#location">Location</a></code> object has an associated <dfn id="concept-location-ancestor-origins-list">ancestor origins list</dfn>. When a <code id="the-location-interface:location-28"><a href="#location">Location</a></code> object is created, its <a href="#concept-location-ancestor-origins-list" id="the-location-interface:concept-location-ancestor-origins-list">ancestor origins list</a> must be set to a <code id="the-location-interface:domstringlist-3"><a href="common-dom-interfaces.html#domstringlist">DOMStringList</a></code> object whose associated list is the <a id="the-location-interface:list" href="https://triple-underscore.github.io/infra-ja.html#list" data-x-internal="list">list</a> of strings that the following steps would produce:</p>

  <ol><li><p>Let <var>output</var> be a new <a id="the-location-interface:list-2" href="https://triple-underscore.github.io/infra-ja.html#list" data-x-internal="list">list</a> of strings.<li><p>Let <var>current</var> be the <a href="browsers.html#concept-document-bc" id="the-location-interface:concept-document-bc-2">browsing context</a> of the <code id="the-location-interface:document-3"><a href="dom.html#document">Document</a></code> with which this <code id="the-location-interface:location-29"><a href="#location">Location</a></code> object is associated.<li><p><i>Loop</i>: If <var>current</var> has no <a id="the-location-interface:parent-browsing-context-2" href="browsers.html#parent-browsing-context">parent browsing context</a>, jump to the step labeled <i>end</i>.<li><p>Let <var>current</var> be <var>current</var>'s <a id="the-location-interface:parent-browsing-context-3" href="browsers.html#parent-browsing-context">parent browsing context</a>.<li><p><a href="https://triple-underscore.github.io/infra-ja.html#list-append" id="the-location-interface:list-append" data-x-internal="list-append">Append</a> the <a href="origin.html#ascii-serialisation-of-an-origin" id="the-location-interface:ascii-serialisation-of-an-origin">serialization</a> of <var>current</var>'s <a id="the-location-interface:active-document-3" href="browsers.html#active-document">active document</a>'s <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin" data-x-internal="concept-document-origin">origin</a> to <var>output</var>.<li><p><i>loop</i>にラベル付けされた手順に戻る。<li><p><i>End</i>: Return <var>output</var>.</ol>

  <p>To <dfn id="location-object-navigate"><code>Location</code>-object navigate</dfn>, given a <a id="the-location-interface:url" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a> <var>url</var> and an optional <a id="the-location-interface:history-handling-behavior" href="browsing-the-web.html#history-handling-behavior">history handling behavior</a> <var>historyHandling</var> (default "<code id="the-location-interface:hh-default"><a href="browsing-the-web.html#hh-default">default</a></code>"):</p>

  <ol><li><p>Let <var>browsingContext</var> be this <code id="the-location-interface:location-30"><a href="#location">Location</a></code> object's <a id="the-location-interface:concept-relevant-global-4" href="webappapis.html#concept-relevant-global">relevant global object</a>'s <a href="window-object.html#window-bc" id="the-location-interface:window-bc-3">browsing context</a>.<li><p>Let <var>sourceBrowsingContext</var> be the <a href="webappapis.html#concept-incumbent-global" id="the-location-interface:concept-incumbent-global">incumbent global object</a>'s <a href="window-object.html#window-bc" id="the-location-interface:window-bc-4">browsing context</a>.<li><p>If <var>browsingContext</var> is <a id="the-location-interface:still-on-its-initial-about:blank-document" href="dom.html#still-on-its-initial-about:blank-document">still on its initial <code>about:blank</code> <code>Document</code></a>, then set <var>historyHandling</var> to "<code id="the-location-interface:hh-replace"><a href="browsing-the-web.html#hh-replace">replace</a></code>".<li><p>If this <code id="the-location-interface:location-31"><a href="#location">Location</a></code> object's <a href="#relevant-document" id="the-location-interface:relevant-document-3">relevant <code>Document</code></a> is not yet <a id="the-location-interface:completely-loaded" href="browsing-the-web.html#completely-loaded">completely loaded</a>, and the <a href="webappapis.html#concept-incumbent-global" id="the-location-interface:concept-incumbent-global-2">incumbent global object</a> does not have <a id="the-location-interface:transient-activation" href="interaction.html#transient-activation">transient activation</a>, then set <var>historyHandling</var> to "<code id="the-location-interface:hh-replace-2"><a href="browsing-the-web.html#hh-replace">replace</a></code>".<li><p><a id="the-location-interface:navigate" href="browsing-the-web.html#navigate">Navigate</a> <var>browsingContext</var> to <var>url</var>, with <var><a id="the-location-interface:exceptions-enabled" href="browsing-the-web.html#exceptions-enabled">exceptionsEnabled</a></var> set to true, <var id="the-location-interface:navigation-hh"><a href="browsing-the-web.html#navigation-hh">historyHandling</a></var> set to <var>historyHandling</var>, and the <a id="the-location-interface:source-browsing-context" href="browsing-the-web.html#source-browsing-context">source browsing context</a> set to <var>sourceBrowsingContext</var>.</ol>

  <p>The <dfn data-dfn-for="Location" id="dom-location-href" data-dfn-type="attribute"><code>href</code></dfn> getter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-4" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-4">relevant <code>Document</code></a> is non-null and its <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-2" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin">origin</a>, then throw a <a id="the-location-interface:securityerror" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Return <a id="the-location-interface:this-5" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url">url</a>, <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-serializer" id="the-location-interface:concept-url-serializer" data-x-internal="concept-url-serializer">serialized</a>.</ol>

  <p>The <code id="the-location-interface:dom-location-href-2"><a href="#dom-location-href">href</a></code> setter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-6" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-5">relevant <code>Document</code></a> is null, then return.<li><p><a href="urls-and-fetching.html#parse-a-url" id="the-location-interface:parse-a-url">Parse</a> the given value relative to the <a id="the-location-interface:entry-settings-object-2" href="webappapis.html#entry-settings-object">entry settings object</a>. If that failed, throw a <code id="the-location-interface:typeerror"><a data-x-internal="typeerror" href="https://tc39.es/ecma262/#sec-native-error-types-used-in-this-standard-typeerror">TypeError</a></code> exception.<li><p><a href="#location-object-navigate" id="the-location-interface:location-object-navigate"><code>Location</code>-object navigate</a> given the <a id="the-location-interface:resulting-url-record" href="urls-and-fetching.html#resulting-url-record">resulting URL record</a>.</ol>

  <p class="note">The <code id="the-location-interface:dom-location-href-3"><a href="#dom-location-href">href</a></code> setter intentionally has no security check.</p>

  <p>The <dfn data-dfn-for="Location" id="dom-location-origin" data-dfn-type="attribute"><code>origin</code></dfn> getter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-7" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-6">relevant <code>Document</code></a> is non-null and its <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-3" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-2" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-3" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-2">origin</a>, then throw a <a id="the-location-interface:securityerror-2" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-2"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Return the <a href="origin.html#ascii-serialisation-of-an-origin" id="the-location-interface:ascii-serialisation-of-an-origin-2">serialization</a> of <a id="the-location-interface:this-8" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-2">url</a>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-origin" id="the-location-interface:concept-url-origin" data-x-internal="concept-url-origin">origin</a>.</ol>

  <p>The <dfn data-dfn-for="Location" id="dom-location-protocol" data-dfn-type="attribute"><code>protocol</code></dfn> getter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-9" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-7">relevant <code>Document</code></a> is non-null and its <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-4" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-3" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-4" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-3">origin</a>, then throw a <a id="the-location-interface:securityerror-3" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-3"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Return <a id="the-location-interface:this-10" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-3">url</a>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-scheme" id="the-location-interface:concept-url-scheme" data-x-internal="concept-url-scheme">scheme</a>, followed by "<code>:</code>".</ol>

  <p>The <code id="the-location-interface:dom-location-protocol-2"><a href="#dom-location-protocol">protocol</a></code> setter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-11" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-8">relevant <code>Document</code></a> is null, then return.<li><p>If <a id="the-location-interface:this-12" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-9">relevant <code>Document</code></a>'s <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-5" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-4" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-5" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-4">origin</a>, then throw a <a id="the-location-interface:securityerror-4" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-4"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Let <var>copyURL</var> be a copy of <a id="the-location-interface:this-13" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-4">url</a>.<li><p>Let <var>possibleFailure</var> be the result of <a href="https://triple-underscore.github.io/URL-ja.html#concept-basic-url-parser" id="the-location-interface:basic-url-parser" data-x-internal="basic-url-parser">basic URL parsing</a> the given value, followed by "<code>:</code>", with <var>copyURL</var> as <a href="https://url.spec.whatwg.org/#basic-url-parser-url" id="the-location-interface:basic-url-parser-url" data-x-internal="basic-url-parser-url"><i>url</i></a> and <a id="the-location-interface:scheme-start-state" href="https://triple-underscore.github.io/URL-ja.html#scheme-start-state" data-x-internal="scheme-start-state">scheme start state</a> as <a href="https://url.spec.whatwg.org/#basic-url-parser-state-override" id="the-location-interface:basic-url-parser-state-override" data-x-internal="basic-url-parser-state-override"><i>state override</i></a>.</p>

    <p class="note">Because the URL parser ignores multiple consecutive colons, providing a value of "<code>https:</code>" (or even "<code>https::::</code>") is the same as providing a value of "<code>https</code>".</p>
   <li><p>If <var>possibleFailure</var> is failure, then throw a <a id="the-location-interface:syntaxerror" href="https://webidl.spec.whatwg.org/#syntaxerror" data-x-internal="syntaxerror">"<code>SyntaxError</code>"</a> <code id="the-location-interface:domexception-5"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>If <var>copyURL</var>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-scheme" id="the-location-interface:concept-url-scheme-2" data-x-internal="concept-url-scheme">scheme</a> is not an <a id="the-location-interface:http(s)-scheme" href="https://triple-underscore.github.io/Fetch-ja.html#http-scheme" data-x-internal="http(s)-scheme">HTTP(S) scheme</a>, then terminate these steps.<li><p><a href="#location-object-navigate" id="the-location-interface:location-object-navigate-2"><code>Location</code>-object navigate</a> to <var>copyURL</var>.</ol>

  <p>The <dfn data-dfn-for="Location" id="dom-location-host" data-dfn-type="attribute"><code>host</code></dfn> getter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-14" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-10">relevant <code>Document</code></a> is non-null and its <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-6" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-5" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-6" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-5">origin</a>, then throw a <a id="the-location-interface:securityerror-5" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-6"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Let <var>url</var> be <a id="the-location-interface:this-15" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-5">url</a>.<li><p>If <var>url</var>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-host" id="the-location-interface:concept-url-host" data-x-internal="concept-url-host">host</a> is null, return the empty string.<li><p>If <var>url</var>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-port" id="the-location-interface:concept-url-port" data-x-internal="concept-url-port">port</a> is null, return <var>url</var>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-host" id="the-location-interface:concept-url-host-2" data-x-internal="concept-url-host">host</a>, <a href="https://triple-underscore.github.io/URL-ja.html#concept-host-serializer" id="the-location-interface:host-serializer" data-x-internal="host-serializer">serialized</a>.<li><p>Return <var>url</var>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-host" id="the-location-interface:concept-url-host-3" data-x-internal="concept-url-host">host</a>, <a href="https://triple-underscore.github.io/URL-ja.html#concept-host-serializer" id="the-location-interface:host-serializer-2" data-x-internal="host-serializer">serialized</a>, followed by "<code>:</code>" and <var>url</var>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-port" id="the-location-interface:concept-url-port-2" data-x-internal="concept-url-port">port</a>, <a href="https://triple-underscore.github.io/URL-ja.html#serialize-an-integer" id="the-location-interface:serialize-an-integer" data-x-internal="serialize-an-integer">serialized</a>.</ol>

  <p>The <code id="the-location-interface:dom-location-host-2"><a href="#dom-location-host">host</a></code> setter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-16" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-11">relevant <code>Document</code></a> is null, then return.<li><p>If <a id="the-location-interface:this-17" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-12">relevant <code>Document</code></a>'s <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-7" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-6" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-7" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-6">origin</a>, then throw a <a id="the-location-interface:securityerror-6" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-7"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Let <var>copyURL</var> be a copy of <a id="the-location-interface:this-18" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-6">url</a>.<li><p>If <var>copyURL</var> has an <a id="the-location-interface:opaque-path" href="https://url.spec.whatwg.org/#url-opaque-path" data-x-internal="opaque-path">opaque path</a>, then return.<li><p><a href="https://triple-underscore.github.io/URL-ja.html#concept-basic-url-parser" id="the-location-interface:basic-url-parser-2" data-x-internal="basic-url-parser">Basic URL parse</a> the given value, with <var>copyURL</var> as <a href="https://url.spec.whatwg.org/#basic-url-parser-url" id="the-location-interface:basic-url-parser-url-2" data-x-internal="basic-url-parser-url"><i>url</i></a> and <a id="the-location-interface:host-state" href="https://triple-underscore.github.io/URL-ja.html#host-state" data-x-internal="host-state">host state</a> as <a href="https://url.spec.whatwg.org/#basic-url-parser-state-override" id="the-location-interface:basic-url-parser-state-override-2" data-x-internal="basic-url-parser-state-override"><i>state override</i></a>.<li><p><a href="#location-object-navigate" id="the-location-interface:location-object-navigate-3"><code>Location</code>-object navigate</a> to <var>copyURL</var>.</ol>

  <p>The <dfn data-dfn-for="Location" id="dom-location-hostname" data-dfn-type="attribute"><code>hostname</code></dfn> getter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-19" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-13">relevant <code>Document</code></a> is non-null and its <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-8" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-7" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-8" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-7">origin</a>, then throw a <a id="the-location-interface:securityerror-7" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-8"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>If <a id="the-location-interface:this-20" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-7">url</a>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-host" id="the-location-interface:concept-url-host-4" data-x-internal="concept-url-host">host</a> is null, return the empty string.<li><p>Return <a id="the-location-interface:this-21" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-8">url</a>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-host" id="the-location-interface:concept-url-host-5" data-x-internal="concept-url-host">host</a>, <a href="https://triple-underscore.github.io/URL-ja.html#concept-host-serializer" id="the-location-interface:host-serializer-3" data-x-internal="host-serializer">serialized</a>.</ol>

  <p>The <code id="the-location-interface:dom-location-hostname-2"><a href="#dom-location-hostname">hostname</a></code> setter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-22" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-14">relevant <code>Document</code></a> is null, then return.<li><p>If <a id="the-location-interface:this-23" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-15">relevant <code>Document</code></a>'s <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-9" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-8" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-9" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-8">origin</a>, then throw a <a id="the-location-interface:securityerror-8" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-9"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Let <var>copyURL</var> be a copy of <a id="the-location-interface:this-24" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-9">url</a>.<li><p>If <var>copyURL</var> has an <a id="the-location-interface:opaque-path-2" href="https://url.spec.whatwg.org/#url-opaque-path" data-x-internal="opaque-path">opaque path</a>, then return.<li><p><a href="https://triple-underscore.github.io/URL-ja.html#concept-basic-url-parser" id="the-location-interface:basic-url-parser-3" data-x-internal="basic-url-parser">Basic URL parse</a> the given value, with <var>copyURL</var> as <a href="https://url.spec.whatwg.org/#basic-url-parser-url" id="the-location-interface:basic-url-parser-url-3" data-x-internal="basic-url-parser-url"><i>url</i></a> and <a id="the-location-interface:hostname-state" href="https://triple-underscore.github.io/URL-ja.html#hostname-state" data-x-internal="hostname-state">hostname state</a> as <a href="https://url.spec.whatwg.org/#basic-url-parser-state-override" id="the-location-interface:basic-url-parser-state-override-3" data-x-internal="basic-url-parser-state-override"><i>state override</i></a>.<li><p><a href="#location-object-navigate" id="the-location-interface:location-object-navigate-4"><code>Location</code>-object navigate</a> to <var>copyURL</var>.</ol>

  <p>The <dfn data-dfn-for="Location" id="dom-location-port" data-dfn-type="attribute"><code>port</code></dfn> getter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-25" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-16">relevant <code>Document</code></a> is non-null and its <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-10" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-9" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-10" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-9">origin</a>, then throw a <a id="the-location-interface:securityerror-9" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-10"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>If <a id="the-location-interface:this-26" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-10">url</a>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-port" id="the-location-interface:concept-url-port-3" data-x-internal="concept-url-port">port</a> is null, return the empty string.<li><p>Return <a id="the-location-interface:this-27" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-11">url</a>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-port" id="the-location-interface:concept-url-port-4" data-x-internal="concept-url-port">port</a>, <a href="https://triple-underscore.github.io/URL-ja.html#serialize-an-integer" id="the-location-interface:serialize-an-integer-2" data-x-internal="serialize-an-integer">serialized</a>.</ol>

  <p>The <code id="the-location-interface:dom-location-port-2"><a href="#dom-location-port">port</a></code> setter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-28" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-17">relevant <code>Document</code></a> is null, then return.<li><p>If <a id="the-location-interface:this-29" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-18">relevant <code>Document</code></a>'s <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-11" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-10" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-11" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-10">origin</a>, then throw a <a id="the-location-interface:securityerror-10" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-11"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Let <var>copyURL</var> be a copy of <a id="the-location-interface:this-30" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-12">url</a>.<li><p>If <var>copyURL</var> <a id="the-location-interface:cannot-have-a-username/password/port" href="https://triple-underscore.github.io/URL-ja.html#cannot-have-a-username-password-port" data-x-internal="cannot-have-a-username/password/port">cannot have a username/password/port</a>, then return.<li><p>If the given value is the empty string, then set <var>copyURL</var>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-port" id="the-location-interface:concept-url-port-5" data-x-internal="concept-url-port">port</a> to null.<li><p>Otherwise, <a href="https://triple-underscore.github.io/URL-ja.html#concept-basic-url-parser" id="the-location-interface:basic-url-parser-4" data-x-internal="basic-url-parser">basic URL parse</a> the given value, with <var>copyURL</var> as <a href="https://url.spec.whatwg.org/#basic-url-parser-url" id="the-location-interface:basic-url-parser-url-4" data-x-internal="basic-url-parser-url"><i>url</i></a> and <a id="the-location-interface:port-state" href="https://triple-underscore.github.io/URL-ja.html#port-state" data-x-internal="port-state">port state</a> as <a href="https://url.spec.whatwg.org/#basic-url-parser-state-override" id="the-location-interface:basic-url-parser-state-override-4" data-x-internal="basic-url-parser-state-override"><i>state override</i></a>.<li><p><a href="#location-object-navigate" id="the-location-interface:location-object-navigate-5"><code>Location</code>-object navigate</a> to <var>copyURL</var>.</ol>

  <p>The <dfn data-dfn-for="Location" id="dom-location-pathname" data-dfn-type="attribute"><code>pathname</code></dfn> getter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-31" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-19">relevant <code>Document</code></a> is non-null and its <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-12" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-11" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-12" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-11">origin</a>, then throw a <a id="the-location-interface:securityerror-11" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-12"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Return the result of <a href="https://url.spec.whatwg.org/#url-path-serializer" id="the-location-interface:url-path-serializer" data-x-internal="url-path-serializer">URL path serializing</a> this <code id="the-location-interface:location-32"><a href="#location">Location</a></code> object's <a href="#concept-location-url" id="the-location-interface:concept-location-url-13">url</a>.</ol>

  <p>The <code id="the-location-interface:dom-location-pathname-2"><a href="#dom-location-pathname">pathname</a></code> setter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-32" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-20">relevant <code>Document</code></a> is null, then return.<li><p>If <a id="the-location-interface:this-33" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-21">relevant <code>Document</code></a>'s <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-13" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-12" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-13" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-12">origin</a>, then throw a <a id="the-location-interface:securityerror-12" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-13"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Let <var>copyURL</var> be a copy of <a id="the-location-interface:this-34" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-14">url</a>.<li><p>If <var>copyURL</var> has an <a id="the-location-interface:opaque-path-3" href="https://url.spec.whatwg.org/#url-opaque-path" data-x-internal="opaque-path">opaque path</a>, then return.<li><p>Set <var>copyURL</var>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-path" id="the-location-interface:concept-url-path" data-x-internal="concept-url-path">path</a> to the empty list.<li><p><a href="https://triple-underscore.github.io/URL-ja.html#concept-basic-url-parser" id="the-location-interface:basic-url-parser-5" data-x-internal="basic-url-parser">Basic URL parse</a> the given value, with <var>copyURL</var> as <a href="https://url.spec.whatwg.org/#basic-url-parser-url" id="the-location-interface:basic-url-parser-url-5" data-x-internal="basic-url-parser-url"><i>url</i></a> and <a id="the-location-interface:path-start-state" href="https://triple-underscore.github.io/URL-ja.html#path-start-state" data-x-internal="path-start-state">path start state</a> as <a href="https://url.spec.whatwg.org/#basic-url-parser-state-override" id="the-location-interface:basic-url-parser-state-override-5" data-x-internal="basic-url-parser-state-override"><i>state override</i></a>.<li><p><a href="#location-object-navigate" id="the-location-interface:location-object-navigate-6"><code>Location</code>-object navigate</a> to <var>copyURL</var>.</ol>

  <p>The <dfn data-dfn-for="Location" id="dom-location-search" data-dfn-type="attribute"><code>search</code></dfn> getter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-35" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-22">relevant <code>Document</code></a> is non-null and its <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-14" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-13" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-14" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-13">origin</a>, then throw a <a id="the-location-interface:securityerror-13" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-14"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>If <a id="the-location-interface:this-36" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-15">url</a>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-query" id="the-location-interface:concept-url-query" data-x-internal="concept-url-query">query</a> is either null or the empty string, return the empty string.<li><p>Return "<code>?</code>", followed by <a id="the-location-interface:this-37" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-16">url</a>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-query" id="the-location-interface:concept-url-query-2" data-x-internal="concept-url-query">query</a>.</ol>

  <p>The <code id="the-location-interface:dom-location-search-2"><a href="#dom-location-search">search</a></code> setter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-38" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-23">relevant <code>Document</code></a> is null, then return.<li><p>If <a id="the-location-interface:this-39" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-24">relevant <code>Document</code></a>'s <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-15" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-14" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-15" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-14">origin</a>, then throw a <a id="the-location-interface:securityerror-14" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-15"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Let <var>copyURL</var> be a copy of <a id="the-location-interface:this-40" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-17">url</a>.<li><p>If the given value is the empty string, set <var>copyURL</var>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-query" id="the-location-interface:concept-url-query-3" data-x-internal="concept-url-query">query</a> to null.<li><p>そうでなければ、以下のサブ手順を実行する：</p>

    <ol><li><p>Let <var>input</var> be the given value with a single leading "<code>?</code>" removed, if any.<li><p>Set <var>copyURL</var>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-query" id="the-location-interface:concept-url-query-4" data-x-internal="concept-url-query">query</a> to the empty string.<li><p><a href="https://triple-underscore.github.io/URL-ja.html#concept-basic-url-parser" id="the-location-interface:basic-url-parser-6" data-x-internal="basic-url-parser">Basic URL parse</a> <var>input</var>, with null, the <a href="#relevant-document" id="the-location-interface:relevant-document-25">relevant <code>Document</code></a>'s <a id="the-location-interface:document's-character-encoding" href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-encoding" data-x-internal="document's-character-encoding">document's character encoding</a>, <var>copyURL</var> as <a href="https://url.spec.whatwg.org/#basic-url-parser-url" id="the-location-interface:basic-url-parser-url-6" data-x-internal="basic-url-parser-url"><i>url</i></a>, and <a id="the-location-interface:query-state" href="https://triple-underscore.github.io/URL-ja.html#query-state" data-x-internal="query-state">query state</a> as <a href="https://url.spec.whatwg.org/#basic-url-parser-state-override" id="the-location-interface:basic-url-parser-state-override-6" data-x-internal="basic-url-parser-state-override"><i>state override</i></a>.</ol>
   <li><p><a href="#location-object-navigate" id="the-location-interface:location-object-navigate-7"><code>Location</code>-object navigate</a> to <var>copyURL</var>.</ol>

  <p>The <dfn data-dfn-for="Location" id="dom-location-hash" data-dfn-type="attribute"><code>hash</code></dfn> getter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-41" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-26">relevant <code>Document</code></a> is non-null and its <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-16" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-15" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-16" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-15">origin</a>, then throw a <a id="the-location-interface:securityerror-15" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-16"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>If <a id="the-location-interface:this-42" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-18">url</a>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-fragment" id="the-location-interface:concept-url-fragment" data-x-internal="concept-url-fragment">fragment</a> is either null or the empty string, return the empty string.<li><p>Return "<code>#</code>", followed by <a id="the-location-interface:this-43" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-19">url</a>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-fragment" id="the-location-interface:concept-url-fragment-2" data-x-internal="concept-url-fragment">fragment</a>.</ol>

  <p>The <code id="the-location-interface:dom-location-hash-2"><a href="#dom-location-hash">hash</a></code> setter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-44" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-27">relevant <code>Document</code></a> is null, then return.<li><p>If <a id="the-location-interface:this-45" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-28">relevant <code>Document</code></a>'s <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-17" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-16" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-17" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-16">origin</a>, then throw a <a id="the-location-interface:securityerror-16" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-17"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Let <var>copyURL</var> be a copy of <a id="the-location-interface:this-46" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-url" id="the-location-interface:concept-location-url-20">url</a>.<li><p>Let <var>input</var> be the given value with a single leading "<code>#</code>" removed, if any.<li><p>Set <var>copyURL</var>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-fragment" id="the-location-interface:concept-url-fragment-3" data-x-internal="concept-url-fragment">fragment</a> to the empty string.<li><p><a href="https://triple-underscore.github.io/URL-ja.html#concept-basic-url-parser" id="the-location-interface:basic-url-parser-7" data-x-internal="basic-url-parser">Basic URL parse</a> <var>input</var>, with <var>copyURL</var> as <a href="https://url.spec.whatwg.org/#basic-url-parser-url" id="the-location-interface:basic-url-parser-url-7" data-x-internal="basic-url-parser-url"><i>url</i></a> and <a id="the-location-interface:fragment-state" href="https://triple-underscore.github.io/URL-ja.html#fragment-state" data-x-internal="fragment-state">fragment state</a> as <a href="https://url.spec.whatwg.org/#basic-url-parser-state-override" id="the-location-interface:basic-url-parser-state-override-7" data-x-internal="basic-url-parser-state-override"><i>state override</i></a>.<li><p><a href="#location-object-navigate" id="the-location-interface:location-object-navigate-8"><code>Location</code>-object navigate</a> to <var>copyURL</var>.</ol>

  <p class="note">Unlike the equivalent API for the <code id="the-location-interface:the-a-element"><a href="text-level-semantics.html#the-a-element">a</a></code> and <code id="the-location-interface:the-area-element"><a href="image-maps.html#the-area-element">area</a></code> elements, the <code id="the-location-interface:dom-location-hash-3"><a href="#dom-location-hash">hash</a></code> setter does not special case the empty string, to remain compatible with deployed scripts.</p>

  <hr>

  <p>The <dfn data-dfn-for="Location" id="dom-location-assign" data-dfn-type="method"><code>assign(<var>url</var>)</code></dfn> method steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-47" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-29">relevant <code>Document</code></a> is null, then return.<li><p>If <a id="the-location-interface:this-48" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-30">relevant <code>Document</code></a>'s <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-18" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-17" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-18" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-17">origin</a>, then throw a <a id="the-location-interface:securityerror-17" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-18"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p><a href="urls-and-fetching.html#parse-a-url" id="the-location-interface:parse-a-url-2">Parse</a> <var>url</var> relative to the <a id="the-location-interface:entry-settings-object-19" href="webappapis.html#entry-settings-object">entry settings object</a>. If that failed, throw a <a id="the-location-interface:syntaxerror-2" href="https://webidl.spec.whatwg.org/#syntaxerror" data-x-internal="syntaxerror">"<code>SyntaxError</code>"</a> <code id="the-location-interface:domexception-19"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p><a href="#location-object-navigate" id="the-location-interface:location-object-navigate-9"><code>Location</code>-object navigate</a> given the <a id="the-location-interface:resulting-url-record-2" href="urls-and-fetching.html#resulting-url-record">resulting URL record</a>.</ol>

  <p>The <dfn data-dfn-for="Location" id="dom-location-replace" data-dfn-type="method"><code>replace(<var>url</var>)</code></dfn> method steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-49" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-31">relevant <code>Document</code></a> is null, then return.<li><p><a href="urls-and-fetching.html#parse-a-url" id="the-location-interface:parse-a-url-3">Parse</a> <var>url</var> relative to the <a id="the-location-interface:entry-settings-object-20" href="webappapis.html#entry-settings-object">entry settings object</a>. If that failed, throw a <a id="the-location-interface:syntaxerror-3" href="https://webidl.spec.whatwg.org/#syntaxerror" data-x-internal="syntaxerror">"<code>SyntaxError</code>"</a> <code id="the-location-interface:domexception-20"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p><a href="#location-object-navigate" id="the-location-interface:location-object-navigate-10"><code>Location</code>-object navigate</a> given the <a id="the-location-interface:resulting-url-record-3" href="urls-and-fetching.html#resulting-url-record">resulting URL record</a> and "<code id="the-location-interface:hh-replace-3"><a href="browsing-the-web.html#hh-replace">replace</a></code>".</ol>

  <p class="note">The <code id="the-location-interface:dom-location-replace-2"><a href="#dom-location-replace">replace()</a></code> method intentionally has no security check.</p>

  <p>The <dfn data-dfn-for="Location" id="dom-location-reload" data-dfn-type="method"><code>reload()</code></dfn> method steps are to run the appropriate steps from the following list:</p>

  <dl class="switch"><dt>If <a id="the-location-interface:this-50" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-32">relevant <code>Document</code></a> is null<dd><p>Return.<dt>If <a id="the-location-interface:this-51" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-33">relevant <code>Document</code></a>'s <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-19" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-18" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-21" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-18">origin</a><dd><p>Throw a <a id="the-location-interface:securityerror-18" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-21"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<dt>If the currently executing <a href="webappapis.html#concept-task" id="the-location-interface:concept-task">task</a> is the dispatch of a <code id="the-location-interface:event-resize"><a data-x-internal="event-resize" href="https://triple-underscore.github.io/cssom-view-ja.html#eventdef-window-resize">resize</a></code> event in response to the user resizing the <a id="the-location-interface:browsing-context-3" href="browsers.html#browsing-context">browsing context</a><dd><p>Repaint the <a id="the-location-interface:browsing-context-4" href="browsers.html#browsing-context">browsing context</a> and return.<dt>If the <a id="the-location-interface:browsing-context-5" href="browsers.html#browsing-context">browsing context</a>'s <a id="the-location-interface:active-document-4" href="browsers.html#active-document">active document</a> is <a id="the-location-interface:an-iframe-srcdoc-document" href="iframe-embed-object.html#an-iframe-srcdoc-document">an <code>iframe</code> <code>srcdoc</code> document</a><dd><p><a href="iframe-embed-object.html#process-the-iframe-attributes" id="the-location-interface:process-the-iframe-attributes">Reprocess the <code>iframe</code> attributes</a> of the <a id="the-location-interface:browsing-context-6" href="browsers.html#browsing-context">browsing context</a>'s <a href="browsers.html#bc-container" id="the-location-interface:bc-container">container</a>.<dt>そうでなければ<dd><p><a id="the-location-interface:navigate-2" href="browsing-the-web.html#navigate">Navigate</a> the <a id="the-location-interface:browsing-context-7" href="browsers.html#browsing-context">browsing context</a> to <a id="the-location-interface:this-52" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-34">relevant <code>Document</code></a>'s <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-url" id="the-location-interface:the-document's-address-4" data-x-internal="the-document's-address">URL</a>, with <var><a id="the-location-interface:exceptions-enabled-2" href="browsing-the-web.html#exceptions-enabled">exceptionsEnabled</a></var> set to true, <var id="the-location-interface:navigation-hh-2"><a href="browsing-the-web.html#navigation-hh">historyHandling</a></var> set to "<code id="the-location-interface:hh-reload"><a href="browsing-the-web.html#hh-reload">reload</a></code>", and the <a id="the-location-interface:source-browsing-context-2" href="browsing-the-web.html#source-browsing-context">source browsing context</a> set to the <a id="the-location-interface:browsing-context-8" href="browsers.html#browsing-context">browsing context</a> being navigated.</dl>

  <p>When a user requests that the <a id="the-location-interface:active-document-5" href="browsers.html#active-document">active document</a> of a <a id="the-location-interface:browsing-context-9" href="browsers.html#browsing-context">browsing context</a> be reloaded through a user interface element, the user agent should <a id="the-location-interface:navigate-3" href="browsing-the-web.html#navigate">navigate</a> the <a id="the-location-interface:browsing-context-10" href="browsers.html#browsing-context">browsing context</a> to the same resource as that <code id="the-location-interface:document-4"><a href="dom.html#document">Document</a></code>, with <var id="the-location-interface:navigation-hh-3"><a href="browsing-the-web.html#navigation-hh">historyHandling</a></var> set to "<code id="the-location-interface:hh-reload-2"><a href="browsing-the-web.html#hh-reload">reload</a></code>". In the case of non-idempotent methods (e.g., HTTP POST), the user agent should prompt the user to confirm the operation first, since otherwise transactions (e.g., purchases or database modifications) could be repeated. User agents may allow the user to explicitly override any caches when reloading.</p>

  <hr>

  <p>The <dfn data-dfn-for="Location" id="dom-location-ancestororigins" data-dfn-type="attribute"><code>ancestorOrigins</code></dfn> getter steps are:</p>

  <ol><li><p>If <a id="the-location-interface:this-53" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-35">relevant <code>Document</code></a> is null, then return an empty <a id="the-location-interface:list-3" href="https://triple-underscore.github.io/infra-ja.html#list" data-x-internal="list">list</a>.<li><p>If <a id="the-location-interface:this-54" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#relevant-document" id="the-location-interface:relevant-document-36">relevant <code>Document</code></a>'s <a href="https://dom.spec.whatwg.org/#concept-document-origin" id="the-location-interface:concept-document-origin-20" data-x-internal="concept-document-origin">origin</a> is not <a id="the-location-interface:same-origin-domain-19" href="origin.html#same-origin-domain">same origin-domain</a> with the <a id="the-location-interface:entry-settings-object-22" href="webappapis.html#entry-settings-object">entry settings object</a>'s <a href="webappapis.html#concept-settings-object-origin" id="the-location-interface:concept-settings-object-origin-19">origin</a>, then throw a <a id="the-location-interface:securityerror-19" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-location-interface:domexception-22"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.<li><p>Otherwise, return <a id="the-location-interface:this-55" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#concept-location-ancestor-origins-list" id="the-location-interface:concept-location-ancestor-origins-list-2">ancestor origins list</a>.</ol>

  <p class="warning">The details of how the <code id="the-location-interface:dom-location-ancestororigins-2"><a href="#dom-location-ancestororigins">ancestorOrigins</a></code> attribute works are still controversial and might change. See <a href="https://github.com/whatwg/html/issues/1918">issue #1918</a> for more information.</p>

  <hr>

  <p id="location-internal-methods">As explained earlier, the <code id="the-location-interface:location-33"><a href="#location">Location</a></code> exotic object requires additional logic beyond IDL for security purposes. The <code id="the-location-interface:location-34"><a href="#location">Location</a></code> object must use the ordinary internal methods except where it is explicitly specified otherwise below.</p>

  <p>Also, every <code id="the-location-interface:location-35"><a href="#location">Location</a></code> object has a <dfn id="defaultproperties">[[DefaultProperties]]</dfn> internal slot representing its own properties at time of its creation.</p>

  <h5 id="location-getprototypeof"><span class="secno">7.10.5.1</span> [[GetPrototypeOf]] ( )<a href="#location-getprototypeof" class="self-link"></a></h5>

  <ol><li><p>If ! <a id="location-getprototypeof:isplatformobjectsameorigin-(-o-)" href="browsers.html#isplatformobjectsameorigin-(-o-)">IsPlatformObjectSameOrigin</a>(<b>this</b>) is true, then return ! <a id="location-getprototypeof:ordinarygetprototypeof" href="https://tc39.es/ecma262/#sec-ordinarygetprototypeof" data-x-internal="ordinarygetprototypeof">OrdinaryGetPrototypeOf</a>(<b>this</b>).<li><p>Return null.</ol>

  <h5 id="location-setprototypeof"><span class="secno">7.10.5.2</span> [[SetPrototypeOf]] ( <var>V</var> )<a href="#location-setprototypeof" class="self-link"></a></h5>

  <ol><li><p>Return ! <a id="location-setprototypeof:setimmutableprototype" href="https://tc39.es/ecma262/#sec-set-immutable-prototype" data-x-internal="setimmutableprototype">SetImmutablePrototype</a>(<b>this</b>, <var>V</var>).</ol>

  <h5 id="location-isextensible"><span class="secno">7.10.5.3</span> [[IsExtensible]] ( )<a href="#location-isextensible" class="self-link"></a></h5>

  <ol><li><p>Return true.</ol>

  <h5 id="location-preventextensions"><span class="secno">7.10.5.4</span> [[PreventExtensions]] ( )<a href="#location-preventextensions" class="self-link"></a></h5>

  <ol><li><p>falseを返す。</ol>

  <h5 id="location-getownproperty"><span class="secno">7.10.5.5</span> [[GetOwnProperty]] ( <var>P</var> )<a href="#location-getownproperty" class="self-link"></a></h5>

  <ol><li><p>If ! <a id="location-getownproperty:isplatformobjectsameorigin-(-o-)" href="browsers.html#isplatformobjectsameorigin-(-o-)">IsPlatformObjectSameOrigin</a>(<b>this</b>) is true, then:</p>

    <ol><li><p>Let <var>desc</var> be ! <a id="location-getownproperty:ordinarygetownproperty" href="https://tc39.es/ecma262/#sec-ordinarygetownproperty" data-x-internal="ordinarygetownproperty">OrdinaryGetOwnProperty</a>(<b>this</b>, <var>P</var>).<li><p>If the value of the <a href="#defaultproperties" id="location-getownproperty:defaultproperties">[[DefaultProperties]]</a> internal slot of <b>this</b> contains <var>P</var>, then set <var>desc</var>.[[Configurable]] to true.<li><p>Return <var>desc</var>.</ol>
   <li><p>Let <var>property</var> be ! <a id="location-getownproperty:crossorigingetownpropertyhelper-(-o,-p-)" href="browsers.html#crossorigingetownpropertyhelper-(-o,-p-)">CrossOriginGetOwnPropertyHelper</a>(<b>this</b>, <var>P</var>).<li><p>If <var>property</var> is not undefined, then return <var>property</var>.<li><p>Return ? <a id="location-getownproperty:crossoriginpropertyfallback-(-p-)" href="browsers.html#crossoriginpropertyfallback-(-p-)">CrossOriginPropertyFallback</a>(<var>P</var>).</ol>

  <h5 id="location-defineownproperty"><span class="secno">7.10.5.6</span> [[DefineOwnProperty]] ( <var>P</var>, <var>Desc</var> )<a href="#location-defineownproperty" class="self-link"></a></h5>

  <ol><li><p>If ! <a id="location-defineownproperty:isplatformobjectsameorigin-(-o-)" href="browsers.html#isplatformobjectsameorigin-(-o-)">IsPlatformObjectSameOrigin</a>(<b>this</b>) is true, then:</p>

    <ol><li><p>If the value of the <a href="#defaultproperties" id="location-defineownproperty:defaultproperties">[[DefaultProperties]]</a> internal slot of <b>this</b> contains <var>P</var>, then return false.<li><p>Return ? <a id="location-defineownproperty:ordinarydefineownproperty" href="https://tc39.es/ecma262/#sec-ordinarydefineownproperty" data-x-internal="ordinarydefineownproperty">OrdinaryDefineOwnProperty</a>(<b>this</b>, <var>P</var>, <var>Desc</var>).</ol>
   <li><p>Throw a <a id="location-defineownproperty:securityerror" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="location-defineownproperty:domexception"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.</ol>

  <h5 id="location-get"><span class="secno">7.10.5.7</span> [[Get]] ( <var>P</var>, <var>Receiver</var> )<a href="#location-get" class="self-link"></a></h5>

  <ol><li><p>If ! <a id="location-get:isplatformobjectsameorigin-(-o-)" href="browsers.html#isplatformobjectsameorigin-(-o-)">IsPlatformObjectSameOrigin</a>(<b>this</b>) is true, then return ? <a id="location-get:ordinaryget" href="https://tc39.es/ecma262/#sec-ordinaryget" data-x-internal="ordinaryget">OrdinaryGet</a>(<b>this</b>, <var>P</var>, <var>Receiver</var>).<li><p>Return ? <a id="location-get:crossoriginget-(-o,-p,-receiver-)" href="browsers.html#crossoriginget-(-o,-p,-receiver-)">CrossOriginGet</a>(<b>this</b>, <var>P</var>, <var>Receiver</var>).</ol>

  <h5 id="location-set"><span class="secno">7.10.5.8</span> [[Set]] ( <var>P</var>, <var>V</var>, <var>Receiver</var> )<a href="#location-set" class="self-link"></a></h5>

  <ol><li><p>If ! <a id="location-set:isplatformobjectsameorigin-(-o-)" href="browsers.html#isplatformobjectsameorigin-(-o-)">IsPlatformObjectSameOrigin</a>(<b>this</b>) is true, then return ? <a id="location-set:ordinaryset" href="https://tc39.es/ecma262/#sec-ordinaryset" data-x-internal="ordinaryset">OrdinarySet</a>(<b>this</b>, <var>P</var>, <var>V</var>, <var>Receiver</var>).<li><p>Return ? <a id="location-set:crossoriginset-(-o,-p,-v,-receiver-)" href="browsers.html#crossoriginset-(-o,-p,-v,-receiver-)">CrossOriginSet</a>(<b>this</b>, <var>P</var>, <var>V</var>, <var>Receiver</var>).</ol>

  <h5 id="location-delete"><span class="secno">7.10.5.9</span> [[Delete]] ( <var>P</var> )<a href="#location-delete" class="self-link"></a></h5>

  <ol><li><p>If ! <a id="location-delete:isplatformobjectsameorigin-(-o-)" href="browsers.html#isplatformobjectsameorigin-(-o-)">IsPlatformObjectSameOrigin</a>(<b>this</b>) is true, then return ? <a id="location-delete:ordinarydelete" href="https://tc39.es/ecma262/#sec-ordinarydelete" data-x-internal="ordinarydelete">OrdinaryDelete</a>(<b>this</b>, <var>P</var>).<li><p>Throw a <a id="location-delete:securityerror" href="https://webidl.spec.whatwg.org/#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="location-delete:domexception"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>.</ol>

  <h5 id="location-ownpropertykeys"><span class="secno">7.10.5.10</span> [[OwnPropertyKeys]] ( )<a href="#location-ownpropertykeys" class="self-link"></a></h5>

  <ol><li><p>If ! <a id="location-ownpropertykeys:isplatformobjectsameorigin-(-o-)" href="browsers.html#isplatformobjectsameorigin-(-o-)">IsPlatformObjectSameOrigin</a>(<b>this</b>) is true, then return ! <a id="location-ownpropertykeys:ordinaryownpropertykeys" href="https://tc39.es/ecma262/#sec-ordinaryownpropertykeys" data-x-internal="ordinaryownpropertykeys">OrdinaryOwnPropertyKeys</a>(<b>this</b>).<li><p>Return ! <a id="location-ownpropertykeys:crossoriginownpropertykeys-(-o-)" href="browsers.html#crossoriginownpropertykeys-(-o-)">CrossOriginOwnPropertyKeys</a>(<b>this</b>).</ol>

  


  <nav><a href="origin.html">← 7.5 生成元</a> — <a href="./">目次</a> — <a href="browsing-the-web.html">7.11 ウェブを閲覧する →</a></nav>
