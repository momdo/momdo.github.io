<!DOCTYPE html><html class="split" lang="ja"><script src="https://html.spec.whatwg.org/link-fixup.js" defer=""></script><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"><title>HTML Standard æ—¥æœ¬èªè¨³</title><meta content="#3c790a" name="theme-color"><link rel="stylesheet" href="https://resources.whatwg.org/spec.css" crossorigin=""><link rel="stylesheet" href="https://resources.whatwg.org/standard.css" crossorigin=""><link rel="stylesheet" href="https://resources.whatwg.org/standard-shared-with-dev.css" crossorigin=""><link rel="icon" href="https://resources.whatwg.org/logo.svg" crossorigin=""><link rel="stylesheet" href="https://html.spec.whatwg.org/styles.css" crossorigin=""><script>
   function toggleStatus(div) {
     div.parentNode.classList.toggle('wrapped');
   }
   function setLinkFragment(link) {
     link.hash = location.hash;
   }
  </script><body>
  
  <script defer="" crossorigin="" src="./html-dfn.js"></script>
  <script data-file-issue-url="https://github.com/momdo/momdo.github.io/issues/new" async="" crossorigin="" src="https://resources.whatwg.org/file-issue.js"></script>
  
  <header id="head" class="head with-buttons"><a href="https://whatwg.org/" class="logo"><img width="100" alt="WHATWG" crossorigin="" src="https://resources.whatwg.org/logo.svg" height="100"></a><hgroup><h1 class="allcaps">HTML</h1><p id="living-standard">Living Standard â€” Last Updated <span class="pubdate">2 June 2023</span></hgroup>
   
   

   
  </header>

  

  

  

  
  

  
  

  

  <nav><a href="dnd.html">â† 6.10 ãƒ‰ãƒ©ãƒƒã‚°ã‚¢ãƒ³ãƒ‰ãƒ‰ãƒ­ãƒƒãƒ—</a> â€” <a href="./">ç›®æ¬¡</a> â€” <a href="browsers.html">7 ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿ â†’</a></nav><ol class="toc"><li id="toc-editing"><ol><li><a href="popover.html#the-popover-attribute"><span class="secno">6.11</span> <code>popover</code>å±æ€§</a><ol><li><a href="popover.html#the-popover-target-attributes"><span class="secno">6.11.1</span> ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå±æ€§</a><li><a href="popover.html#popover-light-dismiss"><span class="secno">6.11.2</span> ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ã®ç°¡æ˜“éè¡¨ç¤º</a><li><a href="popover.html#the-toggleevent-interface"><span class="secno">6.11.3</span> <code>ToggleEvent</code>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹</a></ol></ol></ol><h3 id="the-popover-attribute"><span class="secno">6.11</span> <code id="the-popover-attribute:attr-popover"><a href="#attr-popover">popover</a></code>å±æ€§<a href="#the-popover-attribute" class="self-link"></a></h3><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">âœ”</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/popover" title="The popover global attribute is used to designate an element as a popover element.">Global_attributes/popover</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 114+</span></span><span class="safari yes"><span>Safari</span><span>preview+</span></span><span class="chrome yes"><span>Chrome</span><span>114+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>114+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div>

  <p>ã™ã¹ã¦ã®<a id="the-popover-attribute:html-elements" href="infrastructure.html#html-elements">HTMLè¦ç´ </a>ã¯<dfn data-dfn-for="html-global" id="attr-popover" data-dfn-type="element-attr"><code>popover</code></dfn>ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å±æ€§è¨­å®šã‚’æŒã£ã¦ã‚‚ã‚ˆã„ã€‚æŒ‡å®šã•ã‚ŒãŸå ´åˆã€è¦ç´ ã¯è¡¨ç¤ºã•ã‚Œã‚‹ã¾ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œãšã€è¡¨ç¤ºã•ã‚Œã‚‹ã¨ã€ä»–ã®ãƒšãƒ¼ã‚¸ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¸Šã«ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã€‚</p>

  <div class="example"><p>The <code id="the-popover-attribute:attr-popover-2"><a href="#attr-popover">popover</a></code> attribute is a global attribute that allows authors flexibility to ensure popover functionality can be applied to elements with the most relevant semantics.</p>

   <p>The following demonstrates how one might create a popover sub-navigation list of links, within the global navigation for a website.</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>ul</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>li</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>a</c-> <c- e>href</c-><c- o>=</c-><c- s>...</c-><c- p>></c->All Products<c- p>&lt;/</c-><c- f>a</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>button</c-> <c- e>popovertarget</c-><c- o>=</c-><c- s>sub-nav</c-><c- p>></c->
     <c- p>&lt;</c-><c- f>img</c-> <c- e>src</c-><c- o>=</c-><c- s>down-arrow.png</c-> <c- e>alt</c-><c- o>=</c-><c- s>"Product pages"</c-><c- p>></c->
    <c- p>&lt;/</c-><c- f>button</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>ul</c-> <c- e>popover</c-> <c- e>id</c-><c- o>=</c-><c- s>sub-nav</c-><c- p>></c->
     <c- p>&lt;</c-><c- f>li</c-><c- p>>&lt;</c-><c- f>a</c-> <c- e>href</c-><c- o>=</c-><c- s>...</c-><c- p>></c->Shirts<c- p>&lt;/</c-><c- f>a</c-><c- p>></c->
     <c- p>&lt;</c-><c- f>li</c-><c- p>>&lt;</c-><c- f>a</c-> <c- e>href</c-><c- o>=</c-><c- s>...</c-><c- p>></c->Shoes<c- p>&lt;/</c-><c- f>a</c-><c- p>></c->
     <c- p>&lt;</c-><c- f>li</c-><c- p>>&lt;</c-><c- f>a</c-> <c- e>href</c-><c- o>=</c-><c- s>...</c-><c- p>></c->Hats etc.<c- p>&lt;/</c-><c- f>a</c-><c- p>></c->
    <c- p>&lt;/</c-><c- f>ul</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>li</c-><c- p>></c->
  <c- c>&lt;!-- other list items and links here --></c->
<c- p>&lt;/</c-><c- f>ul</c-><c- p>></c-></code></pre>
  </div>

  <p>When using <code id="the-popover-attribute:attr-popover-3"><a href="#attr-popover">popover</a></code> on elements without accessibility semantics, for instance the <code id="the-popover-attribute:the-div-element"><a href="grouping-content.html#the-div-element">div</a></code> element, authors should use the appropriate ARIA attributes to ensure the popover is accessible.</p>

  <div class="example"><p>The following shows the baseline markup to create a custom menu popover, where the first menuitem will receive keyboard focus when the popover is invoked due to the use of the <code>autofocus</code> attribute. Navigating the menuitems with arrow keys and activation behaviors would still need author scripting. Additional requirements for building custom menus widgets are defined in the <a href="https://w3c.github.io/aria/#menu">WAI-ARIA specification</a>.</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>button</c-> <c- e>popovertarget</c-><c- o>=</c-><c- s>m</c-><c- p>></c->Actions<c- p>&lt;/</c-><c- f>button</c-><c- p>></c->
<c- p>&lt;</c-><c- f>div</c-> <c- e>role</c-><c- o>=</c-><c- s>menu</c-> <c- e>id</c-><c- o>=</c-><c- s>m</c-> <c- e>popover</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>button</c-> <c- e>role</c-><c- o>=</c-><c- s>menuitem</c-> <c- e>tabindex</c-><c- o>=</c-><c- s>-1</c-> <c- e>autofocus</c-><c- p>></c->Edit<c- p>&lt;/</c-><c- f>button</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>button</c-> <c- e>role</c-><c- o>=</c-><c- s>menuitem</c-> <c- e>tabindex</c-><c- o>=</c-><c- s>-1</c-><c- p>></c->Hide<c- p>&lt;/</c-><c- f>button</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>button</c-> <c- e>role</c-><c- o>=</c-><c- s>menuitem</c-> <c- e>tabindex</c-><c- o>=</c-><c- s>-1</c-><c- p>></c->Delete<c- p>&lt;/</c-><c- f>button</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c-></code></pre>

   <p>A popover can be useful for rendering a status message, confirming the action performed by the user. The following demonstrates how one could reveal a popover in an <code id="the-popover-attribute:the-output-element"><a href="form-elements.html#the-output-element">output</a></code> element.</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>button</c-> <c- e>id</c-><c- o>=</c-><c- s>submit</c-><c- p>></c->Submit<c- p>&lt;/</c-><c- f>button</c-><c- p>></c->
<c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>output</c-><c- p>>&lt;</c-><c- f>span</c-> <c- e>popover</c-><c- o>=</c-><c- s>manual</c-><c- p>>&lt;/</c-><c- f>span</c-><c- p>>&lt;/</c-><c- f>output</c-><c- p>>&lt;/</c-><c- f>p</c-><c- p>></c->

<c- p>&lt;</c-><c- f>script</c-><c- p>></c->
 <c- a>const</c-> sBtn <c- o>=</c-> document<c- p>.</c->getElementById<c- p>(</c-><c- u>"submit"</c-><c- p>);</c->
 <c- a>const</c-> outSpan <c- o>=</c-> document<c- p>.</c->querySelector<c- p>(</c-><c- u>"output [popover=manual]"</c-><c- p>);</c->
 <c- a>let</c-> successMessage<c- p>;</c->
 <c- a>let</c-> errorMessage<c- p>;</c->

 <c- d>/* define logic for determining success of action</c->
<c- d>  and determining the appropriate success or error</c->
<c- d>  messages to use */</c->

 sBtn<c- p>.</c->addEventListener<c- p>(</c-><c- u>"click"</c-><c- p>,</c-> <c- p>()=></c-> <c- p>{</c->
  <c- k>if</c-> <c- p>(</c-> success <c- p>)</c-> <c- p>{</c->
   outSpan<c- p>.</c->textContent <c- o>=</c-> successMessage<c- p>;</c->
  <c- p>}</c->
  <c- k>else</c-> <c- p>{</c->
   outSpan<c- p>.</c->textContent <c- o>=</c-> errorMessage<c- p>;</c->
  <c- p>}</c->
  outSpan<c- p>.</c->showPopover<c- p>();</c->

  setTimeout<c- p>(</c-><c- a>function</c-> <c- p>()</c-> <c- p>{</c->
   outSpan<c- p>.</c->hidePopover<c- p>();</c->
  <c- p>},</c-> <c- mf>10000</c-><c- p>);</c->
 <c- p>});</c->
<c- p>&lt;/</c-><c- f>script</c-><c- p>></c-></code></pre>
  </div>

  <p class="note">Inserting a popover element into an <code id="the-popover-attribute:the-output-element-2"><a href="form-elements.html#the-output-element">output</a></code> element will generally cause screen readers to announce the content when it becomes visible. Depending on the complexity or frequency of the content, this could be either useful or annoying to users of these assistive technologies. Keep this in mind when using the <code id="the-popover-attribute:the-output-element-3"><a href="form-elements.html#the-output-element">output</a></code> element or other ARIA live regions to ensure the best user experience.</p>

  <p><code id="the-popover-attribute:attr-popover-4"><a href="#attr-popover">popover</a></code>å±æ€§ã¯ã€æ¬¡ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¨çŠ¶æ…‹ã‚’æŒã¤<a id="the-popover-attribute:enumerated-attribute" href="common-microsyntaxes.html#enumerated-attribute">åˆ—æŒ™å±æ€§</a>ã§ã‚ã‚‹ï¼š</p>

  <table><thead><tr><th>ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰<th>çŠ¶æ…‹<th>æ¦‚è¦<tbody><tr><td><dfn data-dfn-for="html-global/popover" id="attr-popover-auto" data-dfn-type="attr-value"><code>auto</code></dfn><td rowspan="2"><dfn id="attr-popover-auto-state">auto</dfn><td rowspan="2">é–‹ã„ãŸã¨ãã«ä»–ã®ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ã‚’é–‰ã˜ã‚‹ã€‚<a href="#popover-light-dismiss" id="the-popover-attribute:popover-light-dismiss">ç°¡æ˜“éè¡¨ç¤º</a>ã‚’æŒã¤ã€‚<tr><td>ç©ºæ–‡å­—åˆ—<tr><td><dfn data-dfn-for="html-global/popover" id="attr-popover-manual" data-dfn-type="attr-value"><code>manual</code></dfn><td><dfn id="attr-popover-manual-state">manual</dfn><td>ä»–ã®ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ã‚’é–‰ã˜ãªã„ã€‚<a href="#popover-light-dismiss" id="the-popover-attribute:popover-light-dismiss-2">ç°¡æ˜“éè¡¨ç¤º</a>ã‚’æŒãŸãªã„ã€‚</table>

  <p><code id="the-popover-attribute:attr-popover-5"><a href="#attr-popover">popover</a></code>å±æ€§ã®<i id="the-popover-attribute:invalid-value-default"><a href="common-microsyntaxes.html#invalid-value-default">ä¸æ­£å€¤ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ</a></i>ã¯<a href="#attr-popover-manual-state" id="the-popover-attribute:attr-popover-manual-state">manual</a>çŠ¶æ…‹ã§ã‚ã‚Šã€ãã®<i id="the-popover-attribute:missing-value-default"><a href="common-microsyntaxes.html#missing-value-default">æ¬ æå€¤ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ</a></i>ã¯<dfn id="attr-popover-none-state">ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ãªã—</dfn>çŠ¶æ…‹ã§ã‚ã‚‹ã€‚</p>

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">âœ”</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/popover" title="The popover property of the HTMLElement interface gets and sets an element's popover state via JavaScript ("auto" or "manual"), and can be used for feature detection.">HTMLElement/popover</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 114+</span></span><span class="safari yes"><span>Safari</span><span>preview+</span></span><span class="chrome yes"><span>Chrome</span><span>114+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>114+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><p><dfn data-dfn-for="HTMLElement" id="dom-popover" data-dfn-type="attribute"><code>popover</code></dfn> IDLå±æ€§ã¯ã€<a id="the-popover-attribute:limited-to-only-known-values" href="common-dom-interfaces.html#limited-to-only-known-values">æ—¢çŸ¥ã®å€¤ã«åˆ¶é™ã•ã‚Œ</a>ã€<a href="#attr-popover" id="the-popover-attribute:attr-popover-6">popover</a>å±æ€§ã‚’<a id="the-popover-attribute:reflect" href="common-dom-interfaces.html#reflect">åæ˜ ã—</a>ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚</p>

  <p>ã™ã¹ã¦ã® <a href="infrastructure.html#html-elements" id="the-popover-attribute:html-elements-2">HTMLè¦ç´ </a>ã¯ã€<dfn id="popover-visibility-state" data-export="">ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼å¯è¦–çŠ¶æ…‹</dfn>ã‚’æŒã¡ã€æœ€åˆã¯<a href="#popover-hidden-state" id="the-popover-attribute:popover-hidden-state">éè¡¨ç¤º</a>ã§ã€æ¬¡ã®æ½œåœ¨çš„ãªå€¤ã‚’ã‚‚ã¤ï¼š</p>

  <ul><li><p><dfn data-dfn-for="popover visibility state" id="popover-hidden-state" data-export="">éè¡¨ç¤º</dfn><li><p><dfn data-dfn-for="popover visibility state" id="popover-showing-state" data-export="">è¡¨ç¤º</dfn></ul>

  <p><code id="the-popover-attribute:document"><a href="dom.html#document">Document</a></code>ã¯ã€<dfn id="popover-pointerdown-target">ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ãƒã‚¤ãƒ³ã‚¿ãƒ¼ãƒ€ã‚¦ãƒ³ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ</dfn>ã‚’æŒã¡ã€ã“ã‚Œã¯<a href="infrastructure.html#html-elements" id="the-popover-attribute:html-elements-3">HTMLè¦ç´ </a>ã¾ãŸã¯nullã§ã‚ã‚Šã€æœ€åˆã¯nullã§ã‚ã‚‹ã€‚</p>

  <p>ã™ã¹ã¦ã®<a href="infrastructure.html#html-elements" id="the-popover-attribute:html-elements-4">HTMLè¦ç´ </a>ã¯ã€<dfn id="popover-invoker">ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼å‘¼ã³å‡ºã—</dfn>ã‚’æŒã¡ã€ã“ã‚Œã¯<a href="infrastructure.html#html-elements" id="the-popover-attribute:html-elements-5">HTMLè¦ç´ </a>ã¾ãŸã¯nullã§ã‚ã‚Šã€æœ€åˆã¯nullã«è¨­å®šã•ã‚Œã‚‹ã€‚</p>

  <p>ã™ã¹ã¦ã®<a href="infrastructure.html#html-elements" id="the-popover-attribute:html-elements-6">HTMLè¦ç´ </a>ã¯ã€<dfn id="popover-toggle-task">ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ãƒˆãƒªã‚¬ãƒ¼ã‚¿ã‚¹ã‚¯</dfn>ã‚’æŒã¡ã€æœ€åˆã¯nullã§ã‚ã‚Šã€ã“ã‚Œã¯nullã¾ãŸã¯ä»¥ä¸‹ã‚’æŒã¤<a id="the-popover-attribute:struct" href="https://triple-underscore.github.io/infra-ja.html#struct" data-x-internal="struct">æ§‹é€ ä½“</a>ã®ã„ãšã‚Œã‹ã§ã‚ã‚‹ï¼š</p>

  <dl><dt><dfn id="popover-toggle-task-task">Task</dfn><dd><code id="the-popover-attribute:toggleevent"><a href="#toggleevent">ToggleEvent</a></code>ã‚’ç™ºç«ã™ã‚‹ã‚¿ã‚¹ã‚¯ã€‚<dt><dfn id="popover-toggle-task-old-state">Old state</dfn><dd><code id="the-popover-attribute:dom-toggleevent-oldstate"><a href="#dom-toggleevent-oldstate">oldState</a></code>å±æ€§ã®<a href="#popover-toggle-task-task" id="the-popover-attribute:popover-toggle-task-task">ã‚¿ã‚¹ã‚¯</a>ã®ã‚¤ãƒ™ãƒ³ãƒˆã®å€¤ã‚’è¡¨ã™æ–‡å­—åˆ—ã€‚</dl>

  <p>The following <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-element-attributes-change-ext" id="the-popover-attribute:concept-element-attributes-change-ext" data-x-internal="concept-element-attributes-change-ext">attribute change steps</a>, given <var>element</var>, <var>localName</var>, <var>oldValue</var>, <var>value</var>, and <var>namespace</var>, are used for all <a id="the-popover-attribute:html-elements-7" href="infrastructure.html#html-elements">HTML elements</a>:</p>

  <ol><li><p>If <var>namespace</var> is not null, then return.<li><p>If <var>localName</var> is not <code id="the-popover-attribute:attr-popover-7"><a href="#attr-popover">popover</a></code>, then return.<li><p>If <var>oldValue</var> and <var>value</var> are in different <a href="#attr-popover" id="the-popover-attribute:attr-popover-8">states</a>, then run the <a href="#hide-popover-algorithm" id="the-popover-attribute:hide-popover-algorithm">hide popover algorithm</a> given <var>element</var>, true, true, and false.</ol>

  <dl class="domintro"><dt><code><var>element</var>.<a href="#dom-showpopover" id="dom-showpopover-dev">showPopover</a>()</code><dd>ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼<var>element</var>ã‚’ãƒˆãƒƒãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«è¿½åŠ ã—ã¦è¡¨ç¤ºã™ã‚‹ã€‚<var>element</var>ã®<code id="the-popover-attribute:attr-popover-9"><a href="#attr-popover">popover</a></code>å±æ€§ãŒ<a href="#attr-popover-auto-state" id="the-popover-attribute:attr-popover-auto-state">auto state</a>ã§ã‚ã‚‹å ´åˆã€<a href="#topmost-popover-ancestor" id="the-popover-attribute:topmost-popover-ancestor">ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ç¥–å…ˆ</a>ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«å¾“ã£ã¦<var>element</var>ã®ç¥–å…ˆã§ãªã„é™ã‚Šã€ä»–ã®ã™ã¹ã¦ã®<a href="#attr-popover-auto-state" id="the-popover-attribute:attr-popover-auto-state-2">auto</a>ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ã‚‚é–‰ã˜ã‚‰ã‚Œã‚‹ã€‚<dt><code><var>element</var>.<a href="#dom-hidepopover" id="dom-hidepopover-dev">hidePopover</a>()</code><dd>ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼<var>element</var>ã‚’ãƒˆãƒƒãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‹ã‚‰å‰Šé™¤ã—ã€<code>display:none</code>ã‚’é©ç”¨ã—ã¦éè¡¨ç¤ºã«ã™ã‚‹ã€‚<dt><code><var>element</var>.<a href="#dom-togglepopover" id="dom-togglepopover-dev">togglePopover</a>()</code><dd>ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼<var>element</var>ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ãªã„å ´åˆã€ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ãã®ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹ã€‚ãã†ã§ãªã‘ã‚Œã°ã€ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã£ã¦éè¡¨ç¤ºã«ãªã‚‹ã€‚</dl>

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">âœ”</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/showPopover" title="The showPopover() method of the HTMLElement interface shows a popover element (i.e. one that has a valid popover attribute) by adding it to the top layer.">HTMLElement/showPopover</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 114+</span></span><span class="safari yes"><span>Safari</span><span>preview+</span></span><span class="chrome yes"><span>Chrome</span><span>114+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>114+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><p>The <dfn data-dfn-for="HTMLElement" id="dom-showpopover" data-dfn-type="method"><code>showPopover()</code></dfn> method steps are to run <a href="#show-popover" id="the-popover-attribute:show-popover">show popover</a> given <a id="the-popover-attribute:this" href="https://triple-underscore.github.io/WebIDL-ja.html#this" data-x-internal="this">this</a>, true, and null.</p>

  <p>To <dfn id="show-popover">show popover</dfn>, given an <a href="infrastructure.html#html-elements" id="the-popover-attribute:html-elements-8">HTML element</a> <var>element</var>, a boolean <var>throwExceptions</var>, and an <a href="infrastructure.html#html-elements" id="the-popover-attribute:html-elements-9">HTML element</a> or null <var>invoker</var>:</p>

  <ol><li><p>Let <var>document</var> be <var>element</var>'s <a id="the-popover-attribute:node-document" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">node document</a>.<li><p>Set <var>element</var>'s <a href="#popover-invoker" id="the-popover-attribute:popover-invoker">popover invoker</a> to <var>invoker</var>.<li><p>If the result of running <a href="#check-popover-validity" id="the-popover-attribute:check-popover-validity">check popover validity</a> given <var>element</var>, false, <var>throwExceptions</var>, and null is false, then return.<li><p><a id="the-popover-attribute:assert" href="https://triple-underscore.github.io/infra-ja.html#assert" data-x-internal="assert">Assert</a>: <var>element</var> is not in <var>document</var>'s <a id="the-popover-attribute:top-layer" href="https://triple-underscore.github.io/fullscreen-ja.html#top-layer" data-x-internal="top-layer">top layer</a>.<li><p>If the result of <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-event-fire" id="the-popover-attribute:concept-event-fire" data-x-internal="concept-event-fire">firing an event</a> named <code id="the-popover-attribute:event-beforetoggle"><a href="indices.html#event-beforetoggle">beforetoggle</a></code>, using <code id="the-popover-attribute:toggleevent-2"><a href="#toggleevent">ToggleEvent</a></code>, with the <code id="the-popover-attribute:dom-event-cancelable"><a data-x-internal="dom-event-cancelable" href="https://triple-underscore.github.io/DOM4-ja.html#dom-event-cancelable">cancelable</a></code> attribute initialized to true, the <code id="the-popover-attribute:dom-toggleevent-oldstate-2"><a href="#dom-toggleevent-oldstate">oldState</a></code> attribute initialized to "<code>closed</code>", and the <code id="the-popover-attribute:dom-toggleevent-newstate"><a href="#dom-toggleevent-newstate">newState</a></code> attribute initialized to "<code>open</code>" at <var>element</var> is false, then return.<li><p>If the result of running <a href="#check-popover-validity" id="the-popover-attribute:check-popover-validity-2">check popover validity</a> given <var>element</var>, false, <var>throwExceptions</var>, and <var>document</var> is false, then return.</p>

    <p class="note"><a href="#check-popover-validity" id="the-popover-attribute:check-popover-validity-3">Check popover validity</a> is called again because firing the <code id="the-popover-attribute:event-beforetoggle-2"><a href="indices.html#event-beforetoggle">beforetoggle</a></code> event could have disconnected this element or changed its <code id="the-popover-attribute:attr-popover-10"><a href="#attr-popover">popover</a></code> attribute.</p>
   <li><p>Let <var>shouldRestoreFocus</var> be false.<li><p>If <var>element</var>'s <code id="the-popover-attribute:attr-popover-11"><a href="#attr-popover">popover</a></code> attribute is in the <a href="#attr-popover-auto-state" id="the-popover-attribute:attr-popover-auto-state-3">auto</a> state, then:</p>

    <ol><li><p>Let <var>originalType</var> be the value of <var>element</var>'s <code id="the-popover-attribute:attr-popover-12"><a href="#attr-popover">popover</a></code> attribute.<li><p>Let <var>ancestor</var> be the result of running the <a href="#topmost-popover-ancestor" id="the-popover-attribute:topmost-popover-ancestor-2">topmost popover ancestor</a> algorithm given <var>element</var>.<li><p>If <var>ancestor</var> is null, then set <var>ancestor</var> to <var>document</var>.<li><p>Run <a href="#hide-all-popovers-until" id="the-popover-attribute:hide-all-popovers-until">hide all popovers until</a> given <var>ancestor</var>, false, and true.<li><p>If <var>originalType</var> is not equal to the value of <var>element</var>'s <code id="the-popover-attribute:attr-popover-13"><a href="#attr-popover">popover</a></code> attribute, then throw a <a id="the-popover-attribute:invalidstateerror" href="https://triple-underscore.github.io/WebIDL-ja.html#invalidstateerror" data-x-internal="invalidstateerror">"<code>InvalidStateError</code>"</a> <code id="the-popover-attribute:domexception"><a data-x-internal="domexception" href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-DOMException">DOMException</a></code>.<li><p>If the result of running <a href="#check-popover-validity" id="the-popover-attribute:check-popover-validity-4">check popover validity</a> given <var>element</var>, false, <var>throwExceptions</var>, and <var>document</var> is false, then return.</p>

      <p class="note"><a href="#check-popover-validity" id="the-popover-attribute:check-popover-validity-5">Check popover validity</a> is called again because running <a href="#hide-all-popovers-until" id="the-popover-attribute:hide-all-popovers-until-2">hide all popovers until</a> above could have fired the <code id="the-popover-attribute:event-beforetoggle-3"><a href="indices.html#event-beforetoggle">beforetoggle</a></code> event, and an event handler could have disconnected this element or changed its <code id="the-popover-attribute:attr-popover-14"><a href="#attr-popover">popover</a></code> attribute.</p>
     <li><p>If the result of running <a href="#topmost-auto-popover" id="the-popover-attribute:topmost-auto-popover">topmost auto popover</a> on <var>document</var> is null, then set <var>shouldRestoreFocus</var> to true.</p>

      <p class="note">This ensures that focus is returned to the previously-focused element only for the first popover in a stack.</p>
     </ol>
   <li><p>Set <var>element</var>'s <a id="the-popover-attribute:previously-focused-element" href="interactive-elements.html#previously-focused-element">previously focused element</a> to null.<li><p>Let <var>originallyFocusedElement</var> be <var>document</var>'s <a id="the-popover-attribute:focused-area-of-the-document" href="interaction.html#focused-area-of-the-document">focused area of the document</a>'s <a id="the-popover-attribute:dom-anchor" href="interaction.html#dom-anchor">DOM anchor</a>.<li><p>Add <var>element</var> to <var>document</var>'s <a id="the-popover-attribute:top-layer-2" href="https://triple-underscore.github.io/fullscreen-ja.html#top-layer" data-x-internal="top-layer">top layer</a>.<li><p>Set <var>element</var>'s <a href="#popover-visibility-state" id="the-popover-attribute:popover-visibility-state">popover visibility state</a> to <a href="#popover-showing-state" id="the-popover-attribute:popover-showing-state">showing</a>.<li><p>Run the <a href="#popover-focusing-steps" id="the-popover-attribute:popover-focusing-steps">popover focusing steps</a> given <var>element</var>.<li><p>If <var>shouldRestoreFocus</var> is true and <var>element</var>'s <code id="the-popover-attribute:attr-popover-15"><a href="#attr-popover">popover</a></code> attribute is not in the <a href="#attr-popover-none-state" id="the-popover-attribute:attr-popover-none-state">no popover</a> state, then set <var>element</var>'s <a id="the-popover-attribute:previously-focused-element-2" href="interactive-elements.html#previously-focused-element">previously focused element</a> to <var>originallyFocusedElement</var>.<li><p><a href="#queue-a-popover-toggle-event-task" id="the-popover-attribute:queue-a-popover-toggle-event-task">Queue a popover toggle event task</a> given <var>element</var>, "<code>closed</code>", and "<code>open</code>".</ol>

  <p>To <dfn id="queue-a-popover-toggle-event-task">queue a popover toggle event task</dfn> given an element <var>element</var>, a string <var>oldState</var>, and a string <var>newState</var>:<ol><li><p>If <var>element</var>'s <a href="#popover-toggle-task" id="the-popover-attribute:popover-toggle-task">popover toggle task</a> is not null, then:</p>

    <ol><li><p>Set <var>oldState</var> to <var>element</var>'s <a href="#popover-toggle-task" id="the-popover-attribute:popover-toggle-task-2">popover toggle task</a>'s <a href="#popover-toggle-task-old-state" id="the-popover-attribute:popover-toggle-task-old-state">old state</a>.<li><p>Remove <var>element</var>'s <a href="#popover-toggle-task" id="the-popover-attribute:popover-toggle-task-3">popover toggle task</a>'s <a href="#popover-toggle-task-task" id="the-popover-attribute:popover-toggle-task-task-2">task</a> from its <a id="the-popover-attribute:task-queue" href="webappapis.html#task-queue">task queue</a>.<li><p>Set <var>element</var>'s <a href="#popover-toggle-task" id="the-popover-attribute:popover-toggle-task-4">popover toggle task</a> to null.</ol>
   <li><p><a id="the-popover-attribute:queue-an-element-task" href="webappapis.html#queue-an-element-task">Queue an element task</a> given the <a id="the-popover-attribute:user-interaction-task-source" href="webappapis.html#user-interaction-task-source">user interaction task source</a> and <var>element</var> to run the following steps:</p>

    <ol><li><p><a href="https://triple-underscore.github.io/DOM4-ja.html#concept-event-fire" id="the-popover-attribute:concept-event-fire-2" data-x-internal="concept-event-fire">fire an event</a> named <code id="the-popover-attribute:event-toggle"><a href="indices.html#event-toggle">toggle</a></code>, using <code id="the-popover-attribute:toggleevent-3"><a href="#toggleevent">ToggleEvent</a></code>, with the <code id="the-popover-attribute:dom-toggleevent-oldstate-3"><a href="#dom-toggleevent-oldstate">oldState</a></code> attribute initialized to <var>oldState</var>, and the <code id="the-popover-attribute:dom-toggleevent-newstate-2"><a href="#dom-toggleevent-newstate">newState</a></code> attribute initialized to <var>newState</var> at <var>element</var>.<li><p>Set <var>element</var>'s <a href="#popover-toggle-task" id="the-popover-attribute:popover-toggle-task-5">popover toggle task</a> to null.</ol>
   <li><p>Set <var>element</var>'s <a href="#popover-toggle-task" id="the-popover-attribute:popover-toggle-task-6">popover toggle task</a> to a struct with <a href="#popover-toggle-task-task" id="the-popover-attribute:popover-toggle-task-task-3">task</a> set to the just-queued <a href="webappapis.html#concept-task" id="the-popover-attribute:concept-task">task</a> and <a href="#popover-toggle-task-old-state" id="the-popover-attribute:popover-toggle-task-old-state-2">old state</a> set to <var>oldState</var>.</ol>

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">âœ”</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/hidePopover" title="The hidePopover() method of the HTMLElement interface hides a popover element (i.e. one that has a valid popover attribute) by removing it from the top layer and styling it with display: none.">HTMLElement/hidePopover</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 114+</span></span><span class="safari yes"><span>Safari</span><span>preview+</span></span><span class="chrome yes"><span>Chrome</span><span>114+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>114+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><p>The <dfn data-dfn-for="HTMLElement" id="dom-hidepopover" data-dfn-type="method"><code>hidePopover()</code></dfn> method steps are:</p>

  <ol><li><p>Run the <a href="#hide-popover-algorithm" id="the-popover-attribute:hide-popover-algorithm-2">hide popover algorithm</a> given <a id="the-popover-attribute:this-2" href="https://triple-underscore.github.io/WebIDL-ja.html#this" data-x-internal="this">this</a>, true, true, and true.</ol>

  <p>To <dfn id="hide-popover-algorithm">hide a popover</dfn> given an <a href="infrastructure.html#html-elements" id="the-popover-attribute:html-elements-10">HTML element</a> <var>element</var>, a boolean <var>focusPreviousElement</var>, a boolean <var>fireEvents</var>, and a boolean <var>throwExceptions</var>:</p>

  <ol><li><p>If the result of running <a href="#check-popover-validity" id="the-popover-attribute:check-popover-validity-6">check popover validity</a> given <var>element</var>, true, <var>throwExceptions</var>, and null is false, then return.<li><p>Let <var>document</var> be <var>element</var>'s <a id="the-popover-attribute:node-document-2" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">node document</a>.<li><p>If <var>element</var>'s <code id="the-popover-attribute:attr-popover-16"><a href="#attr-popover">popover</a></code> attribute is in the <a href="#attr-popover-auto-state" id="the-popover-attribute:attr-popover-auto-state-4">auto</a> state, then:</p>

    <ol><li><p>Run <a href="#hide-all-popovers-until" id="the-popover-attribute:hide-all-popovers-until-3">hide all popovers until</a> given <var>element</var>, <var>focusPreviousElement</var>, and <var>fireEvents</var>.<li><p>If the result of running <a href="#check-popover-validity" id="the-popover-attribute:check-popover-validity-7">check popover validity</a> given <var>element</var>, true, <var>throwExceptions</var>, and null is false, then return.</p>

      <p class="note"><a href="#check-popover-validity" id="the-popover-attribute:check-popover-validity-8">Check popover validity</a> is called again because running <a href="#hide-all-popovers-until" id="the-popover-attribute:hide-all-popovers-until-4">hide all popovers until</a> could have disconnected <var>element</var> or changed its <code id="the-popover-attribute:attr-popover-17"><a href="#attr-popover">popover</a></code> attribute.</p>
     <li><p><a id="the-popover-attribute:assert-2" href="https://triple-underscore.github.io/infra-ja.html#assert" data-x-internal="assert">Assert</a>: the last item in <var>document</var>'s <a href="#auto-popover-list" id="the-popover-attribute:auto-popover-list">auto popover list</a> is <var>element</var>.</ol>
   <li><p>Set <var>element</var>'s <a href="#popover-invoker" id="the-popover-attribute:popover-invoker-2">popover invoker</a> to null.<li><p>If <var>fireEvents</var> is true:</p>

    <ol><li><p><a href="https://triple-underscore.github.io/DOM4-ja.html#concept-event-fire" id="the-popover-attribute:concept-event-fire-3" data-x-internal="concept-event-fire">Fire an event</a> named <code id="the-popover-attribute:event-beforetoggle-4"><a href="indices.html#event-beforetoggle">beforetoggle</a></code>, using <code id="the-popover-attribute:toggleevent-4"><a href="#toggleevent">ToggleEvent</a></code>, with the <code id="the-popover-attribute:dom-toggleevent-oldstate-4"><a href="#dom-toggleevent-oldstate">oldState</a></code> attribute initialized to "<code>open</code>", and the <code id="the-popover-attribute:dom-toggleevent-newstate-3"><a href="#dom-toggleevent-newstate">newState</a></code> attribute initialized to "<code>closed</code>" at <var>element</var>.<li><p>If the result of running <a href="#check-popover-validity" id="the-popover-attribute:check-popover-validity-9">check popover validity</a> given <var>element</var>, true, <var>throwExceptions</var>, and null is false, then return.</p>

      <p class="note"><a href="#check-popover-validity" id="the-popover-attribute:check-popover-validity-10">Check popover validity</a> is called again because firing the <code id="the-popover-attribute:event-beforetoggle-5"><a href="indices.html#event-beforetoggle">beforetoggle</a></code> event could have disconnected <var>element</var> or changed its <code id="the-popover-attribute:attr-popover-18"><a href="#attr-popover">popover</a></code> attribute.</p>
     </ol>
   <li><p><a href="https://triple-underscore.github.io/infra-ja.html#list-remove" id="the-popover-attribute:list-remove" data-x-internal="list-remove">Remove</a> <var>element</var> from the <a id="the-popover-attribute:top-layer-3" href="https://triple-underscore.github.io/fullscreen-ja.html#top-layer" data-x-internal="top-layer">top layer</a>.<li><p>Set <var>element</var>'s <a href="#popover-visibility-state" id="the-popover-attribute:popover-visibility-state-2">popover visibility state</a> to <a href="#popover-hidden-state" id="the-popover-attribute:popover-hidden-state-2">hidden</a>.<li><p>If <var>fireEvents</var> is true, then <a href="#queue-a-popover-toggle-event-task" id="the-popover-attribute:queue-a-popover-toggle-event-task-2">queue a popover toggle event task</a> given <var>element</var>, "<code>open</code>", and "<code>closed</code>".<li><p>Let <var>previouslyFocusedElement</var> be <var>element</var>'s <a id="the-popover-attribute:previously-focused-element-3" href="interactive-elements.html#previously-focused-element">previously focused element</a>.<li><p>If <var>previouslyFocusedElement</var> is not null, then:</p>

    <ol><li><p>Set <var>element</var>'s <a id="the-popover-attribute:previously-focused-element-4" href="interactive-elements.html#previously-focused-element">previously focused element</a> to null.<li><p>If <var>focusPreviousElement</var> is true and <var>document</var>'s <a id="the-popover-attribute:focused-area-of-the-document-2" href="interaction.html#focused-area-of-the-document">focused area of the document</a>'s <a id="the-popover-attribute:dom-anchor-2" href="interaction.html#dom-anchor">DOM anchor</a> is a <a id="the-popover-attribute:shadow-including-inclusive-descendant" href="https://triple-underscore.github.io/DOM4-ja.html#concept-shadow-including-inclusive-descendant" data-x-internal="shadow-including-inclusive-descendant">shadow-including inclusive descendant</a> of <var>element</var>, then run the <a id="the-popover-attribute:focusing-steps" href="interaction.html#focusing-steps">focusing steps</a> for <var>previouslyFocusedElement</var>; the viewport should not be scrolled by doing this step.</ol>
   </ol>

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">âœ”</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/togglePopover" title="The togglePopover() method of the HTMLElement interface toggles a popover element (i.e. one that has a valid popover attribute) between the hidden and showing states.">HTMLElement/togglePopover</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 114+</span></span><span class="safari yes"><span>Safari</span><span>preview+</span></span><span class="chrome yes"><span>Chrome</span><span>114+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>114+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><p>The <dfn data-dfn-for="HTMLElement" id="dom-togglepopover" data-dfn-type="method"><code>togglePopover(<var>force</var>)</code></dfn> method steps are:</p>

  <ol><li><p>If <a id="the-popover-attribute:this-3" href="https://triple-underscore.github.io/WebIDL-ja.html#this" data-x-internal="this">this</a>'s <a href="#popover-visibility-state" id="the-popover-attribute:popover-visibility-state-3">popover visibility state</a> is <a href="#popover-showing-state" id="the-popover-attribute:popover-showing-state-2">showing</a>, and <var>force</var> is not present or false, then run the <a href="#hide-popover-algorithm" id="the-popover-attribute:hide-popover-algorithm-3">hide popover algorithm</a> given <a id="the-popover-attribute:this-4" href="https://triple-underscore.github.io/WebIDL-ja.html#this" data-x-internal="this">this</a>, true, true, and true.<li><p>Otherwise, if <var>force</var> is not present or true, then run <a href="#show-popover" id="the-popover-attribute:show-popover-2">show popover</a> given <a id="the-popover-attribute:this-5" href="https://triple-underscore.github.io/WebIDL-ja.html#this" data-x-internal="this">this</a> true, and null.</ol>

  <p>To <dfn id="hide-all-popovers-until">hide all popovers until</dfn>, given an <a href="infrastructure.html#html-elements" id="the-popover-attribute:html-elements-11">HTML element</a> or <code id="the-popover-attribute:document-2"><a href="dom.html#document">Document</a></code> <var>endpoint</var>, a boolean <var>focusPreviousElement</var>, and a boolean <var>fireEvents</var>:</p>

  <ol><li><p>Let <var>document</var> be <var>endpoint</var>'s <a id="the-popover-attribute:node-document-3" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">node document</a>.<li><p>Let <var>closeAllOpenPopovers</var> be an algorithm which performs the following steps:</p>

    <ol><li><p>Let <var>popover</var> be <var>document</var>'s <a href="#topmost-auto-popover" id="the-popover-attribute:topmost-auto-popover-2">topmost auto popover</a>.<li><p>While <var>popover</var> is not null:</p>

      <ol><li><p>Run the <a href="#hide-popover-algorithm" id="the-popover-attribute:hide-popover-algorithm-4">hide popover algorithm</a> given <var>popover</var>, <var>focusPreviousElement</var>, <var>fireEvents</var>, and false.<li><p>Set <var>popover</var> to <var>document</var>'s <a href="#topmost-auto-popover" id="the-popover-attribute:topmost-auto-popover-3">topmost auto popover</a>.</ol>
     </ol>
   <li><p>If <var>endpoint</var> is a <code id="the-popover-attribute:document-3"><a href="dom.html#document">Document</a></code>, then run <var>closeAllOpenPopovers</var> and return.<li><p>Let <var>lastToHide</var> be null.<li><p>Let <var>foundEndpoint</var> be false.<li><p>For each <var>popover</var> in <var>document</var>'s <a href="#auto-popover-list" id="the-popover-attribute:auto-popover-list-2">auto popover list</a>:</p>

    <ol><li><p>If <var>popover</var> is <var>endpoint</var>, then set <var>foundEndpoint</var> to true.<li><p>Otherwise, if <var>foundEndpoint</var> is true, then set <var>lastToHide</var> to <var>popover</var> and <a id="the-popover-attribute:break" href="https://triple-underscore.github.io/infra-ja.html#iteration-break" data-x-internal="break">break</a>.</ol>
   <li><p>If <var>foundEndpoint</var> is false, then run <var>closeAllOpenPopovers</var> and return.<li><p>While <var>lastToHide</var> is not null and <var>lastToHide</var>'s <a href="#popover-visibility-state" id="the-popover-attribute:popover-visibility-state-4">popover visibility state</a> is <a href="#popover-showing-state" id="the-popover-attribute:popover-showing-state-3">showing</a> and <var>document</var>'s <a href="#auto-popover-list" id="the-popover-attribute:auto-popover-list-3">auto popover list</a> is not empty:</p>

    <ol><li><p>Run the <a href="#hide-popover-algorithm" id="the-popover-attribute:hide-popover-algorithm-5">hide popover algorithm</a> given <var>document</var>'s <a href="#auto-popover-list" id="the-popover-attribute:auto-popover-list-4">auto popover list</a>'s last element, <var>focusPreviousElement</var>, <var>fireEvents</var>, and false.</ol>
   </ol>

  <p class="note">The <a href="#hide-all-popovers-until" id="the-popover-attribute:hide-all-popovers-until-5">hide all popovers until algorithm</a> is used in several cases to hide all popovers that don't stay open when something happens. For example, during light-dismiss of a popover, this algorithm ensures that we close only the popovers that aren't related to the node clicked by the user.</p>

  <p>To <dfn id="hide-all-popovers" data-export="">hide all popovers</dfn>, given a <code id="the-popover-attribute:document-4"><a href="dom.html#document">Document</a></code> <var>document</var>, run <a href="#hide-all-popovers-until" id="the-popover-attribute:hide-all-popovers-until-6">hide all popovers until</a> given <var>document</var>, false, and false.</p>

  <p>To find the <dfn id="topmost-popover-ancestor">topmost popover ancestor</dfn>, given a <code id="the-popover-attribute:node"><a data-x-internal="node" href="https://triple-underscore.github.io/DOM4-ja.html#interface-node">Node</a></code> <var>newPopover</var>, perform the following steps. They return an <a href="infrastructure.html#html-elements" id="the-popover-attribute:html-elements-12">HTML element</a> or null.</p>

  <div class="note"><p>The <a href="#topmost-popover-ancestor" id="the-popover-attribute:topmost-popover-ancestor-3">topmost popover ancestor</a> algorithm will return the topmost (latest in the <a href="#auto-popover-list" id="the-popover-attribute:auto-popover-list-5">auto popover list</a>) ancestor popover for the provided popover. Popovers can be related to each other in several ways, creating a tree of popovers. There are two paths through which one popover (call it the "child" popover) can have a topmost ancestor popover (call it the "parent" popover):</p>

   <ol><li><p>The popovers are nested within each other in the node tree. In this case, the descendant popover is the "child" and its topmost ancestor popover is the "parent".<li><p>An invoking element (e.g., a <code id="the-popover-attribute:the-button-element"><a href="form-elements.html#the-button-element">button</a></code>) has a <code id="the-popover-attribute:attr-popovertarget"><a href="#attr-popovertarget">popovertarget</a></code> attribute pointing to a popover. In this case, the popover is the "child", and the popover subtree the invoking element is in is the "parent". The invoker has to be in a popover and reference an open popover.</ol>

   <p>In each of the relationships formed above, the parent popover has to be strictly earlier in the <a href="#auto-popover-list" id="the-popover-attribute:auto-popover-list-6">auto popover list</a> than the child popover, or it does not form a valid ancestral relationship. This eliminates non-showing popovers and self-pointers (e.g., a popover containing an invoking element that points back to the containing popover), and it allows for the construction of a well-formed tree from the (possibly cyclic) graph of connections. Only <a href="#attr-popover-auto-state" id="the-popover-attribute:attr-popover-auto-state-5">auto</a> popovers are considered.</p>
  </div>

  <ol><li><p>Let <var>popoverPositions</var> be an empty <a id="the-popover-attribute:ordered-map" href="https://triple-underscore.github.io/infra-ja.html#ordered-map" data-x-internal="ordered-map">ordered map</a>.<li><p><var>index</var>ã‚’0ã«ã™ã‚‹ã€‚<li><p>Let <var>document</var> be <var>newPopover</var>'s <a id="the-popover-attribute:node-document-4" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">node document</a>.<li><p>For each <var>popover</var> in <var>document</var>'s <a href="#auto-popover-list" id="the-popover-attribute:auto-popover-list-7">auto popover list</a>:</p>

    <ol><li><p><a href="https://triple-underscore.github.io/infra-ja.html#map-set" id="the-popover-attribute:map-set" data-x-internal="map-set">Set</a> <var>popoverPositions</var>[<var>popover</var>] to <var>index</var>.<li><p>Increment <var>index</var> by 1.</ol>
   <li><p><a href="https://triple-underscore.github.io/infra-ja.html#map-set" id="the-popover-attribute:map-set-2" data-x-internal="map-set">Set</a> <var>popoverPositions</var>[<var>newPopover</var>] to <var>index</var>.<li><p>Increment <var>index</var> by 1.<li><p>Let <var>topmostPopoverAncestor</var> be null.<li><p>Let <var>checkAncestor</var> be an algorithm which performs the following steps given <var>candidate</var>:</p>

    <ol><li><p>If <var>candidate</var> is null, then return.<li><p>Let <var>candidateAncestor</var> be the result of running <a href="#nearest-inclusive-open-popover" id="the-popover-attribute:nearest-inclusive-open-popover">nearest inclusive open popover</a> given <var>candidate</var>.<li><p>If <var>candidateAncestor</var> is null, then return.<li><p>Let <var>candidatePosition</var> be <var>popoverPositions</var>[<var>candidateAncestor</var>].<li><p>If <var>topmostPopoverAncestor</var> is null or <var>popoverPositions</var>[<var>topmostPopoverAncestor</var>] is less than <var>candidatePosition</var>, then set <var>topmostPopoverAncestor</var> to <var>candidateAncestor</var>.</ol>
   <li><p>Run <var>checkAncestor</var> given the result of running <a href="#nearest-inclusive-open-popover" id="the-popover-attribute:nearest-inclusive-open-popover-2">nearest inclusive open popover</a> given <var>newPopover</var>'s parent node within the <a id="the-popover-attribute:flat-tree" href="https://triple-underscore.github.io/css-scoping-ja.html#flat-tree" data-x-internal="flat-tree">flat tree</a>.<li><p>Run <var>checkAncestor</var> given <var>newPopover</var>'s <a href="#popover-invoker" id="the-popover-attribute:popover-invoker-3">popover invoker</a>.<li><p>return <var>topmostPopoverAncestor</var>.</ol>

  <p>To find the <dfn id="nearest-inclusive-open-popover">nearest inclusive open popover</dfn> given a <code id="the-popover-attribute:node-2"><a data-x-internal="node" href="https://triple-underscore.github.io/DOM4-ja.html#interface-node">Node</a></code> <var>node</var>, perform the following steps. They return an <a href="infrastructure.html#html-elements" id="the-popover-attribute:html-elements-13">HTML element</a> or null.</p>

  <ol><li><p>Let <var>currentNode</var> be <var>node</var>.<li><p>While <var>currentNode</var> is not null:</p>

    <ol><li><p>If <var>currentNode</var>'s <code id="the-popover-attribute:attr-popover-19"><a href="#attr-popover">popover</a></code> attribute is in the <a href="#attr-popover-auto-state" id="the-popover-attribute:attr-popover-auto-state-6">auto</a> state and <var>currentNode</var>'s <a href="#popover-visibility-state" id="the-popover-attribute:popover-visibility-state-5">popover visibility state</a> is <a href="#popover-showing-state" id="the-popover-attribute:popover-showing-state-4">showing</a>, then return <var>currentNode</var>.<li><p>Set <var>currentNode</var> to <var>currentNode</var>'s parent in the <a id="the-popover-attribute:flat-tree-2" href="https://triple-underscore.github.io/css-scoping-ja.html#flat-tree" data-x-internal="flat-tree">flat tree</a>.</ol>
   <li><p>Return null.</ol>

  <p>To <dfn id="topmost-auto-popover">find the topmost auto popover</dfn> given a <code id="the-popover-attribute:document-5"><a href="dom.html#document">Document</a></code> <var>document</var>, perform the following steps. They return an <a href="infrastructure.html#html-elements" id="the-popover-attribute:html-elements-14">HTML element</a> or null.</p>

  <ol><li><p>If <var>document</var>'s <a href="#auto-popover-list" id="the-popover-attribute:auto-popover-list-8">auto popover list</a> is not empty, then return <var>document</var>'s <a href="#auto-popover-list" id="the-popover-attribute:auto-popover-list-9">auto popover list</a>'s last element.<li><p>Return null.</ol>

  <p>To perform the <dfn id="popover-focusing-steps">popover focusing steps</dfn> for an <a href="infrastructure.html#html-elements" id="the-popover-attribute:html-elements-15">HTML element</a> <var>subject</var>:</p>

  <ol><li><p>If <var>subject</var> is a <code id="the-popover-attribute:the-dialog-element"><a href="interactive-elements.html#the-dialog-element">dialog</a></code> element, then run the <a id="the-popover-attribute:dialog-focusing-steps" href="interactive-elements.html#dialog-focusing-steps">dialog focusing steps</a> given <var>subject</var> and return.<li><p>Let <var>control</var> be the <a id="the-popover-attribute:focus-delegate" href="interaction.html#focus-delegate">focus delegate</a> of <var>subject</var> given "<code>other</code>" and true.<li><p>If <var>control</var> is null, then return.<li><p>Run the <a id="the-popover-attribute:focusing-steps-2" href="interaction.html#focusing-steps">focusing steps</a> given <var>control</var>.<li><p>Let <var>topDocument</var> be the <a id="the-popover-attribute:active-document" href="document-sequences.html#active-document">active document</a> of <var>control</var>'s <a id="the-popover-attribute:node-document-5" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">node document</a>'s <a href="document-sequences.html#concept-document-bc" id="the-popover-attribute:concept-document-bc">browsing context</a>'s <a id="the-popover-attribute:top-level-browsing-context" href="document-sequences.html#top-level-browsing-context">top-level browsing context</a>.<li><p>If <var>control</var>'s <a id="the-popover-attribute:node-document-6" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">node document</a>'s <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-origin" id="the-popover-attribute:concept-document-origin" data-x-internal="concept-document-origin">origin</a> is not the <a href="browsers.html#same-origin" id="the-popover-attribute:same-origin">same</a> as the <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-origin" id="the-popover-attribute:concept-document-origin-2" data-x-internal="concept-document-origin">origin</a> of <var>topDocument</var>, then return.<li><p><a href="https://triple-underscore.github.io/infra-ja.html#list-empty" id="the-popover-attribute:list-empty" data-x-internal="list-empty">Empty</a> <var>topDocument</var>'s <a id="the-popover-attribute:autofocus-candidates" href="interaction.html#autofocus-candidates">autofocus candidates</a>.<li><p>Set <var>topDocument</var>'s <a id="the-popover-attribute:autofocus-processed-flag" href="interaction.html#autofocus-processed-flag">autofocus processed flag</a> to true.</ol>

  <p>To <dfn id="check-popover-validity">check popover validity</dfn> for an <a href="infrastructure.html#html-elements" id="the-popover-attribute:html-elements-16">HTML element</a> <var>element</var> given a boolean <var>expectedToBeShowing</var>, a boolean <var>throwExceptions</var>, and a <code id="the-popover-attribute:document-6"><a href="dom.html#document">Document</a></code> or null <var>expectedDocument</var> perform the following steps. They throw an exception or return a boolean.</p>

  <ol><li><p>If <var>element</var>'s <code id="the-popover-attribute:attr-popover-20"><a href="#attr-popover">popover</a></code> attribute is in the <a href="#attr-popover-none-state" id="the-popover-attribute:attr-popover-none-state-2">no popover</a> state, then:</p>

    <ol><li><p>If <var>throwExceptions</var> is true, then throw a <a id="the-popover-attribute:notsupportederror" href="https://triple-underscore.github.io/WebIDL-ja.html#notsupportederror" data-x-internal="notsupportederror">"<code>NotSupportedError</code>"</a> <code id="the-popover-attribute:domexception-2"><a data-x-internal="domexception" href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-DOMException">DOMException</a></code>.<li><p>falseã‚’è¿”ã™ã€‚</ol>
   <li><p>If one of the following conditions is true</p>

    <ul><li><p><var>expectedToBeShowing</var> is true and <var>element</var>'s <a href="#popover-visibility-state" id="the-popover-attribute:popover-visibility-state-6">popover visibility state</a> is not <a href="#popover-showing-state" id="the-popover-attribute:popover-showing-state-5">showing</a><li><p><var>expectedToBeShowing</var> is false and <var>element</var>'s <a href="#popover-visibility-state" id="the-popover-attribute:popover-visibility-state-7">popover visibility state</a> is not <a href="#popover-hidden-state" id="the-popover-attribute:popover-hidden-state-3">hidden</a></ul>

    <p>then return false.</p>
   <li><p>If one of the following conditions is true</p>

    <ul><li><p><var>element</var> is not <a id="the-popover-attribute:connected" href="https://triple-underscore.github.io/DOM4-ja.html#connected" data-x-internal="connected">connected</a><li><p><var>expectedDocument</var> is not null and <var>element</var>'s <a id="the-popover-attribute:node-document-7" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">node document</a> is not <var>expectedDocument</var><li><p><var>element</var> is a <code id="the-popover-attribute:the-dialog-element-2"><a href="interactive-elements.html#the-dialog-element">dialog</a></code> element and has an <code id="the-popover-attribute:attr-details-open"><a href="interactive-elements.html#attr-details-open">open</a></code> attribute<li><p><var>element</var>'s <a id="the-popover-attribute:fullscreen-flag" href="https://fullscreen.spec.whatwg.org/#fullscreen-flag" data-x-internal="fullscreen-flag">fullscreen flag</a> is set</ul>

    <p>then:</p>

    <ol><li><p>If <var>throwExceptions</var> is true, then throw a <a id="the-popover-attribute:invalidstateerror-2" href="https://triple-underscore.github.io/WebIDL-ja.html#invalidstateerror" data-x-internal="invalidstateerror">"<code>InvalidStateError</code>"</a> <code id="the-popover-attribute:domexception-3"><a data-x-internal="domexception" href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-DOMException">DOMException</a></code>.<li><p>falseã‚’è¿”ã™ã€‚</ol>
   <li><p>Return true.</ol>

  <p>To get the <dfn id="auto-popover-list">auto popover list</dfn> for a <code id="the-popover-attribute:document-7"><a href="dom.html#document">Document</a></code> <var>document</var>:</p>

  <ol><li><p>Let <var>popovers</var> be Â« Â».<li><p><a href="https://triple-underscore.github.io/infra-ja.html#list-iterate" id="the-popover-attribute:list-iterate" data-x-internal="list-iterate">For each</a> <code id="the-popover-attribute:element"><a data-x-internal="element" href="https://triple-underscore.github.io/DOM4-ja.html#interface-element">Element</a></code> <var>element</var> in <var>document</var>'s <a id="the-popover-attribute:top-layer-4" href="https://triple-underscore.github.io/fullscreen-ja.html#top-layer" data-x-internal="top-layer">top layer</a>: if <var>element</var>'s <code id="the-popover-attribute:attr-popover-21"><a href="#attr-popover">popover</a></code> attribute is in the <a href="#attr-popover-auto-state" id="the-popover-attribute:attr-popover-auto-state-7">auto state</a>, then <a href="https://triple-underscore.github.io/infra-ja.html#list-append" id="the-popover-attribute:list-append" data-x-internal="list-append">append</a> <var>element</var> to <var>popovers</var>.<li><p>Return <var>popovers</var>.</ol>

  <h4 id="the-popover-target-attributes"><span class="secno">6.11.1</span> ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå±æ€§<a href="#the-popover-target-attributes" class="self-link"></a></h4>

  <p><a href="forms.html#concept-button" id="the-popover-target-attributes:concept-button">ãƒœã‚¿ãƒ³</a>ã«ã¯ã€æ¬¡ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å±æ€§ã‚’è¨­å®šã—ã¦ã‚‚ã‚ˆã„ï¼š</p>

  <ul><li><p><dfn data-dfn-for="html-global" id="attr-popovertarget" data-dfn-type="element-attr"><code>popovertarget</code></dfn><li><p><dfn data-dfn-for="html-global" id="attr-popovertargetaction" data-dfn-type="element-attr"><code>popovertargetaction</code></dfn></ul>

  <p>æŒ‡å®šã•ã‚ŒãŸå ´åˆã€<code id="the-popover-target-attributes:attr-popovertarget"><a href="#attr-popovertarget">popovertarget</a></code>å±æ€§å€¤ã¯ã€<code id="the-popover-target-attributes:attr-popovertarget-2"><a href="#attr-popovertarget">popovertarget</a></code>å±æ€§ã‚’ã‚‚ã¤<a href="forms.html#concept-button" id="the-popover-target-attributes:concept-button-2">ãƒœã‚¿ãƒ³</a>ã¨åŒã˜<a id="the-popover-target-attributes:tree" href="https://triple-underscore.github.io/DOM4-ja.html#concept-tree" data-x-internal="tree">ãƒ„ãƒªãƒ¼</a>å†…ã®<code id="the-popover-target-attributes:attr-popover"><a href="#attr-popover">popover</a></code>å±æ€§ã‚’ã‚‚ã¤è¦ç´ ã®<a href="https://triple-underscore.github.io/DOM4-ja.html#concept-id" id="the-popover-target-attributes:concept-id" data-x-internal="concept-id">ID</a>ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚</p>

  <p><code id="the-popover-target-attributes:attr-popovertargetaction"><a href="#attr-popovertargetaction">popovertargetaction</a></code>å±æ€§ã¯ã€æ¬¡ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¨çŠ¶æ…‹ã‚’æŒã¤<a id="the-popover-target-attributes:enumerated-attribute" href="common-microsyntaxes.html#enumerated-attribute">åˆ—æŒ™å±æ€§</a>ã§ã‚ã‚‹ï¼š</p>

  <table><thead><tr><th>ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰<th>çŠ¶æ…‹<th>æ¦‚è¦<tbody><tr><td><dfn data-dfn-for="html-global/popovertargetaction" id="attr-popovertargetaction-toggle" data-dfn-type="attr-value"><code>toggle</code></dfn><td><dfn id="attr-popovertargetaction-toggle-state">toggle</dfn><td>ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼è¦ç´ ã‚’è¡¨ç¤ºã¾ãŸã¯éè¡¨ç¤ºã™ã‚‹ã€‚<tr><td><dfn data-dfn-for="html-global/popovertargetaction" id="attr-popovertargetaction-show" data-dfn-type="attr-value"><code>show</code></dfn><td><dfn id="attr-popovertargetaction-show-state">show</dfn><td>ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼è¦ç´ ã‚’è¡¨ç¤ºã™ã‚‹ã€‚<tr><td><dfn data-dfn-for="html-global/popovertargetaction" id="attr-popovertargetaction-hide" data-dfn-type="attr-value"><code>hide</code></dfn><td><dfn id="attr-popovertargetaction-hide-state">hide</dfn><td>ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼è¦ç´ ã‚’éè¡¨ç¤ºã«ã™ã‚‹ã€‚</table>

  <p><code id="the-popover-target-attributes:attr-popovertargetaction-2"><a href="#attr-popovertargetaction">popovertargetaction</a></code>å±æ€§ã®<i id="the-popover-target-attributes:invalid-value-default"><a href="common-microsyntaxes.html#invalid-value-default">ä¸æ­£å€¤ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ</a></i>ã¨<i id="the-popover-target-attributes:missing-value-default"><a href="common-microsyntaxes.html#missing-value-default">æ¬ æå€¤ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ</a></i>ã®ä¸¡æ–¹ã¯ã€<a href="#attr-popovertargetaction-toggle-state" id="the-popover-target-attributes:attr-popovertargetaction-toggle-state">ãƒˆã‚°ãƒ«</a>çŠ¶æ…‹ã§ã‚ã‚‹ã€‚</p>

  <p class="note">Whenever possible ensure the popover element is placed immediately after its triggering element in the DOM. Doing so will help ensure that the popover is exposed in a logical programmatic reading order for users of assistive technology, such as screen readers.</p>

  <div class="example"><p>The following shows how the <code id="the-popover-target-attributes:attr-popovertarget-3"><a href="#attr-popovertarget">popovertarget</a></code> attribute in combination with the <code id="the-popover-target-attributes:attr-popovertargetaction-3"><a href="#attr-popovertargetaction">popovertargetaction</a></code> attribute can be used to show and close a popover:</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>button</c-> <c- e>popovertarget</c-><c- o>=</c-><c- s>"foo"</c-> <c- e>popovertargetaction</c-><c- o>=</c-><c- s>"show"</c-><c- p>></c->
  Show a popover
<c- p>&lt;/</c-><c- f>button</c-><c- p>></c->

<c- p>&lt;</c-><c- f>article</c-> <c- e>popover</c-><c- o>=</c-><c- s>auto</c-> <c- e>id</c-><c- o>=</c-><c- s>"foo"</c-><c- p>></c->
  This is a popover article!
  <c- p>&lt;</c-><c- f>button</c-> <c- e>popovertarget</c-><c- o>=</c-><c- s>"foo"</c-> <c- e>popovertargetaction</c-><c- o>=</c-><c- s>"close"</c-><c- p>></c->Close<c- p>&lt;/</c-><c- f>button</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>article</c-><c- p>></c-></code></pre>

   <p>If a <code id="the-popover-target-attributes:attr-popovertargetaction-4"><a href="#attr-popovertargetaction">popovertargetaction</a></code> attribute is not specified, the default action will be to toggle the associated popover. The following shows how only specifying the <code id="the-popover-target-attributes:attr-popovertarget-4"><a href="#attr-popovertarget">popovertarget</a></code> attribute on its invoking button can toggle a manual popover between its opened and closed states. A manual popover will not light dismiss:</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>"button"</c-> <c- e>popovertarget</c-><c- o>=</c-><c- s>"foo"</c-> <c- e>value</c-><c- o>=</c-><c- s>"Toggle the popover"</c-><c- p>></c->

<c- p>&lt;</c-><c- f>div</c-> <c- e>popover</c-><c- o>=</c-><c- s>manual</c-> <c- e>id</c-><c- o>=</c-><c- s>"foo"</c-><c- p>></c->
  This is a popover!
<c- p>&lt;/</c-><c- f>div</c-><c- p>></c-></code></pre>
  </div><a href="dom.html#concept-element-dom" id="the-popover-target-attributes:concept-element-dom">DOMã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹</a>ï¼š<pre><code class='idl'><c- b>interface</c-> <c- b>mixin</c-> <dfn id='popoverinvokerelement' data-dfn-type='interface'><c- g>PopoverInvokerElement</c-></dfn> {
  [<a id='the-popover-target-attributes:cereactions' href='custom-elements.html#cereactions'><c- g>CEReactions</c-></a>] <c- b>attribute</c-> <c- n>Element</c->? <a href='#dom-popovertargetelement' id='the-popover-target-attributes:dom-popovertargetelement'><c- g>popoverTargetElement</c-></a>;
  [<a id='the-popover-target-attributes:cereactions-2' href='custom-elements.html#cereactions'><c- g>CEReactions</c-></a>] <c- b>attribute</c-> <c- b>DOMString</c-> <a href='#dom-popovertargetaction' id='the-popover-target-attributes:dom-popovertargetaction'><c- g>popoverTargetAction</c-></a>;
};</code></pre>

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">âœ”</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLButtonElement/popoverTargetElement" title="The popoverTargetElement property of the HTMLButtonElement interface gets and sets the popover element to control via a control button.">HTMLButtonElement/popoverTargetElement</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 114+</span></span><span class="safari yes"><span>Safari</span><span>preview+</span></span><span class="chrome yes"><span>Chrome</span><span>114+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>114+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/popoverTargetElement" title="The popoverTargetElement property of the HTMLInputElement interface gets and sets the popover element to control via an &lt;input> element of type="button".">HTMLInputElement/popoverTargetElement</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 114+</span></span><span class="safari yes"><span>Safari</span><span>preview+</span></span><span class="chrome yes"><span>Chrome</span><span>114+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>114+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><p><dfn data-dfn-for="HTMLElement" id="dom-popovertargetelement" data-dfn-type="attribute"><code>popoverTargetElement</code></dfn> IDLå±æ€§ã¯ã€<code id="the-popover-target-attributes:attr-popovertarget-5"><a href="#attr-popovertarget">popovertarget</a></code>å±æ€§ã‚’<a id="the-popover-target-attributes:reflect" href="common-dom-interfaces.html#reflect">åæ˜ </a>ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚</p>

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">âœ”</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLButtonElement/popoverTargetAction" title="The popoverTargetAction property of the HTMLButtonElement interface gets and sets the action to be performed ("hide", "show", or "toggle") on a popover element being controlled by a control button.">HTMLButtonElement/popoverTargetAction</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 114+</span></span><span class="safari yes"><span>Safari</span><span>preview+</span></span><span class="chrome yes"><span>Chrome</span><span>114+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>114+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/popoverTargetAction" title="The popoverTargetAction property of the HTMLInputElement interface gets and sets the action to be performed ("hide", "show", or "toggle") on a popover element being controlled by an &lt;input> element of type="button".">HTMLInputElement/popoverTargetAction</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 114+</span></span><span class="safari yes"><span>Safari</span><span>preview+</span></span><span class="chrome yes"><span>Chrome</span><span>114+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>114+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><p><dfn data-dfn-for="HTMLElement" id="dom-popovertargetaction" data-dfn-type="attribute"><code>popoverTargetAction</code></dfn> IDLå±æ€§ã¯ã€<a id="the-popover-target-attributes:limited-to-only-known-values" href="common-dom-interfaces.html#limited-to-only-known-values">æ—¢çŸ¥ã®å€¤ã®ã¿ã«åˆ¶é™ã•ã‚Œã‚‹</a>ã€<code id="the-popover-target-attributes:attr-popovertargetaction-5"><a href="#attr-popovertargetaction">popoverTargetAction</a></code>å±æ€§ã‚’<a id="the-popover-target-attributes:reflect-2" href="common-dom-interfaces.html#reflect">åæ˜ </a>ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚</p>

  <p>To run the <dfn id="popover-target-attribute-activation-behavior">popover target attribute activation behavior</dfn> given a <code id="the-popover-target-attributes:node"><a data-x-internal="node" href="https://triple-underscore.github.io/DOM4-ja.html#interface-node">Node</a></code> <var>node</var>:</p>

  <ol><li><p>Let <var>popover</var> be <var>node</var>'s <a href="#popover-target-element" id="the-popover-target-attributes:popover-target-element">popover target element</a>.<li><p>If <var>popover</var> is null, then return.<li><p>If <var>node</var>'s <code id="the-popover-target-attributes:attr-popovertargetaction-6"><a href="#attr-popovertargetaction">popovertargetaction</a></code> attribute is in the <a href="#attr-popovertargetaction-show" id="the-popover-target-attributes:attr-popovertargetaction-show">show</a> state and <var>popover</var>'s <a href="#popover-visibility-state" id="the-popover-target-attributes:popover-visibility-state">popover visibility state</a> is <a href="#popover-showing-state" id="the-popover-target-attributes:popover-showing-state">showing</a>, then return.<li><p>If <var>node</var>'s <code id="the-popover-target-attributes:attr-popovertargetaction-7"><a href="#attr-popovertargetaction">popovertargetaction</a></code> attribute is in the <a href="#attr-popovertargetaction-hide" id="the-popover-target-attributes:attr-popovertargetaction-hide">hide</a> state and <var>popover</var>'s <a href="#popover-visibility-state" id="the-popover-target-attributes:popover-visibility-state-2">popover visibility state</a> is <a href="#popover-hidden-state" id="the-popover-target-attributes:popover-hidden-state">hidden</a>, then return.<li><p>If <var>popover</var>'s <a href="#popover-visibility-state" id="the-popover-target-attributes:popover-visibility-state-3">popover visibility state</a> is <a href="#popover-showing-state" id="the-popover-target-attributes:popover-showing-state-2">showing</a>, then run the <a href="#hide-popover-algorithm" id="the-popover-target-attributes:hide-popover-algorithm">hide popover algorithm</a> given <var>popover</var>, true, true, and false.<li><p>Otherwise, if <var>popover</var>'s <a href="#popover-visibility-state" id="the-popover-target-attributes:popover-visibility-state-4">popover visibility state</a> is <a href="#popover-hidden-state" id="the-popover-target-attributes:popover-hidden-state-2">hidden</a> and the result of running <a href="#check-popover-validity" id="the-popover-target-attributes:check-popover-validity">check popover validity</a> given <var>popover</var>, false, false, and null is true, then run <a href="#show-popover" id="the-popover-target-attributes:show-popover">show popover</a> given <var>popover</var>, false, and <var>node</var>.</ol>

  <p>To get the <dfn id="popover-target-element">popover target element</dfn> given a <code id="the-popover-target-attributes:node-2"><a data-x-internal="node" href="https://triple-underscore.github.io/DOM4-ja.html#interface-node">Node</a></code> <var>node</var>, perform the following steps. They return an <a href="infrastructure.html#html-elements" id="the-popover-target-attributes:html-elements">HTML element</a> or null.</p>

  <ol><li><p>If <var>node</var> is not a <a href="forms.html#concept-button" id="the-popover-target-attributes:concept-button-3">button</a>, then return null.<li><p>If <var>node</var> is <a href="form-control-infrastructure.html#concept-fe-disabled" id="the-popover-target-attributes:concept-fe-disabled">disabled</a>, then return null.<li><p>If <var>node</var> has a <a id="the-popover-target-attributes:form-owner" href="form-control-infrastructure.html#form-owner">form owner</a> and <var>node</var> is a <a href="forms.html#concept-submit-button" id="the-popover-target-attributes:concept-submit-button">submit button</a>, then return null.<li><p>Let <var>popoverElement</var> be <var>node</var>'s <a href="common-dom-interfaces.html#attr-associated-element" id="the-popover-target-attributes:attr-associated-element"><code>popovertarget</code>-associated element</a>.<li><p>If <var>popoverElement</var> is null, then return null.<li><p>If <var>popoverElement</var>'s <code id="the-popover-target-attributes:attr-popover-2"><a href="#attr-popover">popover</a></code> attribute is in the <a href="#attr-popover-none-state" id="the-popover-target-attributes:attr-popover-none-state">no popover</a> state, then return null.<li><p>Return <var>popoverElement</var>.</ol>

  <h4 id="popover-light-dismiss"><span class="secno">6.11.2</span> <dfn>ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ã®ç°¡æ˜“éè¡¨ç¤º</dfn><a href="#popover-light-dismiss" class="self-link"></a></h4>

  <p class="note">"ç°¡æ˜“éè¡¨ç¤º"ã¨ã¯ã€<kbd>Esc</kbd>ã‚­ãƒ¼ã‚’æŠ¼ã™ã‹ã€<code id="popover-light-dismiss:attr-popover"><a href="#attr-popover">popover</a></code>å±æ€§ãŒ<a href="#attr-popover-auto-state" id="popover-light-dismiss:attr-popover-auto-state">auto</a>çŠ¶æ…‹ã®ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ã®å¤–å´ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ãŒé–‰ã˜ã‚‹ã“ã¨ã‚’æ„å‘³ã™ã‚‹ã€‚</p>

  <p id="canceling-popovers"><strong>ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ã®ã‚­ãƒ£ãƒ³ã‚»ãƒ«</strong>ï¼š<code id="popover-light-dismiss:document"><a href="dom.html#document">Document</a></code>ã«<a href="#topmost-auto-popover" id="popover-light-dismiss:topmost-auto-popover">æœ€ä¸Šä½ã®è‡ªå‹•ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼</a>ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å ´åˆã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¯ã€ã‚¢ã‚¯ãƒ†ã‚£ãƒ–åŒ–æ™‚ã«ã€<a href="#topmost-auto-popover" id="popover-light-dismiss:topmost-auto-popover-2">æœ€ä¸Šä½ã®è‡ªå‹•ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼</a>ã€trueãŠã‚ˆã³falseãŒæŒ‡å®šã•ã‚ŒãŸ<a id="popover-light-dismiss:user-interaction-task-source" href="webappapis.html#user-interaction-task-source">ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¹ã‚¯ã‚½ãƒ¼ã‚¹</a>ã§<a href="webappapis.html#queue-an-element-task" id="popover-light-dismiss:queue-an-element-task">è¦ç´ ã‚¿ã‚¹ã‚¯ã‚’ã‚­ãƒ¥ãƒ¼ã«å…¥ã‚Œ</a>ã€<a href="#topmost-auto-popover" id="popover-light-dismiss:topmost-auto-popover-3">æœ€ä¸Šä½ã®è‡ªå‹•ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼</a>ãŒæŒ‡å®šã•ã‚ŒãŸ<a href="#hide-popover-algorithm" id="popover-light-dismiss:hide-popover-algorithm">éè¡¨ç¤ºã®ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ </a>ã‚’å®Ÿè¡Œã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’æä¾›ã—ã¦ã‚‚ã‚ˆã„ã€‚</p>

  <p>To <dfn id="light-dismiss-open-popovers">light dismiss open popovers</dfn>, given an <code id="popover-light-dismiss:event"><a data-x-internal="event" href="https://triple-underscore.github.io/DOM4-ja.html#interface-event">Event</a></code> <var>event</var>:</p>

  <ol><li><p><a id="popover-light-dismiss:assert" href="https://triple-underscore.github.io/infra-ja.html#assert" data-x-internal="assert">Assert</a>: <var>event</var>'s <code id="popover-light-dismiss:dom-event-istrusted"><a data-x-internal="dom-event-istrusted" href="https://triple-underscore.github.io/DOM4-ja.html#dom-event-istrusted">isTrusted</a></code> attribute is true.<li><p>Let <var>target</var> be <var>event</var>'s <a href="https://dom.spec.whatwg.org/#concept-event-target" id="popover-light-dismiss:concept-event-target" data-x-internal="concept-event-target">target</a>.<li><p>Let <var>document</var> be <var>target</var>'s <a id="popover-light-dismiss:node-document" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">node document</a>.<li><p>Let <var>topmostPopover</var> be the result of running <a href="#topmost-auto-popover" id="popover-light-dismiss:topmost-auto-popover-4">topmost auto popover</a> given <var>document</var>.<li><p>If <var>topmostPopover</var> is null, then return.<li><p>If <var>event</var> is a <code id="popover-light-dismiss:pointerevent"><a data-x-internal="pointerevent" href="https://triple-underscore.github.io/pointerevents3-ja.html#pointerevent-interface">PointerEvent</a></code> and <var>event</var>'s <code id="popover-light-dismiss:dom-event-type"><a data-x-internal="dom-event-type" href="https://triple-underscore.github.io/DOM4-ja.html#dom-event-type">type</a></code> is <code id="popover-light-dismiss:event-pointerdown"><a data-x-internal="event-pointerdown" href="https://triple-underscore.github.io/pointerevents3-ja.html#the-pointerdown-event">pointerdown</a></code>, then: set <var>document</var>'s <a href="#popover-pointerdown-target" id="popover-light-dismiss:popover-pointerdown-target">popover pointerdown target</a> to the result of running <a href="#topmost-clicked-popover" id="popover-light-dismiss:topmost-clicked-popover">topmost clicked popover</a> given <var>target</var>.<li><p>If <var>event</var> is a <code id="popover-light-dismiss:pointerevent-2"><a data-x-internal="pointerevent" href="https://triple-underscore.github.io/pointerevents3-ja.html#pointerevent-interface">PointerEvent</a></code> and <var>event</var>'s <code id="popover-light-dismiss:dom-event-type-2"><a data-x-internal="dom-event-type" href="https://triple-underscore.github.io/DOM4-ja.html#dom-event-type">type</a></code> is <code id="popover-light-dismiss:event-pointerup"><a data-x-internal="event-pointerup" href="https://triple-underscore.github.io/pointerevents3-ja.html#the-pointerup-event">pointerup</a></code>, then:</p>

    <ol><li><p>Let <var>ancestor</var> be the result of running <a href="#topmost-clicked-popover" id="popover-light-dismiss:topmost-clicked-popover-2">topmost clicked popover</a> given <var>target</var>.<li><p>Let <var>sameTarget</var> be true if <var>ancestor</var> is <var>document</var>'s <a href="#popover-pointerdown-target" id="popover-light-dismiss:popover-pointerdown-target-2">popover pointerdown target</a>.<li><p>Set <var>document</var>'s <a href="#popover-pointerdown-target" id="popover-light-dismiss:popover-pointerdown-target-3">popover pointerdown target</a> to null.<li><p>If <var>ancestor</var> is null, then set <var>ancestor</var> to <var>document</var>.<li><p>If <var>sameTarget</var> is true, then run <a href="#hide-all-popovers-until" id="popover-light-dismiss:hide-all-popovers-until">hide all popovers until</a> given <var>ancestor</var>, false, and true.</ol>
   </ol>

  <p class="XXX"><a href="#light-dismiss-open-popovers" id="popover-light-dismiss:light-dismiss-open-popovers">Light dismiss open popovers</a> will be called by the <a href="https://github.com/w3c/pointerevents/pull/460">Pointer Events spec</a> when the user clicks or touches anywhere on the page.</p>

  <p>To find the <dfn id="topmost-clicked-popover">topmost clicked popover</dfn>, given a <code id="popover-light-dismiss:node"><a data-x-internal="node" href="https://triple-underscore.github.io/DOM4-ja.html#interface-node">Node</a></code> <var>node</var>:</p>

  <ol><li><p>Let <var>clickedPopover</var> be the result of running <a href="#nearest-inclusive-open-popover" id="popover-light-dismiss:nearest-inclusive-open-popover">nearest inclusive open popover</a> given <var>node</var>.<li><p>Let <var>invokerPopover</var> be the result of running <a href="#nearest-inclusive-target-popover-for-invoker" id="popover-light-dismiss:nearest-inclusive-target-popover-for-invoker">nearest inclusive target popover for invoker</a> given <var>node</var>.<li><p>Let <var>getStackPosition</var> be an algorithm which performs the following steps given an <a href="infrastructure.html#html-elements" id="popover-light-dismiss:html-elements">HTML element</a> <var>popover</var>:</p>

    <ol><li><p>Let <var>popoverList</var> be <var>popover</var>'s <a id="popover-light-dismiss:node-document-2" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">node document</a>'s <a href="#auto-popover-list" id="popover-light-dismiss:auto-popover-list">auto popover list</a>.<li><p>If <var>popover</var> is in <var>popoverList</var>, then return the index of <var>popover</var> in <var>popoverList</var> + 1.<li><p>Return 0.</ol>
   <li><p>If the result of running <var>getStackPosition</var> given <var>clickedPopover</var> is greater than the result of running <var>getStackPosition</var> given <var>invokerPopover</var>, then return <var>clickedPopover</var>.<li><p>Return <var>invokerPopover</var>.</ol>

  <p>To find the <dfn id="nearest-inclusive-target-popover-for-invoker">nearest inclusive target popover for invoker</dfn> given a <code id="popover-light-dismiss:node-2"><a data-x-internal="node" href="https://triple-underscore.github.io/DOM4-ja.html#interface-node">Node</a></code> <var>node</var>:</p>

  <ol><li><p>Let <var>currentNode</var> be <var>node</var>.<li><p>While <var>currentNode</var> is not null:</p>

    <ol><li><p>Let <var>targetPopover</var> be <var>currentNode</var>'s <a href="#popover-target-element" id="popover-light-dismiss:popover-target-element">popover target element</a>.<li><p>If <var>targetPopover</var> is not null and <var>targetPopover</var>'s <code id="popover-light-dismiss:attr-popover-2"><a href="#attr-popover">popover</a></code> attribute is in the <a href="#attr-popover-auto-state" id="popover-light-dismiss:attr-popover-auto-state-2">auto</a> state and <var>targetPopover</var>'s <a href="#popover-visibility-state" id="popover-light-dismiss:popover-visibility-state">popover visibility state</a> is <a href="#popover-showing-state" id="popover-light-dismiss:popover-showing-state">showing</a>, then return <var>targetPopover</var>.<li><p>Set <var>currentNode</var> to <var>currentNode</var>'s ancestor in the <a id="popover-light-dismiss:flat-tree" href="https://triple-underscore.github.io/css-scoping-ja.html#flat-tree" data-x-internal="flat-tree">flat tree</a>.</ol>
   </ol>

  <h4 id="the-toggleevent-interface"><span class="secno">6.11.3</span> <code id="the-toggleevent-interface:toggleevent"><a href="#toggleevent">ToggleEvent</a></code>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹<a href="#the-toggleevent-interface" class="self-link"></a></h4>

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">âœ”</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ToggleEvent/ToggleEvent" title="The ToggleEvent() constructor creates a new ToggleEvent object.">ToggleEvent/ToggleEvent</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 114+</span></span><span class="safari yes"><span>Safari</span><span>preview+</span></span><span class="chrome yes"><span>Chrome</span><span>114+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>114+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ToggleEvent" title="The ToggleEvent interface represents an event notifying the user when a popover element's state toggles between showing and hidden.">ToggleEvent</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 114+</span></span><span class="safari yes"><span>Safari</span><span>preview+</span></span><span class="chrome yes"><span>Chrome</span><span>114+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>114+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><pre><code class='idl'>[<c- g>Exposed</c->=<c- n>Window</c->]
<c- b>interface</c-> <dfn id='toggleevent' data-dfn-type='interface'><c- g>ToggleEvent</c-></dfn> : <a id='the-toggleevent-interface:event' href='https://triple-underscore.github.io/DOM4-ja.html#interface-event' data-x-internal='event'><c- n>Event</c-></a> {
  <c- g>constructor</c->(<c- b>DOMString</c-> <c- g>type</c->, <c- b>optional</c-> <a href='#toggleeventinit' id='the-toggleevent-interface:toggleeventinit'><c- n>ToggleEventInit</c-></a> <c- g>eventInitDict</c-> = {});
  <c- b>readonly</c-> <c- b>attribute</c-> <c- b>DOMString</c-> <c- g>oldState</c->;
  <c- b>readonly</c-> <c- b>attribute</c-> <c- b>DOMString</c-> <c- g>newState</c->;
};

<c- b>dictionary</c-> <dfn id='toggleeventinit' data-dfn-type='dictionary'><c- g>ToggleEventInit</c-></dfn> : <a id='the-toggleevent-interface:eventinit' href='https://triple-underscore.github.io/DOM4-ja.html#dictdef-eventinit' data-x-internal='eventinit'><c- n>EventInit</c-></a> {
  <c- b>DOMString</c-> <c- g>oldState</c-> = "";
  <c- b>DOMString</c-> <c- g>newState</c-> = "";
};</code></pre>

  <dl class="domintro"><dt><code><var>event</var>.<a href="#dom-toggleevent-oldstate" id="dom-toggleevent-oldstate-dev">oldState</a></code><dd><p>ã‚¯ãƒ­ãƒ¼ã‚ºã‹ã‚‰ã‚ªãƒ¼ãƒ—ãƒ³ã«é·ç§»ã™ã‚‹å ´åˆã¯"<code>closed</code>"ã«è¨­å®šã—ã€ã‚ªãƒ¼ãƒ—ãƒ³ã‹ã‚‰ã‚¯ãƒ­ãƒ¼ã‚ºã«é·ç§»ã™ã‚‹å ´åˆã¯"<code>open</code>"ã«è¨­å®šã™ã‚‹ã€‚</p>
   <dt><code><var>event</var>.<a href="#dom-toggleevent-newstate" id="dom-toggleevent-newstate-dev">newState</a></code><dd><p>ã‚¯ãƒ­ãƒ¼ã‚ºã‹ã‚‰ã‚ªãƒ¼ãƒ—ãƒ³ã«é·ç§»ã™ã‚‹å ´åˆã¯"<code>open</code>"ã«è¨­å®šã—ã€ã‚ªãƒ¼ãƒ—ãƒ³ã‹ã‚‰ã‚¯ãƒ­ãƒ¼ã‚ºã«é·ç§»ã™ã‚‹å ´åˆã¯"<code>closed</code>"ã«è¨­å®šã™ã‚‹ã€‚</p>
   </dl>

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">âœ”</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ToggleEvent/oldState" title="The oldState read-only property of the ToggleEvent interface is a string representing the state the element is transitioning from.">ToggleEvent/oldState</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 114+</span></span><span class="safari yes"><span>Safari</span><span>preview+</span></span><span class="chrome yes"><span>Chrome</span><span>114+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>114+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><p><dfn data-dfn-for="ToggleEvent" id="dom-toggleevent-oldstate" data-dfn-type="attribute"><code>oldState</code></dfn>å±æ€§ã¯ã€åˆæœŸåŒ–ã•ã‚ŒãŸå€¤ã‚’è¿”ã•ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚<code id="the-toggleevent-interface:attr-popover"><a href="#attr-popover">popover</a></code>å±æ€§ã®<a href="#popover-visibility-state" id="the-toggleevent-interface:popover-visibility-state">ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼å¯è¦–æ€§çŠ¶æ…‹</a>ã‚’ã‚‚ã¤è¦ç´ ãŒ<a href="#popover-showing-state" id="the-toggleevent-interface:popover-showing-state">è¡¨ç¤º</a>ã®å ´åˆã¯"<code>open</code>"ã«åˆæœŸåŒ–ã•ã‚Œã€ãã†ã§ãªã‘ã‚Œã°"<code>closed</code>"ã«åˆæœŸåŒ–ã•ã‚Œã‚‹ã€‚</p>

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">âœ”</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ToggleEvent/newState" title="The newState read-only property of the ToggleEvent interface is a string representing the state the element is transitioning to.">ToggleEvent/newState</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">ğŸ”° 114+</span></span><span class="safari yes"><span>Safari</span><span>preview+</span></span><span class="chrome yes"><span>Chrome</span><span>114+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>114+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><p><dfn data-dfn-for="ToggleEvent" id="dom-toggleevent-newstate" data-dfn-type="attribute"><code>newState</code></dfn>å±æ€§ã¯ã€åˆæœŸåŒ–ã•ã‚ŒãŸå€¤ã‚’è¿”ã•ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚<code id="the-toggleevent-interface:attr-popover-2"><a href="#attr-popover">popover</a></code>å±æ€§ã®<a href="#popover-visibility-state" id="the-toggleevent-interface:popover-visibility-state-2">ãƒãƒƒãƒ—ã‚ªãƒ¼ãƒãƒ¼å¯è¦–æ€§çŠ¶æ…‹</a>ã‚’ã‚‚ã¤è¦ç´ ãŒ<a href="#popover-showing-state" id="the-toggleevent-interface:popover-showing-state-2">è¡¨ç¤º</a>ã®å ´åˆã¯"<code>closed</code>"ã«åˆæœŸåŒ–ã•ã‚Œã€ãã†ã§ãªã‘ã‚Œã°"<code>open</code>"ã«åˆæœŸåŒ–ã•ã‚Œã‚‹ã€‚</p>


  <nav><a href="dnd.html">â† 6.10 ãƒ‰ãƒ©ãƒƒã‚°ã‚¢ãƒ³ãƒ‰ãƒ‰ãƒ­ãƒƒãƒ—</a> â€” <a href="./">ç›®æ¬¡</a> â€” <a href="browsers.html">7 ã‚¦ã‚§ãƒ–ãƒšãƒ¼ã‚¸ã®èª­ã¿è¾¼ã¿ â†’</a></nav>
