<!DOCTYPE html><html class="split" lang="ja"><script src="https://html.spec.whatwg.org/link-fixup.js" defer=""></script><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"><title>HTML Standard, Edition for Web Developers</title><meta content="#3c790a" name="theme-color"><meta content="light dark" name="color-scheme"><link rel="stylesheet" href="https://resources.whatwg.org/standard-shared-with-dev.css" crossorigin=""><link rel="icon" href="https://resources.whatwg.org/logo.svg" crossorigin=""><link rel="stylesheet" href="https://html.spec.whatwg.org/dev/styles.css" crossorigin=""><script>
   function toggleStatus(div) {
     div.parentNode.classList.toggle('wrapped');
   }
   function setLinkFragment(link) {
     link.hash = location.hash;
   }
  </script><body>
  <script async="" src="./search.js"></script>
  
  
  <header id="head" class="head with-buttons"><a href="https://whatwg.org/" class="logo"><img width="100" alt="WHATWG" crossorigin="" class="darkmode-aware" src="https://resources.whatwg.org/logo.svg" height="100"></a><hgroup><h1><a rel="home" href="/dev" />HTML: The Living Standard</a></h1><p id="dev-edition-h2">Edition for Web Developers — Last Updated <span class="pubdate">17 December 2024</span></hgroup>
   

   <div id="search"><input placeholder="Search. Press &apos;/&apos;" autocomplete="off" name="query" id="query" type="search"><ol id="results"></ol>
   </div>
  </header>

  

  

  

  
  

  
  

  

  <nav><a href="microdata.html">← 5 Microdata</a> — <a href="./">目次</a> — <a href="dnd.html">6.11 ドラッグアンドドロップ →</a></nav><ol class="toc"><li><a href="interaction.html#editing"><span class="secno">6</span>ユーザーとの対話処理</a><ol><li><a href="interaction.html#the-hidden-attribute"><span class="secno">6.1</span> The <code>hidden</code> attribute</a><li><a href="interaction.html#page-visibility"><span class="secno">6.2</span> Page visibility</a><ol><li><a href="interaction.html#the-visibilitystateentry-interface"><span class="secno">6.2.1</span> The <code>VisibilityStateEntry</code> interface</a></ol><li><a href="interaction.html#inert-subtrees"><span class="secno">6.3</span> Inert subtrees</a><ol><li><a href="interaction.html#modal-dialogs-and-inert-subtrees"><span class="secno">6.3.1</span> Modal dialogs and inert subtrees</a><li><a href="interaction.html#the-inert-attribute"><span class="secno">6.3.2</span> The <code>inert</code> attribute</a></ol><li><a href="interaction.html#tracking-user-activation"><span class="secno">6.4</span> Tracking user activation</a><ol><li><a href="interaction.html#the-useractivation-interface"><span class="secno">6.4.1</span> The <code>UserActivation</code> interface</a></ol><li><a href="interaction.html#activation"><span class="secno">6.5</span> Activation behavior of elements</a><ol><li><a href="interaction.html#the-toggleevent-interface"><span class="secno">6.5.1</span> The <code>ToggleEvent</code> interface</a></ol><li><a href="interaction.html#focus"><span class="secno">6.6</span> Focus</a><ol><li><a href="interaction.html#introduction-7"><span class="secno">6.6.1</span> Introduction</a><li><a href="interaction.html#data-model"><span class="secno">6.6.2</span> Data model</a><li><a href="interaction.html#the-tabindex-attribute"><span class="secno">6.6.3</span> The <code>tabindex</code> attribute</a><li><a href="interaction.html#focus-management-apis"><span class="secno">6.6.4</span> Focus management APIs</a><li><a href="interaction.html#the-autofocus-attribute"><span class="secno">6.6.5</span> The <code>autofocus</code> attribute</a></ol><li><a href="interaction.html#assigning-keyboard-shortcuts"><span class="secno">6.7</span> Assigning keyboard shortcuts</a><ol><li><a href="interaction.html#introduction-8"><span class="secno">6.7.1</span> Introduction</a><li><a href="interaction.html#the-accesskey-attribute"><span class="secno">6.7.2</span> The <code>accesskey</code> attribute</a></ol><li><a href="interaction.html#editing-2"><span class="secno">6.8</span> Editing</a><ol><li><a href="interaction.html#contenteditable"><span class="secno">6.8.1</span> Making document regions editable: The <code>contenteditable</code> content attribute</a><li><a href="interaction.html#making-entire-documents-editable:-the-designmode-idl-attribute"><span class="secno">6.8.2</span> Making entire documents editable: the <code>designMode</code> getter and setter</a><li><a href="interaction.html#best-practices-for-in-page-editors"><span class="secno">6.8.3</span> Best practices for in-page editors</a><li><a href="interaction.html#spelling-and-grammar-checking"><span class="secno">6.8.4</span> Spelling and grammar checking</a><li><a href="interaction.html#writing-suggestions"><span class="secno">6.8.5</span> Writing suggestions</a><li><a href="interaction.html#autocapitalization"><span class="secno">6.8.6</span> Autocapitalization</a><li><a href="interaction.html#autocorrection"><span class="secno">6.8.7</span> Autocorrection</a><li><a href="interaction.html#input-modalities:-the-inputmode-attribute"><span class="secno">6.8.8</span> Input modalities: the <code>inputmode</code> attribute</a><li><a href="interaction.html#input-modalities:-the-enterkeyhint-attribute"><span class="secno">6.8.9</span> Input modalities: the <code>enterkeyhint</code> attribute</a></ol><li><a href="interaction.html#find-in-page"><span class="secno">6.9</span> Find-in-page</a><ol><li><a href="interaction.html#introduction-9"><span class="secno">6.9.1</span> Introduction</a><li><a href="interaction.html#interaction-with-details-and-hidden=until-found"><span class="secno">6.9.2</span> Interaction with <code>details</code> and <code>hidden=until-found</code></a><li><a href="interaction.html#interaction-with-selection"><span class="secno">6.9.3</span> Interaction with selection</a></ol><li><a href="interaction.html#close-requests-and-close-watchers"><span class="secno">6.10</span> Close requests and close watchers</a><ol><li><a href="interaction.html#close-requests"><span class="secno">6.10.1</span> Close requests</a><li><a href="interaction.html#the-closewatcher-interface"><span class="secno">6.10.2</span> The <code>CloseWatcher</code> interface</a></ol></ol></ol><h2 id="editing"><span class="secno">6</span> <dfn>User interaction</dfn><a href="#editing" class="self-link"></a></h2>


  <h3 id="the-hidden-attribute"><span class="secno">6.1</span> The <code id="the-hidden-attribute:attr-hidden"><a href="#attr-hidden">hidden</a></code> attribute<a href="#the-hidden-attribute" class="self-link"></a></h3><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in one engine only." class="less-than-two-engines-flag">⚠</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/hidden" title="The hidden global attribute is an enumerated attribute indicating that the browser should not render the contents of the element. For example, it can be used to hide elements of the page that can&apos;t be used until the login process has been completed.">Global_attributes/hidden</a><p class="less-than-two-engines-text">Support in one engine only.<div class="support"><span class="firefox no"><span>Firefox</span><span>No</span></span><span class="safari no"><span>Safari</span><span>No</span></span><span class="chrome yes"><span>Chrome</span><span>102+</span></span><hr><span class="opera no"><span>Opera</span><span>No</span></span><span class="edge_blink yes"><span>Edge</span><span>102+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/hidden" title="The hidden global attribute is an enumerated attribute indicating that the browser should not render the contents of the element. For example, it can be used to hide elements of the page that can&apos;t be used until the login process has been completed.">Global_attributes/hidden</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>4+</span></span><span class="safari yes"><span>Safari</span><span>5.1+</span></span><span class="chrome yes"><span>Chrome</span><span>10+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>11</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>4+</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div>

  <p>すべての<a id="the-hidden-attribute:html-elements" href="infrastructure.html#html-elements">HTML要素</a>は<dfn data-dfn-for="html-global" id="attr-hidden" data-dfn-type="element-attr"><code>hidden</code></dfn>コンテンツ属性設定を持ってもよい。The <code id="the-hidden-attribute:attr-hidden-2"><a href="#attr-hidden">hidden</a></code> attribute is an <a id="the-hidden-attribute:enumerated-attribute" href="common-microsyntaxes.html#enumerated-attribute">enumerated attribute</a> with the following keywords and states:</p>

  <table><thead><tr><th>キーワード<th>状態<th>概要<tbody><tr><td><dfn data-dfn-for="html-global/hidden" id="attr-hidden-hidden" data-dfn-type="attr-value"><code>hidden</code></dfn><td rowspan="2"><dfn id="attr-hidden-hidden-state">hidden</dfn><td rowspan="2">Will not be rendered.<tr><td>（空文字列）<tr><td><dfn data-dfn-for="html-global/hidden" id="attr-hidden-until-found" data-dfn-type="attr-value"><code>until-found</code></dfn><td><dfn id="attr-hidden-until-found-state">hidden until found</dfn><td>Will not be rendered, but content inside will be accessible to <a href="#find-in-page-2" id="the-hidden-attribute:find-in-page-2">find-in-page</a> and <a href="browsing-the-web.html#navigate-fragid" id="the-hidden-attribute:navigate-fragid">fragment navigation</a>.</table>

  <p>The attribute's <i id="the-hidden-attribute:missing-value-default"><a href="common-microsyntaxes.html#missing-value-default">missing value default</a></i> is the <dfn id="attr-hidden-not-hidden-state">not hidden</dfn> state, and its <i id="the-hidden-attribute:invalid-value-default"><a href="common-microsyntaxes.html#invalid-value-default">invalid value default</a></i> is the <a href="#attr-hidden-hidden-state" id="the-hidden-attribute:attr-hidden-hidden-state">hidden</a> state.</p>

  <p>When an element has the <code id="the-hidden-attribute:attr-hidden-3"><a href="#attr-hidden">hidden</a></code> attribute in the <a href="#attr-hidden-hidden-state" id="the-hidden-attribute:attr-hidden-hidden-state-2">hidden</a> state, it indicates that the element is not yet, or is no longer, directly relevant to the page's current state, or that it is being used to declare content to be reused by other parts of the page as opposed to being directly accessed by the user. User agents should not render elements that are in the <a href="#attr-hidden-hidden-state" id="the-hidden-attribute:attr-hidden-hidden-state-3">hidden</a> state. この要件は、スタイルレイヤーを通して間接的に実装されてもよい。For example, a web browser could implement these requirements <a href="#hiddenCSS">using the rules suggested in the Rendering section</a>.</p>

  <p>When an element has the <code id="the-hidden-attribute:attr-hidden-4"><a href="#attr-hidden">hidden</a></code> attribute in the <a href="#attr-hidden-until-found-state" id="the-hidden-attribute:attr-hidden-until-found-state">hidden until found</a> state, it indicates that the element is hidden like the <a href="#attr-hidden-hidden-state" id="the-hidden-attribute:attr-hidden-hidden-state-4">hidden</a> state but the content inside the element will be accessible to <a href="#find-in-page-2" id="the-hidden-attribute:find-in-page-2-2">find-in-page</a> and <a href="browsing-the-web.html#navigate-fragid" id="the-hidden-attribute:navigate-fragid-2">fragment navigation</a>. When these features attempt to scroll to a target which is in the element's subtree, the user agent will remove the <code id="the-hidden-attribute:attr-hidden-5"><a href="#attr-hidden">hidden</a></code> attribute in order to reveal the content before scrolling to it. In addition to removing the <code id="the-hidden-attribute:attr-hidden-6"><a href="#attr-hidden">hidden</a></code> attribute, an event named <code id="the-hidden-attribute:event-beforematch"><a href="indices.html#event-beforematch">beforematch</a></code> is also fired on the element before the <code id="the-hidden-attribute:attr-hidden-7"><a href="#attr-hidden">hidden</a></code> attribute is removed.</p>

  <p>Web browsers will use 'content-visibility: hidden' instead of 'display: none' when the <code id="the-hidden-attribute:attr-hidden-8"><a href="#attr-hidden">hidden</a></code> attribute is in the <a href="#attr-hidden-until-found-state" id="the-hidden-attribute:attr-hidden-until-found-state-2">hidden until found</a> state, as specified in the <a href="#hiddenCSS">Rendering section</a>.</p>


  <div class="note"><p>この属性は通常CSSを使用して実装されているため、CSSを使用して上書きすることもできる。For instance, a rule that applies 'display: block' to all elements will cancel the effects of the <a href="#attr-hidden-hidden-state" id="the-hidden-attribute:attr-hidden-hidden-state-5">hidden</a> state. したがって著者は、期待通りに属性がスタイル付けされていることを確認し、そのスタイルシートを書く際に注意する必要がある。In addition, legacy user agents which don't support the <a href="#attr-hidden-until-found-state" id="the-hidden-attribute:attr-hidden-until-found-state-3">hidden until found</a> state will have 'display: none' instead of 'content-visibility: hidden', so authors are encouraged to make sure that their style sheets don't change the 'display' or 'content-visibility' properties of <a href="#attr-hidden-until-found-state" id="the-hidden-attribute:attr-hidden-until-found-state-4">hidden until found</a> elements.</p>

   <p>Since elements with the <code id="the-hidden-attribute:attr-hidden-9"><a href="#attr-hidden">hidden</a></code> attribute in the <a href="#attr-hidden-until-found-state" id="the-hidden-attribute:attr-hidden-until-found-state-5">hidden until found</a> state use 'content-visibility: hidden' instead of 'display: none', there are two caveats of the <a href="#attr-hidden-until-found-state" id="the-hidden-attribute:attr-hidden-until-found-state-6">hidden until found</a> state that make it different from the <a href="#attr-hidden-hidden-state" id="the-hidden-attribute:attr-hidden-hidden-state-6">hidden</a> state:</p>

   <ol><li><p>The element needs to be affected by <a id="the-hidden-attribute:layout-containment" href="https://drafts.csswg.org/css-contain/#containment-layout" data-x-internal="layout-containment">layout containment</a> in order to be revealed by find-in-page. This means that if the element in the <a href="#attr-hidden-until-found-state" id="the-hidden-attribute:attr-hidden-until-found-state-7">hidden until found</a> state has a 'display' value of 'none', 'contents', or 'inline', then the element will not be revealed by find-in-page.<li><p>The element will still have a <a href="https://drafts.csswg.org/css2/#propdef-visibility" id="the-hidden-attribute:'visibility'" data-x-internal="'visibility'">generated box</a> when in the <a href="#attr-hidden-until-found-state" id="the-hidden-attribute:attr-hidden-until-found-state-8">hidden until found</a> state, which means that borders, margin, and padding will still be rendered around the element.</ol>
  </div>

  <div class="example"><p>In the following skeletal example, the attribute is used to hide the web game's main screen until the user logs in:</p>

   <pre><code class='html'>  <c- p>&lt;</c-><c- f>h1</c-><c- p>></c->The Example Game<c- p>&lt;/</c-><c- f>h1</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>section</c-> <c- e>id</c-><c- o>=</c-><c- s>"login"</c-><c- p>></c->
   <c- p>&lt;</c-><c- f>h2</c-><c- p>></c->Login<c- p>&lt;/</c-><c- f>h2</c-><c- p>></c->
   <c- p>&lt;</c-><c- f>form</c-><c- p>></c->
    ...
    <c- c>&lt;!-- calls login() once the user's credentials have been checked --></c->
   <c- p>&lt;/</c-><c- f>form</c-><c- p>></c->
   <c- p>&lt;</c-><c- f>script</c-><c- p>></c->
    <c- a>function</c-> login<c- p>()</c-> <c- p>{</c->
      <c- c1>// switch screens</c->
      document<c- p>.</c->getElementById<c- p>(</c-><c- t>'login'</c-><c- p>).</c->hidden <c- o>=</c-> <c- kc>true</c-><c- p>;</c->
      document<c- p>.</c->getElementById<c- p>(</c-><c- t>'game'</c-><c- p>).</c->hidden <c- o>=</c-> <c- kc>false</c-><c- p>;</c->
    <c- p>}</c->
   <c- p>&lt;/</c-><c- f>script</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>section</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>section</c-> <c- e>id</c-><c- o>=</c-><c- s>"game"</c-> <c- e>hidden</c-><c- p>></c->
   ...
  <c- p>&lt;/</c-><c- f>section</c-><c- p>></c-></code></pre>

  </div>

  <p><code id="the-hidden-attribute:attr-hidden-10"><a href="#attr-hidden">hidden</a></code>属性は、別のプレゼンテーションに合法的に示すことができたコンテンツを隠すために使用されてはならない。たとえば、タブ付きインターフェイスは単にオーバーフロープレゼンテーションの一種であるため、タブ付きダイアログでパネルを隠すために<code id="the-hidden-attribute:attr-hidden-11"><a href="#attr-hidden">hidden</a></code>を使用することは誤りである。―それはスクロールバーをもつ1つの大きなページ内のすべてのフォームコントロールを示すのと同様である。ちょうど1つのプレゼンテーションからコンテンツを非表示にするためにこの属性を使用することも同様に誤りである。―何かが<code id="the-hidden-attribute:attr-hidden-12"><a href="#attr-hidden">hidden</a></code>とマークされる場合、それは、たとえばスクリーンリーダーなどを含む、すべてのプレゼンテーションから隠されている。</p>

  
  

  <p>自身が<code id="the-hidden-attribute:attr-hidden-13"><a href="#attr-hidden">hidden</a></code>でない要素は、<code id="the-hidden-attribute:attr-hidden-14"><a href="#attr-hidden">hidden</a></code>である要素へ<a id="the-hidden-attribute:hyperlink" href="links.html#hyperlink">ハイパーリンク</a>されてはならない。自身が<code id="the-hidden-attribute:attr-hidden-15"><a href="#attr-hidden">hidden</a></code>でない<code id="the-hidden-attribute:the-label-element"><a href="forms.html#the-label-element">label</a></code>および<code id="the-hidden-attribute:the-output-element"><a href="form-elements.html#the-output-element">output</a></code>要素の<code>for</code>属性も同様に、<code id="the-hidden-attribute:attr-hidden-16"><a href="#attr-hidden">hidden</a></code>である要素を参照してはならない。どちらの場合も、このような参照はユーザーの混乱を引き起こすだろう。</p>

  <p>しかし、要素およびスクリプトは、他のコンテキストで<code id="the-hidden-attribute:attr-hidden-17"><a href="#attr-hidden">hidden</a></code>である要素を参照してもよい。</p>

  <div class="example"><p>たとえば、<code id="the-hidden-attribute:attr-hidden-18"><a href="#attr-hidden">hidden</a></code>属性でマークされたセクションにリンクする<code id="the-hidden-attribute:attr-hyperlink-href"><a href="links.html#attr-hyperlink-href">href</a></code>属性を使用するのは誤りだろう。コンテンツが適切または関連しない場合、それにリンクする理由はない。</p>

   <p>しかし、自身が<code id="the-hidden-attribute:attr-hidden-19"><a href="#attr-hidden">hidden</a></code>である説明を参照するために、ARIA <code id="the-hidden-attribute:attr-aria-describedby"><a data-x-internal="attr-aria-describedby" href="https://w3c.github.io/aria/#aria-describedby">aria-describedby</a></code>属性を使用することは構わない。While hiding the descriptions implies that they are not useful alone, they could be written in such a way that they are useful in the specific context of being referenced from the elements that they describe.</p>

   <p>同様に、<code id="the-hidden-attribute:attr-hidden-20"><a href="#attr-hidden">hidden</a></code>属性を持つ<code id="the-hidden-attribute:the-canvas-element"><a href="canvas.html#the-canvas-element">canvas</a></code>要素は、オフスクリーンバッファとしてスクリプト化されたグラフィックスエンジンによって使用されるかもしれず、フォームコントロールは、<code id="the-hidden-attribute:attr-fae-form"><a href="form-control-infrastructure.html#attr-fae-form">form</a></code>属性を使用する隠し<code id="the-hidden-attribute:the-form-element"><a href="forms.html#the-form-element">form</a></code>要素を参照するかもしれない。</p>

  </div>

  <p><code id="the-hidden-attribute:attr-hidden-21"><a href="#attr-hidden">hidden</a></code>属性によって非表示にされたセクション内の要素は依然としてアクティブである。たとえば、そのようなセクションでのスクリプトやフォームコントロールは、依然として実行および送信する。それらのプレゼンテーションのみがユーザーに変更される。</p>

  

  <h3 id="page-visibility"><span class="secno">6.2</span> Page visibility<a href="#page-visibility" class="self-link"></a></h3>

  <p>A <a id="page-visibility:traversable-navigable" href="document-sequences.html#traversable-navigable">traversable navigable</a>'s <a id="page-visibility:system-visibility-state" href="document-sequences.html#system-visibility-state">system visibility state</a>, including its initial value upon creation, is determined by the user agent. It represents, for example, whether the browser window is minimized, a browser tab is currently in the background, or a system element such as a task switcher obscures the page.</p>

  <p>When a user-agent determines that the <a id="page-visibility:system-visibility-state-2" href="document-sequences.html#system-visibility-state">system visibility state</a> for <a id="page-visibility:traversable-navigable-2" href="document-sequences.html#traversable-navigable">traversable navigable</a> <var>traversable</var> has changed to <var>newState</var>, it must run the following steps:</p>

  <ol><li><p>Let <var>navigables</var> be the <a id="page-visibility:inclusive-descendant-navigables" href="document-sequences.html#inclusive-descendant-navigables">inclusive descendant navigables</a> of <var>traversable</var>'s <a href="document-sequences.html#nav-document" id="page-visibility:nav-document">active document</a>.<li><p><a href="https://triple-underscore.github.io/infra-ja.html#list-iterate" id="page-visibility:list-iterate" data-x-internal="list-iterate">For each</a> <var>navigable</var> of <var>navigables</var> <span class="XXX">in what order?</span>:</p>

    <ol><li><p>Let <var>document</var> be <var>navigable</var>'s <a href="document-sequences.html#nav-document" id="page-visibility:nav-document-2">active document</a>.<li><p><span>Queue a global task</span> on the <span>user interaction task source</span> given <var>document</var>'s <span>relevant global object</span> to <a href="#update-the-visibility-state" id="page-visibility:update-the-visibility-state">update the visibility state</a> of <var>document</var> with <var>newState</var>.</ol>
   </ol>

  <p>A <code>Document</code> has a <dfn data-dfn-for="Document" id="visibility-state" data-export="">visibility state</dfn>, which is either "<code>hidden</code>" or "<code>visible</code>", initially set to "<code>hidden</code>".</p>

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/visibilityState" title="The Document.visibilityState read-only property returns the visibility of the document, that is in which context this element is now visible. It is useful to know if the document is in the background or an invisible tab, or only loaded for pre-rendering.">Document/visibilityState</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>18+</span></span><span class="safari yes"><span>Safari</span><span>7+</span></span><span class="chrome yes"><span>Chrome</span><span>33+</span></span><hr><span class="opera yes"><span>Opera</span><span>20+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>4.4.3+</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>20+</span></span></div></div></div><p>The <dfn data-dfn-for="Document" id="dom-document-visibilitystate" data-dfn-type="attribute"><code>visibilityState</code></dfn> getter steps are to return <a id="page-visibility:this" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#visibility-state" id="page-visibility:visibility-state">visibility state</a>.</p>

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/hidden" title="The Document.hidden read-only property returns a Boolean value indicating if the page is considered hidden or not.">Document/hidden</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>18+</span></span><span class="safari yes"><span>Safari</span><span>7+</span></span><span class="chrome yes"><span>Chrome</span><span>33+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>4.4.3+</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><p>The <dfn data-dfn-for="Document" id="dom-document-hidden" data-dfn-type="attribute"><code>hidden</code></dfn> getter steps are to return true if <a id="page-visibility:this-2" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#visibility-state" id="page-visibility:visibility-state-2">visibility state</a> is "<code>hidden</code>", otherwise false.</p>

  <p>To <dfn id="update-the-visibility-state">update the visibility state</dfn> of <code>Document</code> <var>document</var> to <var>visibilityState</var>:</p>

  <ol><li><p>If <var>document</var>'s <a href="#visibility-state" id="page-visibility:visibility-state-3">visibility state</a> equals <var>visibilityState</var>, then return.<li><p>Set <var>document</var>'s <a href="#visibility-state" id="page-visibility:visibility-state-4">visibility state</a> to <var>visibilityState</var>.<li><p><a href="https://w3c.github.io/performance-timeline/#queue-a-performanceentry" id="page-visibility:queue-a-performance-entry" data-x-internal="queue-a-performance-entry">Queue</a> a new <code>VisibilityStateEntry</code> whose <a href="#visibilitystateentry-state" id="page-visibility:visibilitystateentry-state">visibility state</a> is <var>visibilityState</var> and whose <a href="#visibilitystateentry-timestamp" id="page-visibility:visibilitystateentry-timestamp">timestamp</a> is the <a id="page-visibility:current-high-resolution-time" href="https://w3c.github.io/hr-time/#dfn-current-high-resolution-time" data-x-internal="current-high-resolution-time">current high resolution time</a> given <var>document</var>'s <span>relevant global object</span>.</p>

   <li><p>Run the <a id="page-visibility:screen-orientation-change-steps" href="https://w3c.github.io/screen-orientation/#dfn-screen-orientation-change-steps" data-x-internal="screen-orientation-change-steps">screen orientation change steps</a> with <var>document</var>. <a href="references.html#refsSCREENORIENTATION">[SCREENORIENTATION]</a><li><p>Run the <a id="page-visibility:view-transition-page-visibility-change-steps" href="https://drafts.csswg.org/css-view-transitions/#view-transition-page-visibility-change-steps" data-x-internal="view-transition-page-visibility-change-steps">view transition page visibility change steps</a> with <var>document</var>.<li><p>Run any <dfn id="page-visibility-change-steps" data-export="">page visibility change steps</dfn> which may be defined in other specifications, with <a href="#visibility-state" id="page-visibility:visibility-state-5">visibility state</a> and <var>document</var>.</p>

    <p class="XXX">It would be better if specification authors sent a pull request to add calls from here into their specifications directly, instead of using the <a href="#page-visibility-change-steps" id="page-visibility:page-visibility-change-steps">page visibility change steps</a> hook, to ensure well-defined cross-specification call order. As of the time of this writing the following specifications are known to have <a href="#page-visibility-change-steps" id="page-visibility:page-visibility-change-steps-2">page visibility change steps</a>, which will be run in an unspecified order: <cite>Device Posture API</cite> and <cite>Web NFC</cite>. <a href="references.html#refsDEVICEPOSTURE">[DEVICEPOSTURE]</a> <a href="references.html#refsWEBNFC">[WEBNFC]</a></p>
   <li><p>Fire an event named <code id="page-visibility:event-visibilitychange"><a href="indices.html#event-visibilitychange">visibilitychange</a></code> at <var>document</var>, with its <code id="page-visibility:dom-event-bubbles"><a data-x-internal="dom-event-bubbles" href="https://dom.spec.whatwg.org/#dom-event-bubbles">bubbles</a></code> attribute initialized to true.</ol>

  <h4 id="the-visibilitystateentry-interface"><span class="secno">6.2.1</span> The <code>VisibilityStateEntry</code> interface<a href="#the-visibilitystateentry-interface" class="self-link"></a></h4><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in one engine only." class="less-than-two-engines-flag">⚠</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/VisibilityStateEntry" title="The VisibilityStateEntry interface provides timings of page visibility state changes, i.e., when a tab changes from the foreground to the background or vice versa.">VisibilityStateEntry</a><p class="less-than-two-engines-text">Support in one engine only.<div class="support"><span class="firefox no"><span>Firefox</span><span>No</span></span><span class="safari no"><span>Safari</span><span>No</span></span><span class="chrome yes"><span>Chrome</span><span>115+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>115+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div>

  <p>The <code>VisibilityStateEntry</code> interface exposes visibility changes to the document, from the moment the document becomes active.</p>

  <div class="example">For example, this allows JavaScript code in the page to examine correlation between visibility changes and paint timing:<pre><code class='js'><c- a>function</c-> wasHiddenBeforeFirstContentfulPaint<c- p>()</c-> <c- p>{</c->
    <c- a>const</c-> fcpEntry <c- o>=</c-> performance<c- p>.</c->getEntriesByName<c- p>(</c-><c- u>"first-contentful-paint"</c-><c- p>)[</c-><c- mf>0</c-><c- p>];</c->
    <c- a>const</c-> visibilityStateEntries <c- o>=</c-> performance<c- p>.</c->getEntriesByType<c- p>(</c-><c- u>"visibility-state"</c-><c- p>);</c->
    <c- k>return</c-> visibilityStateEntries<c- p>.</c->some<c- p>(</c->e <c- p>=></c->
                                            e<c- p>.</c->startTime <c- o>&lt;</c-> fcpEntry<c- p>.</c->startTime <c- o>&amp;&amp;</c->
                                            e<c- p>.</c->name <c- o>===</c-> <c- u>"hidden"</c-><c- p>);</c->
<c- p>}</c-></code></pre>
  </div>

  <p class="note">Since hiding a page can cause throttling of rendering and other user-agent operations, it is common to use visibility changes as an indication that such throttling has occurred. However, other things could also cause throttling in different browsers, such as long periods of inactivity.</p>

  

  <p>The <code>VisibilityStateEntry</code> has an associated <a id="the-visibilitystateentry-interface:domhighrestimestamp" href="https://w3c.github.io/hr-time/#dom-domhighrestimestamp" data-x-internal="domhighrestimestamp"><code>DOMHighResTimeStamp</code></a> <dfn id="visibilitystateentry-timestamp">timestamp</dfn>.</p>

  <p>The <code>VisibilityStateEntry</code> has an associated "<code>visible</code>" or "<code>hidden</code>" <dfn id="visibilitystateentry-state">visibility state</dfn>.</p>

  <p>The <dfn data-dfn-for="VisibilityStateEntry" id="visibilitystateentry-name" data-dfn-type="attribute"><code>name</code></dfn> getter steps are to return <a id="the-visibilitystateentry-interface:this" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#visibilitystateentry-state" id="the-visibilitystateentry-interface:visibilitystateentry-state">visibility state</a>.</p>

  <p>The <dfn data-dfn-for="VisibilityStateEntry" id="visibilitystateentry-entrytype" data-dfn-type="attribute"><code>entryType</code></dfn> getter steps are to return "<code>visibility-state</code>".</p>

  <p>The <dfn data-dfn-for="VisibilityStateEntry" id="visibilitystateentry-starttime" data-dfn-type="attribute"><code>startTime</code></dfn> getter steps are to return <a id="the-visibilitystateentry-interface:this-2" href="https://webidl.spec.whatwg.org/#this" data-x-internal="this">this</a>'s <a href="#visibilitystateentry-timestamp" id="the-visibilitystateentry-interface:visibilitystateentry-timestamp">timestamp</a>.</p>

  <p>The <dfn data-dfn-for="VisibilityStateEntry" id="visibilitystateentry-duration" data-dfn-type="attribute"><code>duration</code></dfn> getter steps are to return zero.</p>


  <h3 id="inert-subtrees"><span class="secno">6.3</span> Inert subtrees<a href="#inert-subtrees" class="self-link"></a></h3>

  <p class="note">See also <code id="inert-subtrees:the-inert-attribute"><a href="#the-inert-attribute">inert</a></code> for an explanation of the attribute of the same name.</p>

  <p>A node (in particular elements and text nodes) can be <dfn id="inert">inert</dfn>. When a node is <a href="#inert" id="inert-subtrees:inert">inert</a>:</p>

  <ul><li><p>Hit-testing must act as if the <a id="inert-subtrees:'pointer-events'" href="https://drafts.csswg.org/css-ui-4/#pointer-events-control" data-x-internal="'pointer-events'">'pointer-events'</a> CSS property were set to 'none'.<li><p>Text selection functionality must act as if the <a id="inert-subtrees:'user-select'" href="https://drafts.csswg.org/css-ui-4/#content-selection" data-x-internal="'user-select'">'user-select'</a> CSS property were set to 'none'.<li><p>If it is <span>editable</span>, the node behaves as if it were non-editable.<li><p>The user agent should ignore the node for the purposes of <a href="#find-in-page-2" id="inert-subtrees:find-in-page-2">find-in-page</a>.</ul>

  <p class="note">Inert nodes generally cannot be focused, and user agents do not expose the inert nodes to accessibility APIs or assistive technologies. Inert nodes that are <a href="interactive-elements.html#concept-command" id="inert-subtrees:concept-command">commands</a> will become inoperable to users, in the manner described above.</p>

  <p>User agents may allow the user to override the restrictions on <a href="#find-in-page-2" id="inert-subtrees:find-in-page-2-2">find-in-page</a> and text selection, however.</p>

  <p>By default, a node is not <a href="#inert" id="inert-subtrees:inert-2">inert</a>.</p>

  <h4 id="modal-dialogs-and-inert-subtrees"><span class="secno">6.3.1</span> Modal dialogs and inert subtrees<a href="#modal-dialogs-and-inert-subtrees" class="self-link"></a></h4>

  <p><var>subject</var>が<var>document</var>の<a id="modal-dialogs-and-inert-subtrees:top-layer" href="https://drafts.csswg.org/css-position-4/#document-top-layer" data-x-internal="top-layer">最上位レイヤー</a>の一番上の<code id="modal-dialogs-and-inert-subtrees:the-dialog-element"><a href="interactive-elements.html#the-dialog-element">dialog</a></code>要素である場合、<code>Document</code> <var>document</var>は<dfn id="blocked-by-a-modal-dialog">モーダルダイアログボックスによってブロックされる</dfn><var>subject</var>である。While <var>document</var> is so blocked, every node that is <a id="modal-dialogs-and-inert-subtrees:connected" href="https://triple-underscore.github.io/DOM4-ja.html#connected" data-x-internal="connected">connected</a> to <var>document</var>, with the exception of the <var>subject</var> element and its <a id="modal-dialogs-and-inert-subtrees:flat-tree" href="https://drafts.csswg.org/css-scoping/#flat-tree" data-x-internal="flat-tree">flat tree</a> descendants, must become <a href="#inert" id="modal-dialogs-and-inert-subtrees:inert">inert</a>.</p>

  <p><var>subject</var> can additionally become <a href="#inert" id="modal-dialogs-and-inert-subtrees:inert-2">inert</a> via the <code id="modal-dialogs-and-inert-subtrees:the-inert-attribute"><a href="#the-inert-attribute">inert</a></code> attribute, but only if specified on <var>subject</var> itself (i.e., <var>subject</var> escapes inertness of ancestors); <var>subject</var>'s <a id="modal-dialogs-and-inert-subtrees:flat-tree-2" href="https://drafts.csswg.org/css-scoping/#flat-tree" data-x-internal="flat-tree">flat tree</a> descendants can become <a href="#inert" id="modal-dialogs-and-inert-subtrees:inert-3">inert</a> in a similar fashion.</p>

  <p class="note"><code id="modal-dialogs-and-inert-subtrees:the-dialog-element-2"><a href="interactive-elements.html#the-dialog-element">dialog</a></code>要素の<code id="modal-dialogs-and-inert-subtrees:dom-dialog-showmodal"><a href="interactive-elements.html#dom-dialog-showmodal">showModal()</a></code>メソッドは、<code id="modal-dialogs-and-inert-subtrees:the-dialog-element-3"><a href="interactive-elements.html#the-dialog-element">dialog</a></code>要素を<a id="modal-dialogs-and-inert-subtrees:node-document" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">ノード文書</a>の<a id="modal-dialogs-and-inert-subtrees:top-layer-2" href="https://drafts.csswg.org/css-position-4/#document-top-layer" data-x-internal="top-layer">最上位レイヤー</a>に<a href="https://drafts.csswg.org/css-position-4/#add-an-element-to-the-top-layer" id="modal-dialogs-and-inert-subtrees:add-an-element-to-the-top-layer" data-x-internal="add-an-element-to-the-top-layer">追加する</a>ことによって、このメカニズムをトリガーさせる。</p>

  <h4 id="the-inert-attribute"><span class="secno">6.3.2</span> The <dfn><code>inert</code></dfn> attribute<a href="#the-inert-attribute" class="self-link"></a></h4><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/inert" title="The inert global attribute is a Boolean attribute indicating that the browser will ignore the element. With the inert attribute, all of the element&apos;s flat tree descendants (such as modal &lt;dialog>s) that don&apos;t otherwise escape inertness are ignored. The inert attribute also makes the browser ignore input events sent by the user, including focus-related events and events from assistive technologies.">Global_attributes/inert</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>112+</span></span><span class="safari yes"><span>Safari</span><span>15.5+</span></span><span class="chrome yes"><span>Chrome</span><span>102+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>102+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div>

  <p>The <code id="the-inert-attribute:the-inert-attribute"><a href="#the-inert-attribute">inert</a></code> attribute is a <a id="the-inert-attribute:boolean-attribute" href="common-microsyntaxes.html#boolean-attribute">boolean attribute</a> that indicates, by its presence, that the element and all its <a id="the-inert-attribute:flat-tree" href="https://drafts.csswg.org/css-scoping/#flat-tree" data-x-internal="flat-tree">flat tree</a> descendants which don't otherwise escape inertness (such as modal dialogs) are to be made <a href="#inert" id="the-inert-attribute:inert">inert</a> by the user agent.</p>

  <p>An inert subtree should not contain any content or controls which are critical to understanding or using aspects of the page which are not in the inert state. Content in an inert subtree will not be perceivable by all users, or interactive. Authors should not specify elements as inert unless the content they represent are also visually obscured in some way. In most cases, authors should not specify the <code id="the-inert-attribute:inert-2"><a href="#inert">inert</a></code> attribute on individual form controls. In these instances, the <code id="the-inert-attribute:attr-fe-disabled"><a href="form-control-infrastructure.html#attr-fe-disabled">disabled</a></code> attribute is probably more appropriate.</p>

  <div class="example"><p>The following example shows how to mark partially loaded content, visually obscured by a "loading" message, as inert.</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>section</c-> <c- e>aria-labelledby</c-><c- o>=</c-><c- s>s1</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>h3</c-> <c- e>id</c-><c- o>=</c-><c- s>s1</c-><c- p>></c->Population by City<c- p>&lt;/</c-><c- f>h3</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>container</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>div</c-> <c- e>class</c-><c- o>=</c-><c- s>loading</c-><c- p>>&lt;</c-><c- f>p</c-><c- p>></c->Loading...<c- p>&lt;/</c-><c- f>p</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>div</c-> <c- e>inert</c-><c- p>></c->
      <c- p>&lt;</c-><c- f>form</c-><c- p>></c->
        <c- p>&lt;</c-><c- f>fieldset</c-><c- p>></c->
          <c- p>&lt;</c-><c- f>legend</c-><c- p>></c->Date range<c- p>&lt;/</c-><c- f>legend</c-><c- p>></c->
          <c- p>&lt;</c-><c- f>div</c-><c- p>></c->
            <c- p>&lt;</c-><c- f>label</c-> <c- e>for</c-><c- o>=</c-><c- s>start</c-><c- p>></c->Start<c- p>&lt;/</c-><c- f>label</c-><c- p>></c->
            <c- p>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>date</c-> <c- e>id</c-><c- o>=</c-><c- s>start</c-><c- p>></c->
          <c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
          <c- p>&lt;</c-><c- f>div</c-><c- p>></c->
            <c- p>&lt;</c-><c- f>label</c-> <c- e>for</c-><c- o>=</c-><c- s>end</c-><c- p>></c->End<c- p>&lt;/</c-><c- f>label</c-><c- p>></c->
            <c- p>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>date</c-> <c- e>id</c-><c- o>=</c-><c- s>end</c-><c- p>></c->
          <c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
          <c- p>&lt;</c-><c- f>div</c-><c- p>></c->
            <c- p>&lt;</c-><c- f>button</c-><c- p>></c->Apply<c- p>&lt;/</c-><c- f>button</c-><c- p>></c->
          <c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
        <c- p>&lt;/</c-><c- f>fieldset</c-><c- p>></c->
      <c- p>&lt;/</c-><c- f>form</c-><c- p>></c->
      <c- p>&lt;</c-><c- f>table</c-><c- p>></c->
        <c- p>&lt;</c-><c- f>caption</c-><c- p>></c->From 20-- to 20--<c- p>&lt;/</c-><c- f>caption</c-><c- p>></c->
        <c- p>&lt;</c-><c- f>thead</c-><c- p>></c->
          <c- p>&lt;</c-><c- f>tr</c-><c- p>></c->
            <c- p>&lt;</c-><c- f>th</c-><c- p>></c->City<c- p>&lt;/</c-><c- f>th</c-><c- p>></c->
            <c- p>&lt;</c-><c- f>th</c-><c- p>></c->State<c- p>&lt;/</c-><c- f>th</c-><c- p>></c->
            <c- p>&lt;</c-><c- f>th</c-><c- p>></c->20-- Population<c- p>&lt;/</c-><c- f>th</c-><c- p>></c->
            <c- p>&lt;</c-><c- f>th</c-><c- p>></c->20-- Population<c- p>&lt;/</c-><c- f>th</c-><c- p>></c->
            <c- p>&lt;</c-><c- f>th</c-><c- p>></c->Percentage change<c- p>&lt;/</c-><c- f>th</c-><c- p>></c->
          <c- p>&lt;/</c-><c- f>tr</c-><c- p>></c->
        <c- p>&lt;/</c-><c- f>thead</c-><c- p>></c->
        <c- p>&lt;</c-><c- f>tbody</c-><c- p>></c->
          <c- c>&lt;!-- ... --></c->
        <c- p>&lt;/</c-><c- f>tbody</c-><c- p>></c->
      <c- p>&lt;/</c-><c- f>table</c-><c- p>></c->
    <c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>section</c-><c- p>></c-></code></pre><img alt="Screenshot of Population by City content with an overlaid loading message which visually obscures the form controls and data table which have not fully rendered, and thus are in the inert state." src="/images/inert-example-loading-section.png" width="947" height="243"><p>The "loading" overlay obscures the inert content, making it visually apparent that the inert content is not presently accessible. Notice that the heading and "loading" text are not descendants of the element with the <code id="the-inert-attribute:inert-3"><a href="#inert">inert</a></code> attribute. This will ensure this text is accessible to all users, while the inert content cannot be interacted with by anyone.</p>
  </div>

  <div class="note"><p>By default, there is no persistent visual indication of an element or its subtree being inert. Appropriate visual styles for such content is often context-dependent. For instance, an inert off-screen navigation panel would not require a default style, as its off-screen position visually obscures the content. Similarly, a modal <code id="the-inert-attribute:the-dialog-element"><a href="interactive-elements.html#the-dialog-element">dialog</a></code> element's backdrop will serve as the means to visually obscure the inert content of the web page, rather than styling the inert content specifically.</p>

   <p>However, for many other situations authors are strongly encouraged to clearly mark what parts of their document are active and which are inert, to avoid user confusion. In particular, it is worth remembering that not all users can see all parts of a page at once; for example, users of screen readers, users on small devices or with magnifiers, and even users using particularly small windows might not be able to see the active part of a page and might get frustrated if inert sections are not obviously inert.</p>
  </div>

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/inert" title="The HTMLElement property inert reflects the value of the element&apos;s inert attribute. It is a boolean value that, when present, makes the browser &quot;ignore&quot; user input events for the element, including focus events and events from assistive technologies. The browser may also ignore page search and text selection in the element. This can be useful when building UIs such as modals where you would want to &quot;trap&quot; the focus inside the modal when it&apos;s visible.">HTMLElement/inert</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>112+</span></span><span class="safari yes"><span>Safari</span><span>15.5+</span></span><span class="chrome yes"><span>Chrome</span><span>102+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>102+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><p>The <dfn data-dfn-for="HTMLElement" id="dom-inert" data-dfn-type="attribute"><code>inert</code></dfn> IDL attribute must <a id="the-inert-attribute:reflect" href="common-dom-interfaces.html#reflect">reflect</a> the content attribute of the same name.</p>

  <h3 id="tracking-user-activation"><span class="secno">6.4</span> Tracking <dfn data-export="">user activation</dfn><a href="#tracking-user-activation" class="self-link"></a></h3>

  <p>To prevent abuse of certain APIs that could be annoying to users (e.g., opening popups or vibrating phones), user agents allow these APIs only when the user is actively interacting with the web page or has interacted with the page at least once. This "active interaction" state is maintained through the mechanisms defined in this section.</p>

  

  <p>APIs that are dependent on user activation are classified into different levels:</p>

  <dl><dt><dfn id="sticky-activation-gated-api" data-lt="sticky activation-gated API" data-export="">Sticky activation-gated APIs</dfn><dd><p>These APIs require the <span>sticky activation</span> state to be true, so they are blocked until the very first user activation.<dt><dfn id="transient-activation-gated-api" data-lt="transient activation-gated
   API" data-export="">Transient activation-gated APIs</dfn><dd><p>These APIs require the <span>transient activation</span> state to be true, but they don't <span>consume</span> it, so multiple calls are allowed per user activation until the transient state <span>expires</span>.<dt><dfn id="activation-consuming-api" data-lt="transient activation-consuming API" data-export="">Transient activation-consuming APIs</dfn><dd><p>These APIs require the <span>transient activation</span> state to be true, and they <span>consume user activation</span> in each call to prevent multiple calls per user activation.<dt><dfn id="history-action-activation-consuming-api" data-lt="history-action activation-consuming API" data-export="">History-action activation-consuming APIs</dfn><dd><p>These APIs require the <span>history-action activation</span> state to be true, and they <span>consume history-action user activation</span> in each call to prevent multiple calls per user activation.</dl>


  <h4 id="the-useractivation-interface"><span class="secno">6.4.1</span> The <code>UserActivation</code> interface<a href="#the-useractivation-interface" class="self-link"></a></h4><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/UserActivation" title="The UserActivation interface allows querying information about a window&apos;s user activation state.">UserActivation</a><div class="support"><span class="firefox no"><span>Firefox</span><span>No</span></span><span class="safari yes"><span>Safari</span><span>16.4+</span></span><span class="chrome yes"><span>Chrome</span><span>72+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div>

  <p>Each <code>Window</code> has an <dfn id="associated-useractivation">associated <code>UserActivation</code></dfn>, which is a <code>UserActivation</code> object. Upon creation of the <code>Window</code> object, its <a href="#associated-useractivation" id="the-useractivation-interface:associated-useractivation">associated <code>UserActivation</code></a> must be set to a <a id="the-useractivation-interface:new" href="https://webidl.spec.whatwg.org/#new" data-x-internal="new">new</a> <code>UserActivation</code> object created in the <code>Window</code> object's <span>relevant realm</span>.</p>

  

  <dl class="domintro"><dt><code><span>navigator</span>.<span id="dom-navigator-useractivation">userActivation</span>.<span id="dom-useractivation-hasbeenactive">hasBeenActive</span></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/userActivation" title="The read-only userActivation property of the Navigator interface returns a UserActivation object which contains information about the current window&apos;s user activation state.">Navigator/userActivation</a><div class="support"><span class="firefox no"><span>Firefox</span><span>No</span></span><span class="safari yes"><span>Safari</span><span>16.4+</span></span><span class="chrome yes"><span>Chrome</span><span>72+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/UserActivation/hasBeenActive" title="The read-only hasBeenActive property of the UserActivation interface indicates whether the current window has sticky user activation (see sticky activation).">UserActivation/hasBeenActive</a><div class="support"><span class="firefox no"><span>Firefox</span><span>No</span></span><span class="safari yes"><span>Safari</span><span>16.4+</span></span><span class="chrome yes"><span>Chrome</span><span>72+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><dd><p>Returns whether the window has <span>sticky activation</span>.</p>
   <dt><code><span>navigator</span>.<a href="#dom-navigator-useractivation" id="the-useractivation-interface:dom-navigator-useractivation">userActivation</a>.<span id="dom-useractivation-isactive">isActive</span></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/UserActivation/hasBeenActive" title="The read-only hasBeenActive property of the UserActivation interface indicates whether the current window has sticky user activation (see sticky activation).">UserActivation/hasBeenActive</a><div class="support"><span class="firefox no"><span>Firefox</span><span>No</span></span><span class="safari yes"><span>Safari</span><span>16.4+</span></span><span class="chrome yes"><span>Chrome</span><span>72+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><dd><p>Returns whether the window has <span>transient activation</span>.</p>
   </dl>

  


  <h3 id="activation"><span class="secno">6.5</span> Activation behavior of elements<a href="#activation" class="self-link"></a></h3>

  <p>HTMLの特定の要素は、ユーザーがアクティブにすることができることを意味する、<a id="activation:activation-behaviour" href="https://dom.spec.whatwg.org/#eventtarget-activation-behavior" data-x-internal="activation-behaviour">アクティベーション動作</a>を持つ。これは、常に<code id="activation:event-click"><a data-x-internal="event-click" href="https://w3c.github.io/uievents/#event-type-click">click</a></code>イベントによって発生する。</p>

  

  

  <dl class="domintro"><dt><code><var>element</var>.<span id="dom-click">click</span>()</code><dd><p>あたかも要素をクリックされたかのように動作する。</dl>

  

  <h4 id="the-toggleevent-interface"><span class="secno">6.5.1</span> The <code>ToggleEvent</code> interface<a href="#the-toggleevent-interface" class="self-link"></a></h4>

  

  <dl class="domintro"><dt><code><var>event</var>.<a href="#dom-toggleevent-oldstate-2" id="dom-toggleevent-oldstate">oldState</a></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ToggleEvent/oldState" title="The oldState read-only property of the ToggleEvent interface is a string representing the state the element is transitioning from.">ToggleEvent/oldState</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">🔰 114+</span></span><span class="safari yes"><span>Safari</span><span>17+</span></span><span class="chrome yes"><span>Chrome</span><span>114+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>114+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><dd><p>Set to "<code>closed</code>" when transitioning from closed to open, or set to "<code>open</code>" when transitioning from open to closed.</p>
   <dt><code><var>event</var>.<a href="#dom-toggleevent-newstate-2" id="dom-toggleevent-newstate">newState</a></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/ToggleEvent/newState" title="The newState read-only property of the ToggleEvent interface is a string representing the state the element is transitioning to.">ToggleEvent/newState</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span title="Requires setting a user preference or runtime flag.">🔰 114+</span></span><span class="safari yes"><span>Safari</span><span>17+</span></span><span class="chrome yes"><span>Chrome</span><span>114+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>114+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><dd><p>Set to "<code>open</code>" when transitioning from closed to open, or set to "<code>closed</code>" when transitioning from open to closed.</p>
   </dl>

  <p>The <dfn data-dfn-for="ToggleEvent" id="dom-toggleevent-oldstate-2" data-dfn-type="attribute"><code>oldState</code></dfn> and <dfn data-dfn-for="ToggleEvent" id="dom-toggleevent-newstate-2" data-dfn-type="attribute"><code>newState</code></dfn> attributes must return the values they are initialized to.</p>

  <p>A <dfn id="toggle-task-tracker">toggle task tracker</dfn> is a <a id="the-toggleevent-interface:struct" href="https://triple-underscore.github.io/infra-ja.html#struct" data-x-internal="struct">struct</a> which has:</p>

  <dl><dt><dfn id="toggle-task-task">task</dfn><dd>A <span>task</span> which fires a <code>ToggleEvent</code>.<dt><dfn id="toggle-task-old-state">old state</dfn><dd>A string which represents the <a href="#toggle-task-task" id="the-toggleevent-interface:toggle-task-task">task</a>'s event's value for the <code id="the-toggleevent-interface:dom-toggleevent-oldstate-2"><a href="#dom-toggleevent-oldstate-2">oldState</a></code> attribute.</dl>


  <h3 id="focus"><span class="secno">6.6</span> Focus<a href="#focus" class="self-link"></a></h3>

  
  
  
  

  

  <h4 id="introduction-7"><span class="secno">6.6.1</span> Introduction<a href="#introduction-7" class="self-link"></a></h4>

  

  <p>HTMLユーザーインターフェイスは典型的に、フォームコントロール、スクロール可能領域、リンク、ダイアログボックス、ブラウザータブなど、複数のインタラクティブウィジットから成る。これらウィジェットは、他（たとえば、リンク、フォームコントロール）を含むもの（たとえば、ブラウザータブ、ダイアログボックス）をもつ、階層構造を形成する。</p>

  <p>キーボードを使用するインターフェイスと情報交換する場合、アクティブなウィジェットから、<a href="#focused" id="introduction-7:focused">フォーカスされる</a>と呼ばれる、インタラクティブなウィジェットの階層構造を通して、キー入力はシステムから流れる。</p>

  <div class="example"><p>グラフィカル環境で動作するブラウザータブにおいて動作するHTMLアプリケーションを考えてみる。このアプリケーションが、いくつかのテキストコントロールおよびリンクをもつページを持ち、それ自身がテキストコントロールとボタンを持った、モーダルダイアログを表示していると想定する。</p>

   <p>このシナリオにおいて、その子の間でHTMLアプリケーションを含むブラウザータブを持つだろう、フォーカス可能なウィジェットの階層構造は、ブラウザーウィンドウを含むかもしれない。タブ自身は、ダイアログと同様に、その子として、様々なリンクおよびテキストコントロールを持つだろう。ダイアログ自身は、その子として、テキストコントロールおよびボタンを持つだろう。</p>

   <p><img alt="" src="https://html.spec.whatwg.org/multipage/images/focus-tree.png" width="800" height="450"><p>If the widget with <a href="#focused" id="introduction-7:focused-2">focus</a> in this example was the text control in the dialog box, then key input would be channeled from the graphical system to ① the web browser, then to ② the tab, then to ③ the dialog, and finally to ④ the text control.</p>

  </div>

  <p>キーボード<em>イベント</em>は、常にこの<a href="#focused" id="introduction-7:focused-3">フォーカスされた</a>要素で対象にされる。</p>


  <h4 id="data-model"><span class="secno">6.6.2</span> Data model<a href="#data-model" class="self-link"></a></h4>

  <p id="tlbc-system-focus">A <a id="data-model:top-level-traversable" href="document-sequences.html#top-level-traversable">top-level traversable</a> has <dfn data-dfn-for="top-level
  traversable" id="system-focus" data-export="">system focus</dfn> when it can receive keyboard input channeled from the operating system, possibly targeted at one of its <a href="document-sequences.html#nav-document" id="data-model:nav-document">active document</a>'s <a id="data-model:descendant-navigables" href="document-sequences.html#descendant-navigables">descendant navigables</a>.</p>

  <p>A <a id="data-model:top-level-traversable-2" href="document-sequences.html#top-level-traversable">top-level traversable</a> has <dfn data-dfn-for="top-level traversable" id="user-attention">user attention</dfn> when its <a id="data-model:system-visibility-state" href="document-sequences.html#system-visibility-state">system visibility state</a> is "<code>visible</code>", and it either has <a href="#system-focus" id="data-model:system-focus">system focus</a> or user agent widgets directly related to it can receive keyboard input channeled from the operating system.</p>
  

  <p class="note">User attention is lost when a browser window loses focus, whereas system focus might also be lost to other system widgets in the browser window such as a location bar.</p>

  <p>A <code>Document</code> <var>d</var> is a <dfn data-dfn-for="Document" id="fully-active-descendant-of-a-top-level-traversable-with-user-attention" data-export="">fully active descendant of a top-level traversable with user attention</dfn> when <var>d</var> is <a id="data-model:fully-active" href="document-sequences.html#fully-active">fully active</a> and <var>d</var>'s <a id="data-model:node-navigable" href="document-sequences.html#node-navigable">node navigable</a>'s <a href="document-sequences.html#nav-top" id="data-model:nav-top">top-level traversable</a> has <a href="#user-attention" id="data-model:user-attention">user attention</a>.</p>

  <p>The term <dfn id="focusable-area">focusable area</dfn> is used to refer to regions of the interface that can further become the target of such keyboard input. フォーカス可能領域は、要素、要素の一部、またはユーザーエージェントによって処理される他の領域となることができる。</p>

  <p>各<a href="#focusable-area" id="data-model:focusable-area">フォーカス可能領域</a>は、DOMで<a href="#focusable-area" id="data-model:focusable-area-2">フォーカス可能領域</a>の位置を表す<code id="data-model:node"><a data-x-internal="node" href="https://triple-underscore.github.io/DOM4-ja.html#interface-node">Node</a></code>オブジェクトである、<dfn id="dom-anchor">DOMアンカー</dfn>を持つ。（<a href="#focusable-area" id="data-model:focusable-area-3">フォーカス可能領域</a>が<code id="data-model:node-2"><a data-x-internal="node" href="https://triple-underscore.github.io/DOM4-ja.html#interface-node">Node</a></code>自身である場合、それはそれ自身の<a href="#dom-anchor" id="data-model:dom-anchor">DOM anchor</a>である。）<a href="#focusable-area" id="data-model:focusable-area-5">フォーカス可能領域</a>を表すために他のDOMオブジェクトが存在しない場合、<a href="#dom-anchor" id="data-model:dom-anchor-2">DOMアンカー</a>は、<a href="#focusable-area" id="data-model:focusable-area-4">フォーカス可能領域</a>に適するようないくつかのAPIで使用される。</p>

  <p>以下のテーブルは、どのオブジェクトが<a href="#focusable-area" id="data-model:focusable-area-6">フォーカス可能領域</a>となることができるかを説明する。左の列におけるセルは、<a href="#focusable-area" id="data-model:focusable-area-7">フォーカス可能領域</a>となることができるオブジェクトを説明する。右の列におけるセルは、この要素に対する<a href="#dom-anchor" id="data-model:dom-anchor-3">DOMアンカー</a>を説明する。（両方の列をまたぐセルは、非規範的な例である。）</p>

  <table id="table-fa"><thead><tr><th id="th-fa-area"><a href="#focusable-area" id="data-model:focusable-area-8">Focusable area</a><th id="th-fa-dom-rep"><a href="#dom-anchor" id="data-model:dom-anchor-4">DOM anchor</a><tr><th colspan="2" id="th-fa-examples"> 例<tbody><tr><th headers="th-fa-area" id="td-fa-1" class="data-header">Elements that meet all the following criteria:<ul class="brief"><li>the element's <span>tabindex value</span> is non-null, or the element is determined by the user agent to be focusable;<li>the element is either not a <a id="data-model:shadow-host" href="https://dom.spec.whatwg.org/#element-shadow-host" data-x-internal="shadow-host">shadow host</a>, or has a <a href="https://dom.spec.whatwg.org/#concept-element-shadow-root" id="data-model:concept-element-shadow-root" data-x-internal="concept-element-shadow-root">shadow root</a> whose <a id="data-model:delegates-focus" href="https://dom.spec.whatwg.org/#shadowroot-delegates-focus" data-x-internal="delegates-focus">delegates focus</a> is false;<li>the element is not <a href="semantics-other.html#concept-element-disabled" id="data-model:concept-element-disabled">actually disabled</a>;<li>the element is not <a href="#inert" id="data-model:inert">inert</a>;<li>the element is either <span>being rendered</span>, <span>delegating its rendering to its children</span>, or <a id="data-model:being-used-as-relevant-canvas-fallback-content" href="canvas.html#being-used-as-relevant-canvas-fallback-content">being used as relevant canvas fallback content</a>.</ul>
     <td headers="td-fa-1 th-fa-dom-rep">要素自身。<tr><td headers="td-fa-1 th-fa-examples" colspan="2"><p class="example"><code id="data-model:the-iframe-element"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>, <code id="data-model:the-dialog-element"><a href="interactive-elements.html#the-dialog-element">dialog</a></code>, <code id="data-model:text-(type=text)-state-and-search-state-(type=search)"><a href="input.html#text-(type=text)-state-and-search-state-(type=search)">&lt;input type=text></a></code>, sometimes <code id="data-model:the-a-element"><a href="text-level-semantics.html#the-a-element">&lt;a href=""></a></code> (depending on platform conventions).<tbody><tr><th headers="th-fa-area" id="td-fa-2" class="data-header">The shapes of <code id="data-model:the-area-element"><a href="image-maps.html#the-area-element">area</a></code> elements in an <a id="data-model:image-map" href="image-maps.html#image-map">image map</a> associated with an <code id="data-model:the-img-element"><a href="embedded-content.html#the-img-element">img</a></code> element that is <span>being rendered</span> and is not <a href="#inert" id="data-model:inert-2">inert</a>.<td headers="td-fa-2 th-fa-dom-rep"><code id="data-model:the-img-element-2"><a href="embedded-content.html#the-img-element">img</a></code>要素<tr><td headers="td-fa-2 th-fa-examples" colspan="2"><div class="example"><p>次の例において、それぞれ画像の、<code id="data-model:the-area-element-2"><a href="image-maps.html#the-area-element">area</a></code>要素は2つの形状を作成する。最初の形状の<a href="#dom-anchor" id="data-model:dom-anchor-5">DOMアンカー</a>は、最初の<code id="data-model:the-img-element-3"><a href="embedded-content.html#the-img-element">img</a></code>要素であり、2つめの形状の<a href="#dom-anchor" id="data-model:dom-anchor-6">DOM anchor</a>は、2つめの<code id="data-model:the-img-element-4"><a href="embedded-content.html#the-img-element">img</a></code>要素である。</p>
      <pre><code class='html'><c- p>&lt;</c-><c- f>map</c-> <c- e>id</c-><c- o>=</c-><c- s>wallmap</c-><c- p>>&lt;</c-><c- f>area</c-> <c- e>alt</c-><c- o>=</c-><c- s>"Enter Door"</c-> <c- e>coords</c-><c- o>=</c-><c- s>"10,10,100,200"</c-> <c- e>href</c-><c- o>=</c-><c- s>"door.html"</c-><c- p>>&lt;/</c-><c- f>map</c-><c- p>></c->
...
<c- p>&lt;</c-><c- f>img</c-> <c- e>src</c-><c- o>=</c-><c- s>"images/innerwall.jpeg"</c-> <c- e>alt</c-><c- o>=</c-><c- s>"There is a white wall here, with a door."</c-> <c- e>usemap</c-><c- o>=</c-><c- s>"#wallmap"</c-><c- p>></c->
...
<c- p>&lt;</c-><c- f>img</c-> <c- e>src</c-><c- o>=</c-><c- s>"images/outerwall.jpeg"</c-> <c- e>alt</c-><c- o>=</c-><c- s>"There is a red wall here, with a door."</c-> <c- e>usemap</c-><c- o>=</c-><c- s>"#wallmap"</c-><c- p>></c-></code></pre>
     </div>

   <tbody><tr><th headers="th-fa-area" id="td-fa-3" class="data-header">The user-agent provided subwidgets of elements that are <span>being rendered</span> and are not <a href="semantics-other.html#concept-element-disabled" id="data-model:concept-element-disabled-2">actually disabled</a> or <a href="#inert" id="data-model:inert-3">inert</a>.<td headers="td-fa-3 th-fa-dom-rep"><a href="#focusable-area" id="data-model:focusable-area-9">フォーカス可能領域</a>がサブウィジェットとなる要素。<tr><td headers="td-fa-3 th-fa-examples" colspan="2"><p class="example">The <span>controls in the user interface</span> for a <code id="data-model:the-video-element"><a href="media.html#the-video-element">video</a></code> element, the up and down buttons in a spin-control version of <code id="data-model:number-state-(type=number)"><a href="input.html#number-state-(type=number)">&lt;input type=number></a></code>, the part of a <code id="data-model:the-details-element"><a href="interactive-elements.html#the-details-element">details</a></code> element's rendering that enables the element to be opened or closed using keyboard input.</p>

   <tbody><tr><th headers="th-fa-area" id="td-fa-4" class="data-header">The scrollable regions of elements that are <span>being rendered</span> and are not <a href="#inert" id="data-model:inert-4">inert</a>.<td headers="td-fa-4 th-fa-dom-rep">スクロール可能な領域のスクロールが作成されたボックスに対する要素<tr><td headers="td-fa-4 th-fa-examples" colspan="2"><p class="example">CSS <a id="data-model:'overflow'" href="https://drafts.csswg.org/css-overflow/#propdef-overflow" data-x-internal="'overflow'">'overflow'</a>プロパティの'scroll'値が典型的にスクロール可能領域を作成する。</p>

   <tbody><tr><th headers="th-fa-area" id="td-fa-5" class="data-header">The <a id="data-model:viewport" href="https://drafts.csswg.org/css2/#viewport" data-x-internal="viewport">viewport</a> of a <code>Document</code> that has a non-null <a href="document-sequences.html#concept-document-bc" id="data-model:concept-document-bc">browsing context</a> and is not <a href="#inert" id="data-model:inert-5">inert</a>.<td headers="td-fa-5 th-fa-dom-rep"><a id="data-model:viewport-2" href="https://drafts.csswg.org/css2/#viewport" data-x-internal="viewport">ビューポート</a>が作成された<code>Document</code>。<tr><td headers="td-fa-5 th-fa-examples" colspan="2"><p class="example"><code id="data-model:the-iframe-element-2"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>のコンテンツ。</p>

   <tbody><tr><th headers="th-fa-area" id="td-fa-6" class="data-header">Any other element or part of an element determined by the user agent to be a focusable area, especially to aid with accessibility or to better match platform conventions.<td headers="td-fa-6 th-fa-dom-rep">要素。<tr><td headers="td-fa-6 th-fa-examples" colspan="2"><p class="example">A user agent could make all list item bullets <span>sequentially focusable</span>, so that a user can more easily navigate lists.</p>
     <p class="example">Similarly, a user agent could make all elements with <code id="data-model:attr-title"><a href="dom.html#attr-title">title</a></code> attributes <span>sequentially focusable</span>, so that their advisory information can be accessed.</p>

  </table>

  <p id="bc-focus-ergo-bcc-focus" class="note">A <a id="data-model:navigable-container" href="document-sequences.html#navigable-container">navigable container</a> (e.g. an <code id="data-model:the-iframe-element-3"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>) is a <a href="#focusable-area" id="data-model:focusable-area-10">focusable area</a>, but key events routed to a <a id="data-model:navigable-container-2" href="document-sequences.html#navigable-container">navigable container</a> get immediately routed to its <a id="data-model:content-navigable" href="document-sequences.html#content-navigable">content navigable</a>'s <a href="document-sequences.html#nav-document" id="data-model:nav-document-2">active document</a>. Similarly, in sequential focus navigation a <a id="data-model:navigable-container-3" href="document-sequences.html#navigable-container">navigable container</a> essentially acts merely as a placeholder for its <a id="data-model:content-navigable-2" href="document-sequences.html#content-navigable">content navigable</a>'s <a href="document-sequences.html#nav-document" id="data-model:nav-document-3">active document</a>.</p>

  <hr>

  <p>One <a href="#focusable-area" id="data-model:focusable-area-11">focusable area</a> in each <code>Document</code> is designated the <dfn id="focused-area-of-the-document">focused area of the document</dfn>. どのコントロールがそのように呼ばれるかは時間とともに変化し、この仕様におけるアルゴリズムに基づく。</p>

  <p class="note">Even if a document is not <a id="data-model:fully-active-2" href="document-sequences.html#fully-active">fully active</a> and not shown to the user, it can still have a <a href="#focused-area-of-the-document" id="data-model:focused-area-of-the-document">focused area of the document</a>. If a document's <a id="data-model:fully-active-3" href="document-sequences.html#fully-active">fully active</a> state changes, its <a href="#focused-area-of-the-document" id="data-model:focused-area-of-the-document-2">focused area of the document</a> will stay the same.</p>

  <p id="currently-focused-area-of-a-top-level-browsing-context">The <dfn id="currently-focused-area-of-a-top-level-traversable">currently focused area of a top-level traversable</dfn> <var>traversable</var> is the <a href="#focusable-area" id="data-model:focusable-area-12">focusable area</a>-or-null returned by this algorithm:</p>

  <ol><li><p>If <var>traversable</var> does not have <a href="#system-focus" id="data-model:system-focus-2">system focus</a>, then return null.<li><p>Let <var>candidate</var> be <var>traversable</var>'s <a href="document-sequences.html#nav-document" id="data-model:nav-document-4">active document</a>.<li><p>While <var>candidate</var>'s <a href="#focused-area-of-the-document" id="data-model:focused-area-of-the-document-3">focused area</a> is a <a id="data-model:navigable-container-4" href="document-sequences.html#navigable-container">navigable container</a> with a non-null <a id="data-model:content-navigable-3" href="document-sequences.html#content-navigable">content navigable</a>: set <var>candidate</var> to the <a href="document-sequences.html#nav-document" id="data-model:nav-document-5">active document</a> of that <a id="data-model:navigable-container-5" href="document-sequences.html#navigable-container">navigable container</a>'s <a id="data-model:content-navigable-4" href="document-sequences.html#content-navigable">content navigable</a>.<li><p>If <var>candidate</var>'s <a href="#focused-area-of-the-document" id="data-model:focused-area-of-the-document-4">focused area</a> is non-null, set <var>candidate</var> to <var>candidate</var>'s <a href="#focused-area-of-the-document" id="data-model:focused-area-of-the-document-5">focused area</a>.<li><p><var>candidate</var>を返す。</ol>

  <p id="current-focus-chain-of-a-top-level-browsing-context">The <dfn id="current-focus-chain-of-a-top-level-traversable">current focus chain of a top-level traversable</dfn> <var>traversable</var> is the <span>focus chain</span> of the <a href="#currently-focused-area-of-a-top-level-traversable" id="data-model:currently-focused-area-of-a-top-level-traversable">currently focused area</a> of <var>traversable</var>, if <var>traversable</var> is non-null, or an empty list otherwise.</p>

  <p>An element that is the <a href="#dom-anchor" id="data-model:dom-anchor-7">DOM anchor</a> of a <a href="#focusable-area" id="data-model:focusable-area-13">focusable area</a> is said to <dfn id="gains-focus">gain focus</dfn> when that <a href="#focusable-area" id="data-model:focusable-area-14">focusable area</a> becomes the <a href="#currently-focused-area-of-a-top-level-traversable" id="data-model:currently-focused-area-of-a-top-level-traversable-2">currently focused area of a top-level traversable</a>. When an element is the <a href="#dom-anchor" id="data-model:dom-anchor-8">DOM anchor</a> of a <a href="#focusable-area" id="data-model:focusable-area-15">focusable area</a> of the <a href="#currently-focused-area-of-a-top-level-traversable" id="data-model:currently-focused-area-of-a-top-level-traversable-3">currently focused area of a top-level traversable</a>, it is <dfn id="focused">focused</dfn>.</p>

  

  <h4 id="the-tabindex-attribute"><span class="secno">6.6.3</span> The <code id="the-tabindex-attribute:attr-tabindex"><a href="#attr-tabindex">tabindex</a></code> attribute<a href="#the-tabindex-attribute" class="self-link"></a></h4>

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex" title="The tabindex global attribute allows developers to make HTML elements focusable, allow or prevent them from being sequentially focusable (usually with the Tab key, hence the name) and determine their relative ordering for sequential focus navigation.">Global_attributes/tabindex</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1.5+</span></span><span class="safari yes"><span>Safari</span><span>4+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>Yes</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><p>The <dfn data-dfn-for="htmlsvg-global" id="attr-tabindex" data-dfn-type="element-attr"><code>tabindex</code></dfn> content attribute allows authors to make an element and regions that have the element as its <a href="#dom-anchor" id="the-tabindex-attribute:dom-anchor">DOM anchor</a> be <a href="#focusable-area" id="the-tabindex-attribute:focusable-area">focusable areas</a>, allow or prevent them from being <span>sequentially focusable</span>, and determine their relative ordering for <span>sequential focus navigation</span>.</p>

  <p>The name "tab index" comes from the common use of the <kbd>Tab</kbd> key to navigate through the focusable elements. The term "tabbing" refers to moving forward through <span>sequentially focusable</span> <a href="#focusable-area" id="the-tabindex-attribute:focusable-area-2">focusable areas</a>.</p>

  <p><code id="the-tabindex-attribute:attr-tabindex-2"><a href="#attr-tabindex">tabindex</a></code>属性が指定される場合、<a id="the-tabindex-attribute:valid-integer" href="common-microsyntaxes.html#valid-integer">妥当な整数</a>である値を持たなければならない。Positive numbers specify the relative position of the element's <a href="#focusable-area" id="the-tabindex-attribute:focusable-area-3">focusable areas</a> in the <span>sequential focus navigation order</span>, and negative numbers indicate that the control is not <span>sequentially focusable</span>.</p>

  <p>0または-1以外の値を使用している場合、開発者は、これが正しく行うために複雑になるよう、自身の<code id="the-tabindex-attribute:attr-tabindex-3"><a href="#attr-tabindex">tabindex</a></code>属性に対して用心すべきである。</p>

  <div class="note"><p>The following provides a summary of the behaviors of the possible <code id="the-tabindex-attribute:attr-tabindex-4"><a href="#attr-tabindex">tabindex</a></code> attribute values.</p>

   <dl><dt>omitted (or non-integer values)<dd>The user agent will decide whether the element is <span>focusable</span>, and if it is, whether it is <span>sequentially focusable</span> or <span>click focusable</span> (or both).<dt>−1 (or other negative integer values)<dd>Causes the element to be <span>focusable</span>, and indicates that the author would prefer the element to be <span>click focusable</span> but not <span>sequentially focusable</span>. The user agent might ignore this preference for click and sequential focusability, e.g., for specific element types according to platform conventions, or for keyboard-only users.<dt>0<dd>Causes the element to be <span>focusable</span>, and indicates that the author would prefer the element to be both <span>click focusable</span> and <span>sequentially focusable</span>. The user agent might ignore this preference for click and sequential focusability.<dt>positive integer values<dd>Behaves the same as 0, but in addition creates a relative ordering within a <span>tabindex-ordered focus navigation scope</span>, so that elements with higher <code id="the-tabindex-attribute:attr-tabindex-5"><a href="#attr-tabindex">tabindex</a></code> attribute value come later.</dl>

   <p>Note that the <code id="the-tabindex-attribute:attr-tabindex-6"><a href="#attr-tabindex">tabindex</a></code> attribute cannot be used to make an element non-focusable. The only way a page author can do that is by <a href="semantics-other.html#concept-element-disabled" id="the-tabindex-attribute:concept-element-disabled">disabling</a> the element, or making it <a href="#inert" id="the-tabindex-attribute:inert">inert</a>.</p>
  </div>

  


  


  <h4 id="focus-management-apis"><span class="secno">6.6.4</span> Focus management APIs<a href="#focus-management-apis" class="self-link"></a></h4>

  

  <dl class="domintro"><dt><code><var>documentOrShadowRoot</var>.<span id="dom-documentorshadowroot-activeelement">activeElement</span></code><dd><p>キーイベントが送られるまたは送る文書における最も深い要素を返す。大まかに言って、これは文書における被フォーカス要素である。</p>

    <p>For the purposes of this API, when a <a id="focus-management-apis:child-navigable" href="document-sequences.html#child-navigable">child navigable</a> is focused, its <a href="document-sequences.html#nav-container" id="focus-management-apis:nav-container">container</a> is <a href="#bc-focus-ergo-bcc-focus">focused</a> within its <a href="document-sequences.html#nav-parent" id="focus-management-apis:nav-parent">parent</a>'s <a href="document-sequences.html#nav-document" id="focus-management-apis:nav-document">active document</a>. For example, if the user moves the focus to a text control in an <code id="focus-management-apis:the-iframe-element"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>, the <code id="focus-management-apis:the-iframe-element-2"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code> is the element returned by the <code id="focus-management-apis:dom-documentorshadowroot-activeelement"><a href="#dom-documentorshadowroot-activeelement">activeElement</a></code> API in the <code id="focus-management-apis:the-iframe-element-3"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>'s <a id="focus-management-apis:node-document" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">node document</a>.</p>

    <p>Similarly, when the focused element is in a different <a id="focus-management-apis:node-tree" href="https://dom.spec.whatwg.org/#concept-node-tree" data-x-internal="node-tree">node tree</a> than <var>documentOrShadowRoot</var>, the element returned will be the <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-documentfragment-host" id="focus-management-apis:concept-documentfragment-host" data-x-internal="concept-documentfragment-host">host</a> that's located in the same <a id="focus-management-apis:node-tree-2" href="https://dom.spec.whatwg.org/#concept-node-tree" data-x-internal="node-tree">node tree</a> as <var>documentOrShadowRoot</var> if <var>documentOrShadowRoot</var> is a <a id="focus-management-apis:shadow-including-inclusive-ancestor" href="https://dom.spec.whatwg.org/#concept-shadow-including-inclusive-ancestor" data-x-internal="shadow-including-inclusive-ancestor">shadow-including inclusive ancestor</a> of the focused element, and null if not.</p>
   <dt><code><var>document</var>.<span id="dom-document-hasfocus">hasFocus</span>()</code><dd><p>キーイベントが文書を通してまたは文書に向かって送られる場合にtrueを返し、そうでなければfalseを返す。大まかに言って、これは文書、この内側でネストされた文書、被フォーカスに対応する。</p>
   <dt><code><var>window</var>.<span id="dom-window-focus">focus</span>()</code><dd><p>Moves the focus to the window's <span>navigable</span>, if any.</p>
   <dt><code><var>element</var>.<span id="dom-focus">focus</span>([ { <span>preventScroll</span>: true } ])</code><dd><p>フォーカスを要素に移動する。</p>

    <p>If the element is a <a id="focus-management-apis:navigable-container" href="document-sequences.html#navigable-container">navigable container</a>, moves the focus to its <a id="focus-management-apis:content-navigable" href="document-sequences.html#content-navigable">content navigable</a> instead.</p>

    <p>デフォルトでは、このメソッドはまた要素をビューにスクロールする。<code>preventScroll</code>オプションを指定してtrueに設定すると、この動作が防止される。</p>
   <dt><code><var>element</var>.<span id="dom-blur">blur</span>()</code><dd><p>フォーカスを<a id="focus-management-apis:viewport" href="https://drafts.csswg.org/css2/#viewport" data-x-internal="viewport">ビューポート</a>に移動する。このメソッドの使用は奨められない。<a id="focus-management-apis:viewport-2" href="https://drafts.csswg.org/css2/#viewport" data-x-internal="viewport">ビューポート</a>にフォーカスしたい場合、<code>Document</code>の<a id="focus-management-apis:document-element" href="https://triple-underscore.github.io/DOM4-ja.html#document-element" data-x-internal="document-element">文書要素</a>上の<code id="focus-management-apis:dom-focus"><a href="#dom-focus">focus()</a></code>メソッドを呼び出す。</p>

    <p>見苦しいフォーカスリングを発見する場合、フォーカスリングを非表示にするためにこの方法を使用してはならない。Instead, use the <code id="focus-management-apis::focus-visible"><a data-x-internal=":focus-visible" href="https://drafts.csswg.org/selectors/#the-focus-visible-pseudo">:focus-visible</a></code> pseudo-class to override the <a id="focus-management-apis:'outline'" href="https://momdo.github.io/css-ui/#outline" data-x-internal="'outline'">'outline'</a> property, and provide a different way to show what element is focused. 代替フォーカススタイルが利用可能にならないか、ページが主にキーボードを使用してページをナビゲートする人に対して著しく使用可能にならないか、ページをナビゲートするのに役立つフォーカスアウトラインを使う人の刺客を減少させないかどうかに注意する。</p>

    

    <div class="example"><p>For example, to hide the outline from <code id="focus-management-apis:the-textarea-element"><a href="form-elements.html#the-textarea-element">textarea</a></code> elements and instead use a yellow background to indicate focus, you could use:</p>

     <pre><code class='css'><c- f>textarea:focus-visible </c-><c- p>{</c-> <c- k>outline</c-><c- p>:</c-> none<c- p>;</c-> <c- k>background</c-><c- p>:</c-> yellow<c- p>;</c-> <c- k>color</c-><c- p>:</c-> black<c- p>;</c-> <c- p>}</c-></code></pre>

    </div>
   </dl>

  


  <h4 id="the-autofocus-attribute"><span class="secno">6.6.5</span> <span id="autofocusing-a-form-control:-the-autofocus-attribute"></span>The <code id="the-autofocus-attribute:attr-fe-autofocus"><a href="#attr-fe-autofocus">autofocus</a></code> attribute<a href="#the-autofocus-attribute" class="self-link"></a></h4>

  <p>The <dfn data-dfn-for="html-global" id="attr-fe-autofocus" data-dfn-type="element-attr"><code>autofocus</code></dfn> content attribute allows the author to indicate that an element is to be focused as soon as the page is loaded, allowing the user to just start typing without having to manually focus the main element.</p>

  <p>When the <code id="the-autofocus-attribute:attr-fe-autofocus-2"><a href="#attr-fe-autofocus">autofocus</a></code> attribute is specified on an element inside <code id="the-autofocus-attribute:the-dialog-element"><a href="interactive-elements.html#the-dialog-element">dialog</a></code> elements or <a id="the-autofocus-attribute:html-elements" href="infrastructure.html#html-elements">HTML elements</a> whose <code id="the-autofocus-attribute:attr-popover"><a href="popover.html#attr-popover">popover</a></code> attribute is set, then it will be focused when the dialog or popover becomes shown.</p>

  <p><code id="the-autofocus-attribute:attr-fe-autofocus-3"><a href="#attr-fe-autofocus">autofocus</a></code>属性は<a id="the-autofocus-attribute:boolean-attribute" href="common-microsyntaxes.html#boolean-attribute">真偽属性</a>である。</p>

  <p>To find the <dfn id="nearest-ancestor-autofocus-scoping-root-element">nearest ancestor autofocus scoping root element</dfn> given an <code id="the-autofocus-attribute:element"><a data-x-internal="element" href="https://triple-underscore.github.io/DOM4-ja.html#interface-element">Element</a></code> <var>element</var>:</p>

  <ol><li><p>If <var>element</var> is a <code id="the-autofocus-attribute:the-dialog-element-2"><a href="interactive-elements.html#the-dialog-element">dialog</a></code> element, then return <var>element</var>.<li><p>If <var>element</var>'s <code id="the-autofocus-attribute:attr-popover-2"><a href="popover.html#attr-popover">popover</a></code> attribute is not in the <a href="popover.html#attr-popover-none-state" id="the-autofocus-attribute:attr-popover-none-state">no popover state</a>, then return <var>element</var>.<li><p>Let <var>ancestor</var> be <var>element</var>.<li><p>While <var>ancestor</var> has a <a id="the-autofocus-attribute:parent-element" href="https://dom.spec.whatwg.org/#parent-element" data-x-internal="parent-element">parent element</a>:</p>

    <ol><li><p>Set <var>ancestor</var> to <var>ancestor</var>'s <a id="the-autofocus-attribute:parent-element-2" href="https://dom.spec.whatwg.org/#parent-element" data-x-internal="parent-element">parent element</a>.<li><p>If <var>ancestor</var> is a <code id="the-autofocus-attribute:the-dialog-element-3"><a href="interactive-elements.html#the-dialog-element">dialog</a></code> element, then return <var>ancestor</var>.<li><p>If <var>ancestor</var>'s <code id="the-autofocus-attribute:attr-popover-3"><a href="popover.html#attr-popover">popover</a></code> attribute is not in the <a href="popover.html#attr-popover-none-state" id="the-autofocus-attribute:attr-popover-none-state-2">no popover state</a>, then return <var>ancestor</var>.</ol>
   <li><p>Return <var>ancestor</var>.</ol>

  <p>両方が<code id="the-autofocus-attribute:attr-fe-autofocus-4"><a href="#attr-fe-autofocus">autofocus</a></code>属性を指定される同じ<a href="#nearest-ancestor-autofocus-scoping-root-element" id="the-autofocus-attribute:nearest-ancestor-autofocus-scoping-root-element">直近の祖先オートフォーカス範囲のルート要素</a>をもつ2つの要素が存在してはならない。</p>

  

  <div class="example"><p>次の断片において、文書が読み込まれるとき、テキストコントロールにフォーカスされる。</p>
   <pre><code class='html'><c- p>&lt;</c-><c- f>input</c-> <c- e>maxlength</c-><c- o>=</c-><c- s>"256"</c-> <c- e>name</c-><c- o>=</c-><c- s>"q"</c-> <c- e>value</c-><c- o>=</c-><c- s>""</c-> <c- e>autofocus</c-><c- p>></c->
<c- p>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>"submit"</c-> <c- e>value</c-><c- o>=</c-><c- s>"Search"</c-><c- p>></c-></code></pre>
  </div>

  <div class="example"><p>The <code id="the-autofocus-attribute:attr-fe-autofocus-5"><a href="#attr-fe-autofocus">autofocus</a></code> attribute applies to all elements, not just to form controls. This allows examples such as the following:</p>
   <pre><code class='html'><c- p>&lt;</c-><c- f>div</c-> <c- e>contenteditable</c-> <c- e>autofocus</c-><c- p>></c->Edit <c- p>&lt;</c-><c- f>strong</c-><c- p>></c->me!<c- p>&lt;/</c-><c- f>strong</c-><c- p>>&lt;</c-><c- f>div</c-><c- p>></c-></code></pre>
  </div>



  <h3 id="assigning-keyboard-shortcuts"><span class="secno">6.7</span> Assigning keyboard shortcuts<a href="#assigning-keyboard-shortcuts" class="self-link"></a></h3>

  <h4 id="introduction-8"><span class="secno">6.7.1</span> Introduction<a href="#introduction-8" class="self-link"></a></h4>

  

  <p>アクティブまたはフォーカスさせることができる各要素は<code id="introduction-8:the-accesskey-attribute"><a href="#the-accesskey-attribute">accesskey</a></code>属性を使用して、それをアクティブにするための単一のキーの組み合わせを割り当てることができる。</p>

  <p>正確なショートカットは、ユーザーエージェントによって決定され、ユーザーのキーボードに関する情報に基づき、どのキーボードショートカットが既にプラットフォーム上に存在し、他にどのようなショートカットがページ上で指定され、ガイドとして<code id="introduction-8:the-accesskey-attribute-2"><a href="#the-accesskey-attribute">accesskey</a></code>属性に提供された情報を使用する。</p>

  <p>関連するキーボードショートカットが多種多様な入力デバイスで利用可能であることを確実にするために、著者は<code id="introduction-8:the-accesskey-attribute-3"><a href="#the-accesskey-attribute">accesskey</a></code>属性で多数の選択肢を提供できる。</p>

  <p>各選択肢は、文字または数字のような、単一の文字で構成される。</p>

  <p>ユーザーエージェントは、キーボードショートカットの一覧をユーザーに提供できるが、著者は行うことも推奨される。<code>accessKeyLabel</code> IDL属性は、ユーザーエージェントによって割り当てられた実際のキーの組み合わせを表す文字列を返す。</p>

  <div class="example"><p>この例において、著者はショートカットキーを使用して呼び出すことができるボタンを提供してきた。フルキーボードをサポートするために、著者は可能なキーとして"C"を提供している。To support devices equipped only with numeric keypads, the author has provided "1" as another possible key.</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>button</c-> <c- e>value</c-><c- o>=</c-><c- s>Collect</c-> <c- e>onclick</c-><c- o>=</c-><c- s>"collect()"</c->
       <strong><c- e>accesskey</c-><c- o>=</c-><c- s>"C 1"</c-></strong> <c- e>id</c-><c- o>=</c-><c- s>c</c-><c- p>></c-></code></pre>

  </div>

  <div class="example"><p>ショートカットキーが何であるかをユーザーに伝えるために、著者は明示的にボタンのラベルにキーの組み合わせを追加するために選択しているここでのこのスクリプトを持つ。</p>

   <pre><code class='js'><c- a>function</c-> addShortcutKeyLabel<c- p>(</c->button<c- p>)</c-> <c- p>{</c->
<strong>  <c- k>if</c-> <c- p>(</c->button<c- p>.</c->accessKeyLabel <c- o>!=</c-> <c- t>''</c-><c- p>)</c->
    button<c- p>.</c->value <c- o>+=</c-> <c- t>' ('</c-> <c- o>+</c-> button<c- p>.</c->accessKeyLabel <c- o>+</c-> <c- t>')'</c-><c- p>;</c-></strong>
<c- p>}</c->
addShortcutKeyLabel<c- p>(</c->document<c- p>.</c->getElementById<c- p>(</c-><c- t>'c'</c-><c- p>));</c-></code></pre>

   <p>異なるプラットフォーム上のブラウザーは、たとえ同じキーの組み合わせであっても、そのプラットフォーム上で普及している規則に基づいて異なるラベルを表示する。たとえば、キーの組み合わせが、Controlキー、Shiftキー、および文字Cである場合、Macのブラウザーが"<samp>^⇧C</samp>"を表示するかもしれない一方で、Windowsのブラウザーは"<samp>Ctrl+Shift+C</samp>"を表示するかもしれない。一方でEmacsのブラウザーは単に"<samp>C-C</samp>"を表示するかもしれない。同様に、キーの組み合わせがAltキーとEscキーである場合、Windowsは"<samp>Alt+Esc</samp>"を使用するかもしれず、Macは"<samp>⌥⎋</samp>"を使用するかもしれず、Emacsのブラウザーは、"<samp>M-ESC</samp>"または"<samp>ESC ESC</samp>"を使用するかもしれない。</p>

   <p>したがって、一般に、<code>accessKeyLabel</code> IDL属性から返された値を解析しようとするのは賢明ではない。</p>

  </div>


  <h4 id="the-accesskey-attribute"><span class="secno">6.7.2</span> The <dfn data-dfn-for="html-global" data-dfn-type="element-attr"><code>accesskey</code></dfn> attribute<a href="#the-accesskey-attribute" class="self-link"></a></h4><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/accesskey" title="The accesskey global attribute provides a hint for generating a keyboard shortcut for the current element. The attribute value must consist of a single printable character (which includes accented and other characters that can be generated by the keyboard).">Global_attributes/accesskey</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>4+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>Yes</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div>

  <p>すべての<a id="the-accesskey-attribute:html-elements" href="infrastructure.html#html-elements">HTML要素</a>は、<code id="the-accesskey-attribute:the-accesskey-attribute"><a href="#the-accesskey-attribute">accesskey</a></code>コンテンツ属性の設定を持ってもよい。<code id="the-accesskey-attribute:the-accesskey-attribute-2"><a href="#the-accesskey-attribute">accesskey</a></code>属性値は、要素をアクティブまたはフォーカスするキーボードショートカットを作成するためのガイドとして、ユーザーエージェントによって使用される。</p>

  <p>If specified, the value must be an <a id="the-accesskey-attribute:ordered-set-of-unique-space-separated-tokens" href="common-microsyntaxes.html#ordered-set-of-unique-space-separated-tokens">ordered set of unique space-separated tokens</a> none of which are <a id="the-accesskey-attribute:identical-to" href="https://infra.spec.whatwg.org/#string-is" data-x-internal="identical-to">identical to</a> another token and each of which must be exactly one code point in length.</p>

  <div class="example"><p>次の例において、サイトを熟知するキーボードユーザーがより迅速に関連するページに移動できるよう、さまざまなリンクがアクセスキーとともに与えられる：</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>nav</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>p</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>a</c-> <c- e>title</c-><c- o>=</c-><c- s>"Consortium Activities"</c-> <c- e>accesskey</c-><c- o>=</c-><c- s>"A"</c-> <c- e>href</c-><c- o>=</c-><c- s>"/Consortium/activities"</c-><c- p>></c->Activities<c- p>&lt;/</c-><c- f>a</c-><c- p>></c-> |
  <c- p>&lt;</c-><c- f>a</c-> <c- e>title</c-><c- o>=</c-><c- s>"Technical Reports and Recommendations"</c-> <c- e>accesskey</c-><c- o>=</c-><c- s>"T"</c-> <c- e>href</c-><c- o>=</c-><c- s>"/TR/"</c-><c- p>></c->Technical Reports<c- p>&lt;/</c-><c- f>a</c-><c- p>></c-> |
  <c- p>&lt;</c-><c- f>a</c-> <c- e>title</c-><c- o>=</c-><c- s>"Alphabetical Site Index"</c-> <c- e>accesskey</c-><c- o>=</c-><c- s>"S"</c-> <c- e>href</c-><c- o>=</c-><c- s>"/Consortium/siteindex"</c-><c- p>></c->Site Index<c- p>&lt;/</c-><c- f>a</c-><c- p>></c-> |
  <c- p>&lt;</c-><c- f>a</c-> <c- e>title</c-><c- o>=</c-><c- s>"About This Site"</c-> <c- e>accesskey</c-><c- o>=</c-><c- s>"B"</c-> <c- e>href</c-><c- o>=</c-><c- s>"/Consortium/"</c-><c- p>></c->About Consortium<c- p>&lt;/</c-><c- f>a</c-><c- p>></c-> |
  <c- p>&lt;</c-><c- f>a</c-> <c- e>title</c-><c- o>=</c-><c- s>"Contact Consortium"</c-> <c- e>accesskey</c-><c- o>=</c-><c- s>"C"</c-> <c- e>href</c-><c- o>=</c-><c- s>"/Consortium/contact"</c-><c- p>></c->Contact<c- p>&lt;/</c-><c- f>a</c-><c- p>></c->
 <c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>nav</c-><c- p>></c-></code></pre>

  </div>

  <div class="example"><p>次の例において、検索フィールドは2つの可能なアクセスキー、"s"と"0"（この順番で）が与えられる。A user agent on a device with a full keyboard might pick <kbd><kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>S</kbd></kbd> as the shortcut key, while a user agent on a small device with just a numeric keypad might pick just the plain unadorned key <kbd><kbd>0</kbd></kbd>:</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>form</c-> <c- e>action</c-><c- o>=</c-><c- s>"/search"</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>label</c-><c- p>></c->Search: <c- p>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>"search"</c-> <c- e>name</c-><c- o>=</c-><c- s>"q"</c-> <c- e>accesskey</c-><c- o>=</c-><c- s>"s 0"</c-><c- p>>&lt;/</c-><c- f>label</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>"submit"</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>form</c-><c- p>></c-></code></pre>

  </div>

  <div class="example"><p>次の例において、ボタンは説明可能なアクセスキーを持つ。このスクリプトは次に、ユーザーエージェントが選択したキーの組み合わせを通知するためにボタンのラベルの更新を試みる。</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>submit</c-> <c- e>accesskey</c-><c- o>=</c-><c- s>"N @ 1"</c-> <c- e>value</c-><c- o>=</c-><c- s>"Compose"</c-><c- p>></c->
...
<c- p>&lt;</c-><c- f>script</c-><c- p>></c->
 <c- a>function</c-> labelButton<c- p>(</c->button<c- p>)</c-> <c- p>{</c->
   <c- k>if</c-> <c- p>(</c->button<c- p>.</c->accessKeyLabel<c- p>)</c->
     button<c- p>.</c->value <c- o>+=</c-> <c- t>' ('</c-> <c- o>+</c-> button<c- p>.</c->accessKeyLabel <c- o>+</c-> <c- t>')'</c-><c- p>;</c->
 <c- p>}</c->
 <c- a>var</c-> inputs <c- o>=</c-> document<c- p>.</c->getElementsByTagName<c- p>(</c-><c- t>'input'</c-><c- p>);</c->
 <c- k>for</c-> <c- p>(</c-><c- a>var</c-> i <c- o>=</c-> <c- mf>0</c-><c- p>;</c-> i <c- o>&lt;</c-> inputs<c- p>.</c->length<c- p>;</c-> i <c- o>+=</c-> <c- mf>1</c-><c- p>)</c-> <c- p>{</c->
   <c- k>if</c-> <c- p>(</c->inputs<c- p>[</c->i<c- p>].</c->type <c- o>==</c-> <c- u>"submit"</c-><c- p>)</c->
     labelButton<c- p>(</c->inputs<c- p>[</c->i<c- p>]);</c->
 <c- p>}</c->
<c- p>&lt;/</c-><c- f>script</c-><c- p>></c-></code></pre>

   <p>あるユーザーエージェントにおいて、ボタンのラベルは"<samp>Compose（⌘N）</samp>"になるかもしれない。別のものにおいて、これは"<samp>Compose（Alt+⇧+1）</samp>"になるかもしれない。ユーザーエージェントがキーを割り当てない場合、単に"<samp>Compose</samp>"になる。正確な文字列は<span>割り当てられるアクセスキー</span>が何であるか、およびどのようにユーザーエージェントがそのキーの組み合わせを表すかに依存する。</p>

  </div>


  



  <h3 id="editing-2"><span class="secno">6.8</span> Editing<a href="#editing-2" class="self-link"></a></h3>

  <h4 id="contenteditable"><span class="secno">6.8.1</span> Making document regions editable: The <code id="contenteditable:attr-contenteditable"><a href="#attr-contenteditable">contenteditable</a></code> content attribute<a href="#contenteditable" class="self-link"></a></h4><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/contentEditable" title="The contentEditable property of the HTMLElement interface specifies whether or not the element is editable.">HTMLElement/contentEditable</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>3+</span></span><span class="safari yes"><span>Safari</span><span>3+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>9+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>5.5+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div>

  

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/contenteditable" title="The contenteditable global attribute is an enumerated attribute indicating if the element should be editable by the user. If so, the browser modifies its widget to allow editing.">Global_attributes/contenteditable</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>3+</span></span><span class="safari yes"><span>Safari</span><span>4+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>9+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>5.5+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><p>The <dfn data-dfn-for="html-global" id="attr-contenteditable" data-dfn-type="element-attr"><code>contenteditable</code></dfn> content attribute is an <a id="contenteditable:enumerated-attribute" href="common-microsyntaxes.html#enumerated-attribute">enumerated attribute</a> with the following keywords and states:</p>

  <table><thead><tr><th>キーワード<th>状態<th>概要<tbody><tr><td><dfn data-dfn-for="html-global/contenteditable" id="attr-contenteditable-true" data-dfn-type="attr-value"><code>true</code></dfn><td rowspan="2"><dfn id="attr-contenteditable-true-state">true</dfn><td rowspan="2">The element is editable.<tr><td>（空文字列）<tr><td><dfn data-dfn-for="html-global/contenteditable" id="attr-contenteditable-false" data-dfn-type="attr-value"><code>false</code></dfn><td><dfn id="attr-contenteditable-false-state">false</dfn><td>The element is not editable.<tr><td><dfn data-dfn-for="html-global/contenteditable" id="attr-contenteditable-plaintextonly" data-dfn-type="attr-value"><code>plaintext-only</code></dfn><td><dfn id="attr-contenteditable-plaintextonly-state">plaintext-only</dfn><td>Only the element's raw text content is editable; rich formatting is disabled.</table>


  <p>属性の<i id="contenteditable:missing-value-default"><a href="common-microsyntaxes.html#missing-value-default">欠損値のデフォルト</a></i>および<i id="contenteditable:invalid-value-default"><a href="common-microsyntaxes.html#invalid-value-default">不正値のデフォルト</a></i>は、どちらも<dfn id="attr-contenteditable-inherit-state">inherit</dfn>状態である。The inherit state indicates that the element is editable (or not) based on the parent element's state.</p>

  <div class="example"><p>たとえば、ユーザーがHTMLを使用する記事を書くことが期待される、新しい記事を公開するために<code id="contenteditable:the-form-element"><a href="forms.html#the-form-element">form</a></code>および<code id="contenteditable:the-textarea-element"><a href="form-elements.html#the-textarea-element">textarea</a></code>を持つページを考えてみる：</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>form</c-> <c- e>method</c-><c- o>=</c-><c- s>POST</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>fieldset</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>legend</c-><c- p>></c->New article<c- p>&lt;/</c-><c- f>legend</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>textarea</c-> <c- e>name</c-><c- o>=</c-><c- s>article</c-><c- p>></c-><c- ni>&amp;lt;</c->p>Hello world.<c- ni>&amp;lt;</c->/p><c- p>&lt;/</c-><c- f>textarea</c-><c- p>></c->
 <c- p>&lt;/</c-><c- f>fieldset</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>button</c-><c- p>></c->Publish<c- p>&lt;/</c-><c- f>button</c-><c- p>>&lt;/</c-><c- f>p</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>form</c-><c- p>></c-></code></pre>

   <p>スクリプトを有効にする場合、<code id="contenteditable:the-textarea-element-2"><a href="form-elements.html#the-textarea-element">textarea</a></code>要素は、<code id="contenteditable:attr-contenteditable-2"><a href="#attr-contenteditable">contenteditable</a></code>属性を使用して、代わりにリッチテキストコントロールに置き換えることができる：</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>form</c-> <c- e>method</c-><c- o>=</c-><c- s>POST</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>fieldset</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>legend</c-><c- p>></c->New article<c- p>&lt;/</c-><c- f>legend</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>textarea</c-> <c- e>id</c-><c- o>=</c-><c- s>textarea</c-> <c- e>name</c-><c- o>=</c-><c- s>article</c-><c- p>></c-><c- ni>&amp;lt;</c->p>Hello world.<c- ni>&amp;lt;</c->/p><c- p>&lt;/</c-><c- f>textarea</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>id</c-><c- o>=</c-><c- s>div</c-> <c- e>style</c-><c- o>=</c-><c- s>"white-space: pre-wrap"</c-> <c- e>hidden</c-><c- p>>&lt;</c-><c- f>p</c-><c- p>></c->Hello world.<c- p>&lt;/</c-><c- f>p</c-><c- p>>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>script</c-><c- p>></c->
   <c- a>let</c-> textarea <c- o>=</c-> document<c- p>.</c->getElementById<c- p>(</c-><c- u>"textarea"</c-><c- p>);</c->
   <c- a>let</c-> div <c- o>=</c-> document<c- p>.</c->getElementById<c- p>(</c-><c- u>"div"</c-><c- p>);</c->
   textarea<c- p>.</c->hidden <c- o>=</c-> <c- kc>true</c-><c- p>;</c->
   div<c- p>.</c->hidden <c- o>=</c-> <c- kc>false</c-><c- p>;</c->
   div<c- p>.</c->contentEditable <c- o>=</c-> <c- u>"true"</c-><c- p>;</c->
   div<c- p>.</c->oninput <c- o>=</c-> <c- p>(</c->e<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
     textarea<c- p>.</c->value <c- o>=</c-> div<c- p>.</c->innerHTML<c- p>;</c->
   <c- p>};</c->
  <c- p>&lt;/</c-><c- f>script</c-><c- p>></c->
 <c- p>&lt;/</c-><c- f>fieldset</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>button</c-><c- p>></c->Publish<c- p>&lt;/</c-><c- f>button</c-><c- p>>&lt;/</c-><c- f>p</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>form</c-><c- p>></c-></code></pre>

   <p>たとえば挿入リンクを挿入する機能は、<code>document.execCommand()</code>APIを使用する、または<code id="contenteditable:selection"><a data-x-internal="selection" href="https://w3c.github.io/selection-api/#selection-interface">Selection</a></code>APIおよび他のDOM APIを使用して実装することができる。<a href="references.html#refsEXECCOMMAND">[EXECCOMMAND]</a> <a href="references.html#refsSELECTION">[SELECTION]</a> <a href="references.html#refsDOM">[DOM]</a></p>
  </div>

  <div class="example"><p><code id="contenteditable:attr-contenteditable-3"><a href="#attr-contenteditable">contenteditable</a></code>属性はまた、大きな効果を使用することができる：</p>

   <pre><code class='html'><c- cp>&lt;!doctype html></c->
<c- p>&lt;</c-><c- f>html</c-> <c- e>lang</c-><c- o>=</c-><c- s>en</c-><c- p>></c->
<c- p>&lt;</c-><c- f>title</c-><c- p>></c->Live CSS editing!<c- p>&lt;/</c-><c- f>title</c-><c- p>></c->
<c- p>&lt;</c-><c- f>style</c-> <c- e>style</c-><c- o>=</c-><c- s>white-space:pre</c-> <c- e>contenteditable</c-><c- p>></c->
<c- f>html</c-> <c- p>{</c-> <c- k>margin</c-><c- p>:</c-><c- mf>.2</c-><c- b>em</c-><c- p>;</c-> <c- k>font-size</c-><c- p>:</c-><c- mi>2</c-><c- b>em</c-><c- p>;</c-> <c- k>color</c-><c- p>:</c-><c- kc>lime</c-><c- p>;</c-> <c- k>background</c-><c- p>:</c-><c- kc>purple</c-> <c- p>}</c->
<c- f>head</c-><c- o>,</c-> <c- f>title</c-><c- o>,</c-> <c- f>style</c-> <c- p>{</c-> <c- k>display</c-><c- p>:</c-><c- kc>block</c-> <c- p>}</c->
<c- f>body</c-> <c- p>{</c-> <c- k>display</c-><c- p>:</c-><c- kc>none</c-> <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c-></code></pre>
  </div>

  <dl class="domintro"><dt><code><var>element</var>.<span id="dom-contenteditable">contentEditable</span> [ = <var>value</var> ]</code><dd><p>Returns "<code>true</code>", "<code>plaintext-only</code>", "<code>false</code>", or "<code id="contenteditable:attr-contenteditable-inherit-state"><a href="#attr-contenteditable-inherit-state">inherit</a></code>", based on the state of the <code id="contenteditable:attr-contenteditable-4"><a href="#attr-contenteditable">contenteditable</a></code> attribute.</p>

    <p>その状態を変更する設定が可能である。</p>

    <p>新しい値がこれらの文字列のいずれかでない場合、<a id="contenteditable:syntaxerror" href="https://webidl.spec.whatwg.org/#syntaxerror" data-x-internal="syntaxerror">"<code>SyntaxError</code>"</a> <code id="contenteditable:domexception"><a data-x-internal="domexception" href="https://webidl.spec.whatwg.org/#dfn-DOMException">DOMException</a></code>を投げる。</p>
   <dt><code><var>element</var>.<span id="dom-iscontenteditable">isContentEditable</span></code><dd><p>要素が編集可能な場合にtrueを返す。そうでなければfalseを返す。</dl>

  



  <h4 id="making-entire-documents-editable:-the-designmode-idl-attribute"><span class="secno">6.8.2</span> Making entire documents editable: the <code id="making-entire-documents-editable:-the-designmode-idl-attribute:dom-document-designmode"><a href="#dom-document-designmode">designMode</a></code> getter and setter<a href="#making-entire-documents-editable:-the-designmode-idl-attribute" class="self-link"></a></h4>

  <dl class="domintro"><dt><code><var>document</var>.<span id="dom-document-designmode">designMode</span> [ = <var>value</var> ]</code><dd><p>文書が編集可能である場合に"<code>on</code>"を返し、ない場合に"<code>off</code>"を返す。</p>

    <p>文書の現在の状態を変更する設定が可能である。これは、文書をフォーカスし、その文書で文書の選択をリセットする。</p>
   </dl>

  


  <h4 id="best-practices-for-in-page-editors"><span class="secno">6.8.3</span> Best practices for in-page editors<a href="#best-practices-for-in-page-editors" class="self-link"></a></h4>

  <p>著者は、もともと値'pre-wrap'へこれら編集のメカニズムを介して作成された<span>編集ホスト</span>およびマークアップ上の<a id="best-practices-for-in-page-editors:'white-space'" href="https://triple-underscore.github.io/css-text-ja.html#white-space-property" data-x-internal="'white-space'">'white-space'</a>プロパティを設定することを奨める。デフォルトのHTML空白処理は、あまりWYSIWYG編集に向かず、そして<a id="best-practices-for-in-page-editors:'white-space'-2" href="https://triple-underscore.github.io/css-text-ja.html#white-space-property" data-x-internal="'white-space'">'white-space'</a>がデフォルト値のままである場合、いくつかのコーナーの場合において、行の折り返しは正しく動作しない。</p>

  <div class="example"><p>デフォルト'normal'値が代わりに使用される場合に発生する問題の例として、単語の間に2つのスペース（ここでは"␣"によって表される）とともに、"<kbd>yellow␣␣ball</kbd>"と入力したユーザーの場合を考える。<a id="best-practices-for-in-page-editors:'white-space'-3" href="https://triple-underscore.github.io/css-text-ja.html#white-space-property" data-x-internal="'white-space'">'white-space'</a>のデフォルト値（'normal'）のための場所での編集規則ともに、結果のマークアップは、"<samp>yellow&amp;nbsp; ball</samp>"または"<samp>yellow &amp;nbsp;ball</samp>"のいずれかで構成される。すなわち、2つの単語間の非開票スペースに加えて、通常スペースが存在する。<a id="best-practices-for-in-page-editors:'white-space'-4" href="https://triple-underscore.github.io/css-text-ja.html#white-space-property" data-x-internal="'white-space'">'white-space'</a>に対する'normal'値は共に相殺するために隣接する通常スペースを必要とするため、これは必要である。</p>

   <p>前者の場合において、たとえ行の末尾で"<samp>yellow</samp>"単独で一致するとしても、"<samp>yellow⍽</samp>"は次の行（"⍽"は非改行スペースを表すためにここで使用されている）に折り返す。後者の場合において、行の先頭に包まれる場合、"<samp>⍽ball</samp>"は非改行スペース由来の可視インデントを持つだろう。</p>

   <p>しかし、<a id="best-practices-for-in-page-editors:'white-space'-5" href="https://triple-underscore.github.io/css-text-ja.html#white-space-property" data-x-internal="'white-space'">'white-space'</a>が'pre-wrap'に設定される場合、編集規則は、代わりに単に単語間に2つの通常のスペースを置き、2つの単語が行末で分割されるべきであり、スペースはレンダリングから削除されてきれいになる。</p>

  </div>

  

  <h4 id="spelling-and-grammar-checking"><span class="secno">6.8.4</span> Spelling and grammar checking<a href="#spelling-and-grammar-checking" class="self-link"></a></h4>

  

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/spellcheck" title="The spellcheck global attribute is an enumerated attribute that defines whether the element may be checked for spelling errors.">Global_attributes/spellcheck</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>Yes</span></span><span class="safari yes"><span>Safari</span><span>Yes</span></span><span class="chrome yes"><span>Chrome</span><span>9+</span></span><hr><span class="opera yes"><span>Opera</span><span>Yes</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>11</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>57+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>9.3+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>47+</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>37+</span></span></div></div></div><p>The <dfn data-dfn-for="html-global" id="attr-spellcheck" data-dfn-type="element-attr"><code>spellcheck</code></dfn> attribute is an <a id="spelling-and-grammar-checking:enumerated-attribute" href="common-microsyntaxes.html#enumerated-attribute">enumerated attribute</a> with the following keywords and states:</p>

  <table><thead><tr><th>キーワード<th>状態<th>概要<tbody><tr><td><dfn data-dfn-for="html-global/spellcheck" id="attr-spellcheck-true" data-dfn-type="attr-value"><code>true</code></dfn><td rowspan="2"><dfn id="attr-spellcheck-true-state">true</dfn><td rowspan="2">Spelling and grammar will be checked.<tr><td>（空文字列）<tr><td><dfn data-dfn-for="html-global/spellcheck" id="attr-spellcheck-false" data-dfn-type="attr-value"><code>false</code></dfn><td><dfn id="attr-spellcheck-false-state">false</dfn><td>Spelling and grammar will not be checked.</table>

  <p>The attribute's <i id="spelling-and-grammar-checking:missing-value-default"><a href="common-microsyntaxes.html#missing-value-default">missing value default</a></i> and <i id="spelling-and-grammar-checking:invalid-value-default"><a href="common-microsyntaxes.html#invalid-value-default">invalid value default</a></i> are both the <dfn id="attr-spellcheck-default-state">default</dfn> state. The default state indicates that the element is to act according to a default behavior, possibly based on the parent element's own <code id="spelling-and-grammar-checking:attr-spellcheck"><a href="#attr-spellcheck">spellcheck</a></code> state, as defined below.</p>

  

  <dl class="domintro"><dt><code><var>element</var>.<span id="dom-spellcheck">spellcheck</span> [ = <var>value</var> ]</code><dd><p>要素がスペルや文法チェックを持つ場合はtrueを返す。そうでなければfalseを返す。</p>

    <p>デフォルトを上書きして<code id="spelling-and-grammar-checking:attr-spellcheck-2"><a href="#attr-spellcheck">spellcheck</a></code>コンテンツ属性を設定するための、設定が可能である。</p>
   </dl>

  

  <p class="note">この仕様は、スペルや文法チェッカーに対するユーザーインターフェイスを定義しない。ユーザーエージェントはオンデマンドチェックを提供するかもしれず、チェックが有効である間に連続的なチェックを実行するかもしれず、または他のインターフェイスを使用するかもしれない。</p>

  <h4 id="writing-suggestions"><span class="secno">6.8.5</span> Writing suggestions<a href="#writing-suggestions" class="self-link"></a></h4>

  <p>User agents offer writing suggestions as users type into editable regions, either in form controls (e.g., the <code id="writing-suggestions:the-textarea-element"><a href="form-elements.html#the-textarea-element">textarea</a></code> element) or in elements in an <span> editing host</span>.</p>

  <p>The <dfn data-dfn-for="html-global" id="attr-writingsuggestions" data-dfn-type="element-attr"><code>writingsuggestions</code></dfn> content attribute is an <a id="writing-suggestions:enumerated-attribute" href="common-microsyntaxes.html#enumerated-attribute">enumerated attribute</a> with the following keywords and states:</p>

  <table><thead><tr><th>キーワード<th>状態<th>概要<tbody><tr><td><dfn data-dfn-for="html-global/writingsuggestions" id="attr-writingsuggestions-true" data-dfn-type="attr-value"><code>true</code></dfn><td rowspan="2"><dfn id="attr-writingsuggestions-true-state">true</dfn><td rowspan="2">Writing suggestions should be offered on this element.<tr><td>（空文字列）<tr><td><dfn data-dfn-for="html-global/writingsuggestions" id="attr-writingsuggestions-false" data-dfn-type="attr-value"><code>false</code></dfn><td><dfn id="attr-writingsuggestions-false-state">false</dfn><td>Writing suggestions should not be offered on this element.</table>

  <p>The attribute's <i id="writing-suggestions:missing-value-default"><a href="common-microsyntaxes.html#missing-value-default">missing value default</a></i> is the <dfn id="attr-writingsuggestions-default-state">default</dfn> state. The default state indicates that the element is to act according to a default behavior, possibly based on the parent element's own <code id="writing-suggestions:attr-writingsuggestions"><a href="#attr-writingsuggestions">writingsuggestions</a></code> state, as defined below.</p>

  <p>The attribute's <i id="writing-suggestions:invalid-value-default"><a href="common-microsyntaxes.html#invalid-value-default">invalid value default</a></i> is the <a href="#attr-writingsuggestions-true-state" id="writing-suggestions:attr-writingsuggestions-true-state">true</a> state.</p>

  <dl class="domintro"><dt><code><var>element</var>.<span id="dom-writingsuggestions">writingSuggestions</span> [ = <var>value</var> ]</code><dd><p>Returns "<code>true</code>" if the user agent is to offer writing suggestions under the scope of the element; otherwise, returns "<code>false</code>".</p>

    <p>Can be set, to override the default and set the <code id="writing-suggestions:attr-writingsuggestions-2"><a href="#attr-writingsuggestions"> writingsuggestions</a></code> content attribute.</p>
   </dl>

  

  <hr>

  <p>User agents should only offer suggestions within an element's scope if the result of running the following algorithm given <var>element</var> returns true:</p>

  <ol><li><p>If the user has disabled writing suggestions, then return false.<li><p>If none of the following conditions are true:</p>

    <ul><li><p><var>element</var> is an <code id="writing-suggestions:the-input-element"><a href="input.html#the-input-element">input</a></code> element whose <code id="writing-suggestions:attr-input-type"><a href="input.html#attr-input-type">type</a></code> attribute is in either the <a href="input.html#text-(type=text)-state-and-search-state-(type=search)" id="writing-suggestions:text-(type=text)-state-and-search-state-(type=search)">Text</a>, <a href="input.html#text-(type=text)-state-and-search-state-(type=search)" id="writing-suggestions:text-(type=text)-state-and-search-state-(type=search)-2">Search</a>, <a href="input.html#telephone-state-(type=tel)" id="writing-suggestions:telephone-state-(type=tel)">Telephone</a>, <a href="input.html#url-state-(type=url)" id="writing-suggestions:url-state-(type=url)">URL</a>, or <a href="input.html#email-state-(type=email)" id="writing-suggestions:email-state-(type=email)">Email</a> state and is <i id="writing-suggestions:concept-fe-mutable"><a href="form-control-infrastructure.html#concept-fe-mutable">mutable</a></i>;<li><p><var>element</var> is a <code id="writing-suggestions:the-textarea-element-2"><a href="form-elements.html#the-textarea-element">textarea</a></code> element that is <i id="writing-suggestions:concept-fe-mutable-2"><a href="form-control-infrastructure.html#concept-fe-mutable">mutable</a></i>; or<li><p><var>element</var> is an <span>editing host</span> or is <span>editable</span>,</ul>

    <p>then return false.</p>
   <li><p>If <var>element</var> has an <a id="writing-suggestions:inclusive-ancestor" href="https://triple-underscore.github.io/DOM4-ja.html#concept-tree-inclusive-ancestor" data-x-internal="inclusive-ancestor">inclusive ancestor</a> with a <code id="writing-suggestions:attr-writingsuggestions-3"><a href="#attr-writingsuggestions">writingsuggestions</a></code> content attribute that's not in the <a href="#attr-writingsuggestions-default-state" id="writing-suggestions:attr-writingsuggestions-default-state">default</a> and the nearest such ancestor's <code id="writing-suggestions:attr-writingsuggestions-4"><a href="#attr-writingsuggestions">writingsuggestions</a></code> content attribute is in the <a href="#attr-writingsuggestions-false-state" id="writing-suggestions:attr-writingsuggestions-false-state">false</a> state, then return false.<li><p>Otherwise, return true.</ol>

  <p class="note">This specification does not define the user interface for writing suggestions. A user agent could offer on-demand suggestions, continuous suggestions as the user types, inline suggestions, autofill-like suggestions in a popup, or could use other interfaces.</p>

  <h4 id="autocapitalization"><span class="secno">6.8.6</span> Autocapitalization<a href="#autocapitalization" class="self-link"></a></h4>

  <p>モバイルデバイス上の仮想キーボードや音声入力など、テキストを入力するいくつかの方法では、文の最初の文字を自動的に大文字にすることでユーザーを支援することがある（この規則で言語でテキストを構成する場合）。自動大文字化を実装する仮想キーボードは、自動大文字にすべき文字を入力しようとするとき、大文字の文字を表示するように自動的に切り替えるかもしれない（ただし、ユーザーはその文字を小文字に切り替え可能である）。例えば音声入力など、他の入力の種類は、ユーザーが最初に介入するオプションを与えないような方法で自動大文字化を行ってもよい。<code id="autocapitalization:attr-autocapitalize"><a href="#attr-autocapitalize">autocapitalize</a></code>属性は、著者がそのような振る舞いを制御するのを可能にする。</p>

  <p>典型的に実装されるように、<code id="autocapitalization:attr-autocapitalize-2"><a href="#attr-autocapitalize">autocapitalize</a></code>属性は、物理キーボードで入力するときの動作に影響しない。（この理由のために、場合によっては自動大文字化の動作を上書きしたり、最初の入力の後にテキストを編集することをユーザーの能力と同様に、属性をいかなる種類の入力検証にも当てにしてはならない。</p>

  <p>The <code id="autocapitalization:attr-autocapitalize-3"><a href="#attr-autocapitalize">autocapitalize</a></code> attribute can be used on an <span>editing host</span> to control autocapitalization behavior for the hosted editable region, on an <code id="autocapitalization:the-input-element"><a href="input.html#the-input-element">input</a></code> or <code id="autocapitalization:the-textarea-element"><a href="form-elements.html#the-textarea-element">textarea</a></code> element to control the behavior for inputting text into that element, or on a <code id="autocapitalization:the-form-element"><a href="forms.html#the-form-element">form</a></code> element to control the default behavior for all <a href="forms.html#category-autocapitalize" id="autocapitalization:category-autocapitalize">autocapitalize-and-autocorrect inheriting elements</a> associated with the <code id="autocapitalization:the-form-element-2"><a href="forms.html#the-form-element">form</a></code> element.<p>The <code id="autocapitalization:attr-autocapitalize-4"><a href="#attr-autocapitalize">autocapitalize</a></code> attribute never causes autocapitalization to be enabled for <code id="autocapitalization:the-input-element-2"><a href="input.html#the-input-element">input</a></code> elements whose <code id="autocapitalization:attr-input-type"><a href="input.html#attr-input-type">type</a></code> attribute is in one of the <a href="input.html#url-state-(type=url)" id="autocapitalization:url-state-(type=url)">URL</a>, <a href="input.html#email-state-(type=email)" id="autocapitalization:email-state-(type=email)">Email</a>, or <a href="input.html#password-state-(type=password)" id="autocapitalization:password-state-(type=password)">Password</a> states.</p>

  <p>自動大文字化処理モデルは、以下のように定義される5つの<dfn id="autocapitalization-hint">自動大文字化ヒント</dfn>の中から選択することに基づく：</p>

  <dl><dt><dfn id="autocap-hint-default">default</dfn><dd><p>The user agent and input method should make their own determination of whether or not to enable autocapitalization.<dt><dfn id="autocap-hint-none">none</dfn><dd><p>自動大文字化は適用されるべきではない（すべての文字は小文字をデフォルトにすべきである）。<dt><dfn id="autocap-hint-sentences">sentences</dfn><dd><p>各文の最初の文字は大文字をデフォルトにすべきである。他のすべての文字は小文字をデフォルトにすべきである。<dt><dfn id="autocap-hint-words">words</dfn><dd><p>各単語の最初の文字は大文字をデフォルトにすべきである。他のすべての文字は小文字をデフォルトにすべきである。<dt><dfn id="autocap-hint-characters">characters</dfn><dd><p>全ての文字は大文字をデフォルトにすべきである。</dl>

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/autocapitalize" title="The autocapitalize global attribute is an enumerated attribute that controls whether and how text input is automatically capitalized as it is entered/edited by the user.">Global_attributes/autocapitalize</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>111+</span></span><span class="safari no"><span>Safari</span><span>No</span></span><span class="chrome yes"><span>Chrome</span><span>43+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie unknown"><span>Internet Explorer</span><span>?</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>5+</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><p><dfn data-dfn-for="html-global" id="attr-autocapitalize" data-dfn-type="element-attr"><code>autocapitalize</code></dfn>属性は、状態が可能な<a href="#autocapitalization-hint" id="autocapitalization:autocapitalization-hint">自動大文字ヒント</a>である<a id="autocapitalization:enumerated-attribute" href="common-microsyntaxes.html#enumerated-attribute">列挙属性</a>である。属性の状態で指定された<a href="#autocapitalization-hint" id="autocapitalization:autocapitalization-hint-2">自動大文字化ヒント</a>は、ユーザーエージェントの動作を通知する、<span>使用済みの自動大文字化ヒント</span>を形成するための他の考慮事項と組み合わされる。この属性のキーワードと状態マッピングは次のとおり：</p>

  <table><thead><tr><th>キーワード<th>状態<tbody><tr><td><dfn data-dfn-for="html-global/autocapitalize" id="attr-autocapitalize-off" data-dfn-type="attr-value"><code>off</code></dfn><td rowspan="2"><a href="#autocap-hint-none" id="autocapitalization:autocap-hint-none">none</a><tr><td><dfn data-dfn-for="html-global/autocapitalize" id="attr-autocapitalize-none" data-dfn-type="attr-value"><code>none</code></dfn><tr><td><dfn data-dfn-for="html-global/autocapitalize" id="attr-autocapitalize-on" data-dfn-type="attr-value"><code>on</code></dfn><td rowspan="2"><a href="#autocap-hint-sentences" id="autocapitalization:autocap-hint-sentences">sentences</a><tr><td><dfn data-dfn-for="html-global/autocapitalize" id="attr-autocapitalize-sentences" data-dfn-type="attr-value"><code>sentences</code></dfn><tr><td><dfn data-dfn-for="html-global/autocapitalize" id="attr-autocapitalize-words" data-dfn-type="attr-value"><code>words</code></dfn><td><a href="#autocap-hint-words" id="autocapitalization:autocap-hint-words">words</a><tr><td><dfn data-dfn-for="html-global/autocapitalize" id="attr-autocapitalize-characters" data-dfn-type="attr-value"><code>characters</code></dfn><td><a href="#autocap-hint-characters" id="autocapitalization:autocap-hint-characters">characters</a></table>

  <p>The attribute's <i id="autocapitalization:missing-value-default"><a href="common-microsyntaxes.html#missing-value-default">missing value default</a></i> is the <a href="#autocap-hint-default" id="autocapitalization:autocap-hint-default">default</a> state, and its <i id="autocapitalization:invalid-value-default"><a href="common-microsyntaxes.html#invalid-value-default">invalid value default</a></i> is the <a href="#autocap-hint-sentences" id="autocapitalization:autocap-hint-sentences-2">sentences</a> state.<dl class="domintro"><dt><code><var>element</var>.<span id="dom-autocapitalize">autocapitalize</span> [ = <var>value</var> ]</code><dd><p>要素の現在の自動大文字化状態を返す。設定されていない場合は空文字列を返す。<code id="autocapitalization:the-form-element-3"><a href="forms.html#the-form-element">form</a></code>要素から状態を継承する<code id="autocapitalization:the-input-element-3"><a href="input.html#the-input-element">input</a></code>要素と<code id="autocapitalization:the-textarea-element-2"><a href="form-elements.html#the-textarea-element">textarea</a></code>要素の場合、これは<code id="autocapitalization:the-form-element-4"><a href="forms.html#the-form-element">form</a></code>要素の自動大文字化状態を返すが、編集可能領域の要素の場合、これは（この要素が実際に<span>編集ホスト</span>でない限り）編集ホストの自動大文字化状態を返さないことに注意すること。</p>

    <p><code id="autocapitalization:attr-autocapitalize-5"><a href="#attr-autocapitalize">autocapitalize</a></code>コンテンツ属性を設定する（そしてそれによって要素の自動大文字化動作を変化させる）ことで、設定が可能である。</p>
   </dl>

  


  <h4 id="autocorrection"><span class="secno">6.8.7</span> Autocorrection<a href="#autocorrection" class="self-link"></a></h4>

  <p>Some methods of entering text assist users by automatically correcting misspelled words while typing, a process also known as autocorrection. User agents can support autocorrection of editable text, either in form controls (such as the value of <code id="autocorrection:the-textarea-element"><a href="form-elements.html#the-textarea-element">textarea</a></code> elements), or in elements in an <span>editing host</span> (e.g., using <code id="autocorrection:attr-contenteditable"><a href="#attr-contenteditable">contenteditable</a></code>). Autocorrection may be accompanied by user interfaces indicating that text is about to be autocorrected or has been autocorrected, and is commonly performed when inserting punctuation characters, spaces, or new paragraphs after misspelled words. The <code id="autocorrection:attr-autocorrect"><a href="#attr-autocorrect">autocorrect</a></code> attribute allows authors to control such behavior.</p>

  <p>The <code id="autocorrection:attr-autocorrect-2"><a href="#attr-autocorrect">autocorrect</a></code> attribute can be used on an editing host to control autocorrection behavior for the hosted editable region, on an <code id="autocorrection:the-input-element"><a href="input.html#the-input-element">input</a></code> or <code id="autocorrection:the-textarea-element-2"><a href="form-elements.html#the-textarea-element">textarea</a></code> element to control the behavior when inserting text into that element, or on a <code id="autocorrection:the-form-element"><a href="forms.html#the-form-element">form</a></code> element to control the default behavior for all <a href="forms.html#category-autocapitalize" id="autocorrection:category-autocapitalize">autocapitalize-and-autocorrect inheriting elements</a> associated with the <code id="autocorrection:the-form-element-2"><a href="forms.html#the-form-element">form</a></code> element.</p>

  <p>The <code id="autocorrection:attr-autocorrect-3"><a href="#attr-autocorrect">autocorrect</a></code> attribute never causes autocorrection to be enabled for <code id="autocorrection:the-input-element-2"><a href="input.html#the-input-element">input</a></code> elements whose <code id="autocorrection:attr-input-type"><a href="input.html#attr-input-type">type</a></code> attribute is in one of the <a href="input.html#url-state-(type=url)" id="autocorrection:url-state-(type=url)">URL</a>, <a href="input.html#email-state-(type=email)" id="autocorrection:email-state-(type=email)">E-mail</a>, or <a href="input.html#password-state-(type=password)" id="autocorrection:password-state-(type=password)">Password</a> states.</p>

  <p>The <dfn data-dfn-for="html-global" id="attr-autocorrect" data-dfn-type="element-attr"><code>autocorrect</code></dfn> attribute is an enumerated attribute with the following keywords and states:</p>

  <table><thead><tr><th>キーワード<th>状態<th>概要<tbody><tr><td><dfn data-dfn-for="html-global/autocorrect" id="attr-autocorrect-on" data-dfn-type="attr-value"><code>on</code></dfn><td rowspan="2"><dfn id="concept-autocorrection-on">on</dfn><td rowspan="2">The user agent is permitted to automatically correct spelling errors while the user types. Whether spelling is automatically corrected while typing left is for the user agent to decide, and may depend on the element as well as the user's preferences.<tr><td>（空文字列）<tr><td><dfn data-dfn-for="html-global/autocorrect" id="attr-autocorrect-off" data-dfn-type="attr-value"><code>off</code></dfn><td><dfn id="concept-autocorrection-off">off</dfn><td>The user agent is not allowed to automatically correct spelling while the user types.</table>

  <p>The attribute's <i id="autocorrection:invalid-value-default"><a href="common-microsyntaxes.html#invalid-value-default">invalid value default</a></i> and <i id="autocorrection:missing-value-default"><a href="common-microsyntaxes.html#missing-value-default">missing value default</a></i> are both the <a href="#concept-autocorrection-on" id="autocorrection:concept-autocorrection-on">on</a> state.</p>

  <p>The <dfn data-dfn-for="HTMLElement" id="dom-autocorrect" data-dfn-type="attribute"><code>autocorrect</code></dfn> getter steps are: return true if the element's <a href="#used-autocorrection-state" id="autocorrection:used-autocorrection-state">used autocorrection state</a> is <a href="#concept-autocorrection-on" id="autocorrection:concept-autocorrection-on-2">on</a> and false if the element's <a href="#used-autocorrection-state" id="autocorrection:used-autocorrection-state-2">used autocorrection state</a> is <a href="#concept-autocorrection-off" id="autocorrection:concept-autocorrection-off">off</a>. The setter steps are: if the given value is true, then the element's <code id="autocorrection:attr-autocorrect-4"><a href="#attr-autocorrect">autocorrect</a></code> attribute must be set to "<code>on</code>"; otherwise it must be set to "<code>off</code>".</p>

  <p>To compute the <dfn id="used-autocorrection-state">used autocorrection state</dfn> of an element <var>element</var>, run these steps:</p>

  <ol><li><p>If <var>element</var> is an <code id="autocorrection:the-input-element-3"><a href="input.html#the-input-element">input</a></code> element whose <code id="autocorrection:attr-input-type-2"><a href="input.html#attr-input-type">type</a></code> attribute is in one of the <a href="input.html#url-state-(type=url)" id="autocorrection:url-state-(type=url)-2">URL</a>, <a href="input.html#email-state-(type=email)" id="autocorrection:email-state-(type=email)-2">E-mail</a>, or <a href="input.html#password-state-(type=password)" id="autocorrection:password-state-(type=password)-2">Password</a> states, then return <a href="#concept-autocorrection-off" id="autocorrection:concept-autocorrection-off-2">off</a>.<li><p>If the <code id="autocorrection:attr-autocorrect-5"><a href="#attr-autocorrect">autocorrect</a></code> content attribute is present on <var>element</var>, then return the state of the attribute.<li><p>If <var>element</var> is an <a href="forms.html#category-autocapitalize" id="autocorrection:category-autocapitalize-2">autocapitalize-and-autocorrect inheriting element</a> and has a non-null <a id="autocorrection:form-owner" href="form-control-infrastructure.html#form-owner">form owner</a>, then return the state of <var>element</var>'s <a id="autocorrection:form-owner-2" href="form-control-infrastructure.html#form-owner">form owner</a>'s <code id="autocorrection:attr-autocorrect-6"><a href="#attr-autocorrect">autocorrect</a></code> attribute.<li><p>Return <a href="#concept-autocorrection-on" id="autocorrection:concept-autocorrection-on-3">on</a>.</ol>

  <dl class="domintro"><dt><var>element</var> . <code id="dom-autocorrect-2"><a href="#dom-autocorrect">autocorrect</a></code><dd><p>Returns the autocorrection behavior of the element. Note that for <a href="forms.html#category-autocapitalize" id="autocorrection:category-autocapitalize-3">autocapitalize-and-autocorrect inheriting elements</a> that inherit their state from a <code id="autocorrection:the-form-element-3"><a href="forms.html#the-form-element">form</a></code> element, this will return the autocorrection behavior of the <code id="autocorrection:the-form-element-4"><a href="forms.html#the-form-element">form</a></code> element, but for an element in an editable region, this will not return the autocorrection behavior of the <span>editing host</span> (unless this element is, in fact, the <span>editing host</span>).<dt><var>element</var> . <code id="autocorrection:dom-autocorrect"><a href="#dom-autocorrect">autocorrect</a></code> = <var>value</var><dd><p>Updates the <code id="autocorrection:attr-autocorrect-7"><a href="#attr-autocorrect">autocorrect</a></code> content attribute (and thereby changes the autocorrection behavior of the element).</dl>

  <div class="example"><p>The <code id="autocorrection:the-input-element-4"><a href="input.html#the-input-element">input</a></code> element in the following example would not allow autocorrection, since it does not have an <code id="autocorrection:attr-autocorrect-8"><a href="#attr-autocorrect">autocorrect</a></code> content attribute and therefore inherits from the <code id="autocorrection:the-form-element-5"><a href="forms.html#the-form-element">form</a></code> element, which has an attribute of "<code id="autocorrection:attr-autocorrect-off"><a href="#attr-autocorrect-off">off</a></code>". However, the <code id="autocorrection:the-textarea-element-3"><a href="form-elements.html#the-textarea-element">textarea</a></code> element would allow autocorrection, since it has an <code id="autocorrection:attr-autocorrect-9"><a href="#attr-autocorrect">autocorrect</a></code> content attribute with a value of "<code id="autocorrection:attr-autocorrect-on"><a href="#attr-autocorrect-on">on</a></code>".</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>form</c-> <c- e>autocorrect</c-><c- o>=</c-><c- s>"off"</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>"search"</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>textarea</c-> <c- e>autocorrect</c-><c- o>=</c-><c- s>"on"</c-><c- p>>&lt;/</c-><c- f>textarea</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>form</c-><c- p>></c-></code></pre>
  </div>


  <h4 id="input-modalities:-the-inputmode-attribute"><span class="secno">6.8.8</span> Input modalities: the <code id="input-modalities:-the-inputmode-attribute:attr-inputmode"><a href="#attr-inputmode">inputmode</a></code> attribute<a href="#input-modalities:-the-inputmode-attribute" class="self-link"></a></h4>

  <p>ユーザーエージェントは、フォームコントロール（<code id="input-modalities:-the-inputmode-attribute:the-textarea-element"><a href="form-elements.html#the-textarea-element">textarea</a></code>要素の値など）で、または<span>編集ホスト</span>（<code id="input-modalities:-the-inputmode-attribute:attr-contenteditable"><a href="#attr-contenteditable">contenteditable</a></code>など）における要素で<code id="input-modalities:-the-inputmode-attribute:attr-inputmode-2"><a href="#attr-inputmode">inputmode</a></code>属性をサポートすることができる。</p>

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/inputmode" title="The inputmode global attribute is an enumerated attribute that hints at the type of data that might be entered by the user while editing the element or its contents. This allows a browser to display an appropriate virtual keyboard.">Global_attributes/inputmode</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>95+</span></span><span class="safari no"><span>Safari</span><span>No</span></span><span class="chrome yes"><span>Chrome</span><span>66+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>79+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>12.2+</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><p><dfn data-dfn-for="html-global" id="attr-inputmode" data-dfn-type="element-attr"><code>inputmode</code></dfn>コンテンツ属性は、ユーザーがコンテンツを入力する際に最も参考になる入力メカニズムの種類を指定する<a id="input-modalities:-the-inputmode-attribute:enumerated-attribute" href="common-microsyntaxes.html#enumerated-attribute">列挙属性</a>である。</p>

  <table><thead><tr><th>キーワード<th>説明<tbody><tr><td><dfn data-dfn-for="html-global/inputmode" id="attr-inputmode-keyword-none" data-dfn-type="attr-value"><code>none</code></dfn><td>ユーザーエージェントは仮想キーボードを表示すべきではない。このキーワードは、独自のキーボードコントロールをレンダリングするコンテンツに役立つ。<tr><td><dfn data-dfn-for="html-global/inputmode" id="attr-inputmode-keyword-text" data-dfn-type="attr-value"><code>text</code></dfn><td>ユーザーエージェントは、ユーザーのロケールでテキスト入力が可能な仮想キーボードを表示すべきである。<tr><td><dfn data-dfn-for="html-global/inputmode" id="attr-inputmode-keyword-tel" data-dfn-type="attr-value"><code>tel</code></dfn><td>ユーザーエージェントは、電話番号入力が可能な仮想キーボードを表示すべきであある。これは、数字0〜9、"＃"文字、および"*"文字のキーを含むべきである。一部のロケールで、これはまた、アルファベットのニーモニックラベル（たとえば、米国で、"2"キーはまた、歴史的に文字A、B、およびCで標識されている）を含むことができる。<tr><td><dfn data-dfn-for="html-global/inputmode" id="attr-inputmode-keyword-url" data-dfn-type="attr-value"><code>url</code></dfn><td>ユーザーエージェントは、"/"と"."文字、"www"や".com"のようなドメイン名の中で見つかった文字列を簡単に入力するための、<a href="https://triple-underscore.github.io/URL-ja.html#concept-url" id="input-modalities:-the-inputmode-attribute:url" data-x-internal="url">URL</a>の入力を補助するためのキーとともに、ユーザーのロケールでテキスト入力が可能な仮想キーボードを表示すべきである。<tr><td><dfn data-dfn-for="html-global/inputmode" id="attr-inputmode-keyword-email" data-dfn-type="attr-value"><code>email</code></dfn><td>The user agent should display a virtual keyboard capable of text input in the user's locale, with keys for aiding in the input of email addresses, such as that for the "@" character and the "." character.<tr><td><dfn data-dfn-for="html-global/inputmode" id="attr-inputmode-keyword-numeric" data-dfn-type="attr-value"><code>numeric</code></dfn><td>ユーザーエージェントは、数字入力が可能な仮想キーボードを表示すべきであある。このキーワードは、PIN入力に便利である。<tr><td><dfn data-dfn-for="html-global/inputmode" id="attr-inputmode-keyword-decimal" data-dfn-type="attr-value"><code>decimal</code></dfn><td>ユーザーエージェントは、小数入力が可能な仮想キーボードを表示すべきであある。ロケールの数値キーおよびフォーマットセパレーターを表示すべきである。<tr><td><dfn data-dfn-for="html-global/inputmode" id="attr-inputmode-keyword-search" data-dfn-type="attr-value"><code>search</code></dfn><td>ユーザーエージェントは、検索に最適化された仮想キーボードを表示すべきである。</table>

  

  <h4 id="input-modalities:-the-enterkeyhint-attribute"><span class="secno">6.8.9</span> Input modalities: the <code id="input-modalities:-the-enterkeyhint-attribute:attr-enterkeyhint"><a href="#attr-enterkeyhint">enterkeyhint</a></code> attribute<a href="#input-modalities:-the-enterkeyhint-attribute" class="self-link"></a></h4>

  <p>ユーザーエージェントは、フォームコントロール（<code id="input-modalities:-the-enterkeyhint-attribute:the-textarea-element"><a href="form-elements.html#the-textarea-element">textarea</a></code>要素の値など）で、または<span>編集ホスト</span>（<code id="input-modalities:-the-enterkeyhint-attribute:attr-contenteditable"><a href="#attr-contenteditable">contenteditable</a></code>など）における要素で<code id="input-modalities:-the-enterkeyhint-attribute:attr-enterkeyhint-2"><a href="#attr-enterkeyhint">enterkeyhint</a></code>属性をサポートすることができる。</p>

  <div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/enterkeyhint" title="The enterkeyhint global attribute is an enumerated attribute defining what action label (or icon) to present for the enter key on virtual keyboards.">Global_attributes/enterkeyhint</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>94+</span></span><span class="safari yes"><span>Safari</span><span>13.1+</span></span><span class="chrome yes"><span>Chrome</span><span>77+</span></span><hr><span class="opera yes"><span>Opera</span><span>66+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>57+</span></span></div></div></div><p><dfn data-dfn-for="html-global" id="attr-enterkeyhint" data-dfn-type="element-attr"><code>enterkeyhint</code></dfn>コンテンツ属性は、仮想キーボードのEnterキーに表示するアクションラベル（またはアイコン）を指定する<a id="input-modalities:-the-enterkeyhint-attribute:enumerated-attribute" href="common-microsyntaxes.html#enumerated-attribute">列挙属性</a>である。これにより、ユーザーにとってより役立つようにするために、著者はEnterキーの表示をカスタマイズを可能にする。</p>

  <table><thead><tr><th>キーワード<th>説明<tbody><tr><td><dfn data-dfn-for="html-global/enterkeyhint" id="attr-enterkeyhint-keyword-enter" data-dfn-type="attr-value"><code>enter</code></dfn><td>ユーザーエージェントは、典型的には新しい行を挿入する、操作'enter'の合図を提示すべきである。<tr><td><dfn data-dfn-for="html-global/enterkeyhint" id="attr-enterkeyhint-keyword-done" data-dfn-type="attr-value"><code>done</code></dfn><td>The user agent should present a cue for the operation 'done', typically meaning there is nothing more to input and the input method editor (IME) will be closed.<tr><td><dfn data-dfn-for="html-global/enterkeyhint" id="attr-enterkeyhint-keyword-go" data-dfn-type="attr-value"><code>go</code></dfn><td>ユーザーエージェントは、典型的にはユーザーがタイプしたテキストのターゲットにユーザーを連れて行くことを意味する、操作'go'の合図を提示すべきである。<tr><td><dfn data-dfn-for="html-global/enterkeyhint" id="attr-enterkeyhint-keyword-next" data-dfn-type="attr-value"><code>next</code></dfn><td>ユーザーエージェントは、典型的にはテキストを受け付ける次のフィールドにユーザーを連れて行く、操作'next'の合図を提示すべきである。<tr><td><dfn data-dfn-for="html-global/enterkeyhint" id="attr-enterkeyhint-keyword-previous" data-dfn-type="attr-value"><code>previous</code></dfn><td>ユーザーエージェントは、典型的にはテキストを受け入れる前のフィールドにユーザーを連れて行く、操作'previous'の合図を提示すべきである。<tr><td><dfn data-dfn-for="html-global/enterkeyhint" id="attr-enterkeyhint-keyword-search" data-dfn-type="attr-value"><code>search</code></dfn><td>ユーザーエージェントは、典型的にはユーザーがタイプしたテキストの検索の結果にユーザーを連れて行く、操作「検索」の合図を提示すべきである。<tr><td><dfn data-dfn-for="html-global/enterkeyhint" id="attr-enterkeyhint-keyword-send" data-dfn-type="attr-value"><code>send</code></dfn><td>ユーザーエージェントは、典型的にはテキストをそのテキストのターゲットに配信する、操作'send'の合図を提示すべきである。</table>

  

  <h3 id="find-in-page"><span class="secno">6.9</span> Find-in-page<a href="#find-in-page" class="self-link"></a></h3>

  <h4 id="introduction-9"><span class="secno">6.9.1</span> Introduction<a href="#introduction-9" class="self-link"></a></h4>

  <p>This section defines <dfn id="find-in-page-2">find-in-page</dfn> — a common user-agent mechanism which allows users to search through the contents of the page for particular information.</p>

  <p>Access to the <a href="#find-in-page-2" id="introduction-9:find-in-page-2">find-in-page</a> feature is provided via a <dfn id="find-in-page-interface">find-in-page interface</dfn>. This is a user-agent provided user interface, which allows the user to specify input and the parameters of the search. This interface can appear as a result of a shortcut or a menu selection.</p>

  <p>A combination of text input and settings in the <a href="#find-in-page-interface" id="introduction-9:find-in-page-interface">find-in-page interface</a> represents the user <dfn id="fip-query">query</dfn>. This typically includes the text that the user wants to search for, as well as optional settings (e.g., the ability to restrict the search to whole words only).</p>

  <p>The user-agent processes page contents for a given <a href="#fip-query" id="introduction-9:fip-query">query</a>, and identifies zero or more <dfn id="fip-matches">matches</dfn>, which are content ranges that satisfy the user <a href="#fip-query" id="introduction-9:fip-query-2">query</a>.</p>

  <p>One of the <a href="#fip-matches" id="introduction-9:fip-matches">matches</a> is identified to the user as the <dfn id="fip-active-match">active match</dfn>. It is highlighted and scrolled into view. The user can navigate through the <a href="#fip-matches" id="introduction-9:fip-matches-2">matches</a> by advancing the <a href="#fip-active-match" id="introduction-9:fip-active-match">active match</a> using the <a href="#find-in-page-interface" id="introduction-9:find-in-page-interface-2">find-in-page interface</a>.</p>

  <p class="XXX"><a href="https://github.com/whatwg/html/issues/3539">Issue #3539</a> tracks standardizing how <a href="#find-in-page-2" id="introduction-9:find-in-page-2-2">find-in-page</a> underlies the currently-unspecified <code>window.find()</code> API.</p>

  <h4 id="interaction-with-details-and-hidden=until-found"><span class="secno">6.9.2</span> Interaction with <code id="interaction-with-details-and-hidden=until-found:the-details-element"><a href="interactive-elements.html#the-details-element">details</a></code> and <code id="interaction-with-details-and-hidden=until-found:attr-hidden-until-found-state"><a href="#attr-hidden-until-found-state">hidden=until-found</a></code><a href="#interaction-with-details-and-hidden=until-found" class="self-link"></a></h4>

  <p>When find-in-page begins searching for matches, all <code id="interaction-with-details-and-hidden=until-found:the-details-element-2"><a href="interactive-elements.html#the-details-element">details</a></code> elements in the page which do not have their <code id="interaction-with-details-and-hidden=until-found:attr-details-open"><a href="interactive-elements.html#attr-details-open">open</a></code> attribute set should have the <a href="https://drafts.csswg.org/css-contain/#skips-its-contents" id="interaction-with-details-and-hidden=until-found:skips-its-contents" data-x-internal="skips-its-contents">skipped contents</a> of their second slot become accessible, without modifying the <code id="interaction-with-details-and-hidden=until-found:attr-details-open-2"><a href="interactive-elements.html#attr-details-open">open</a></code> attribute, in order to make find-in-page able to search through it. Similarly, all HTML elements with the <code id="interaction-with-details-and-hidden=until-found:attr-hidden"><a href="#attr-hidden">hidden</a></code> attribute in the <a href="#attr-hidden-until-found-state" id="interaction-with-details-and-hidden=until-found:attr-hidden-until-found-state-2">hidden until found</a> state should have their <a href="https://drafts.csswg.org/css-contain/#skips-its-contents" id="interaction-with-details-and-hidden=until-found:skips-its-contents-2" data-x-internal="skips-its-contents">skipped contents</a> become accessible without modifying the <code id="interaction-with-details-and-hidden=until-found:attr-hidden-2"><a href="#attr-hidden">hidden</a></code> attribute in order to make find-in-page able to search through them. After find-in-page finishes searching for matches, the <code id="interaction-with-details-and-hidden=until-found:the-details-element-3"><a href="interactive-elements.html#the-details-element">details</a></code> elements and the elements with the <code id="interaction-with-details-and-hidden=until-found:attr-hidden-3"><a href="#attr-hidden">hidden</a></code> attribute in the <a href="#attr-hidden-until-found-state" id="interaction-with-details-and-hidden=until-found:attr-hidden-until-found-state-3">hidden until found</a> state should have their contents become skipped again. This entire process must happen synchronously (and so is not observable to users or to author code). <a href="references.html#refsCSSCONTAIN">[CSSCONTAIN]</a></p>

  <p>When find-in-page chooses a new <a href="#fip-active-match" id="interaction-with-details-and-hidden=until-found:fip-active-match">active match</a>, perform the following steps:</p>

  <ol><li><p>Let <var>node</var> be the first node in the <a href="#fip-active-match" id="interaction-with-details-and-hidden=until-found:fip-active-match-2">active match</a>.<li><p><span>Queue a global task</span> on the <span>user interaction task source</span> given <var>node</var>'s <span>relevant global object</span> to run the following steps:</p>

    <ol><li><p>Run the <a id="interaction-with-details-and-hidden=until-found:ancestor-details-revealing-algorithm" href="interactive-elements.html#ancestor-details-revealing-algorithm">ancestor details revealing algorithm</a> on <var>node</var>.<li><p>Run the <span>ancestor hidden-until-found revealing algorithm</span> on <var>node</var>.</ol>
   </ol>

  <p class="warning">When find-in-page auto-expands a <code id="interaction-with-details-and-hidden=until-found:the-details-element-4"><a href="interactive-elements.html#the-details-element">details</a></code> element like this, it will fire a <code id="interaction-with-details-and-hidden=until-found:event-toggle"><a href="indices.html#event-toggle">toggle</a></code> event. As with the separate <code id="interaction-with-details-and-hidden=until-found:event-scroll"><a data-x-internal="event-scroll" href="https://triple-underscore.github.io/cssom-view-ja.html#eventdef-document-scroll">scroll</a></code> event that find-in-page fires, this event could be used by the page to discover what the user is typing into the find-in-page dialog. If the page creates a tiny scrollable area with the current search term and every possible next character the user could type separated by a gap, and observes which one the browser scrolls to, it can add that character to the search term and update the scrollable area to incrementally build the search term. By wrapping each possible next match in a closed <code id="interaction-with-details-and-hidden=until-found:the-details-element-5"><a href="interactive-elements.html#the-details-element">details</a></code> element, the page could listen to <code id="interaction-with-details-and-hidden=until-found:event-toggle-2"><a href="indices.html#event-toggle">toggle</a></code> events instead of <code id="interaction-with-details-and-hidden=until-found:event-scroll-2"><a data-x-internal="event-scroll" href="https://triple-underscore.github.io/cssom-view-ja.html#eventdef-document-scroll">scroll</a></code> events. This attack could be addressed for both events by not acting on every character the user types into the find-in-page dialog.</p>

  <h4 id="interaction-with-selection"><span class="secno">6.9.3</span> Interaction with selection<a href="#interaction-with-selection" class="self-link"></a></h4>

  <p>The find-in-page process is invoked in the context of a document, and may have an effect on the <a href="https://w3c.github.io/selection-api/#dfn-selection" id="interaction-with-selection:document-selection" data-x-internal="document-selection">selection</a> of that document. Specifically, the range that defines the <a href="#fip-active-match" id="interaction-with-selection:fip-active-match">active match</a> can dictate the current selection. These selection updates, however, can happen at different times during the find-in-page process (e.g. upon the <a href="#find-in-page-interface" id="interaction-with-selection:find-in-page-interface">find-in-page interface</a> dismissal or upon a change in the <a href="#fip-active-match" id="interaction-with-selection:fip-active-match-2">active match</a> range).<h3 id="close-requests-and-close-watchers"><span class="secno">6.10</span> Close requests and close watchers<a href="#close-requests-and-close-watchers" class="self-link"></a></h3>

  <h4 id="close-requests"><span class="secno">6.10.1</span> Close requests<a href="#close-requests" class="self-link"></a></h4>

  <p>In an <a id="close-requests:implementation-defined" href="https://infra.spec.whatwg.org/#implementation-defined" data-x-internal="implementation-defined">implementation-defined</a> (and likely device-specific) manner, a user can send a <dfn id="close-request" data-export="">close request</dfn> to the user agent. This indicates that the user wishes to close something that is currently being shown on the screen, such as a popover, menu, dialog, picker, or display mode.</p>

  <div class="example"><p>Some example close requests are:</p>

   <ul><li><p>The <kbd>Esc</kbd> key on desktop platforms.<li><p>The back button or gesture on certain mobile platforms such as Android.<li><p>Any assistive technology's dismiss gesture, such as iOS VoiceOver's two-finger scrub "z" gesture.<li><p>A game controller's canonical "back" button, such as the circle button on a DualShock gamepad.</ul>
  </div>

  

  <p>On platforms where pressing the <kbd>Esc</kbd> key is interpreted as a <a href="#close-request" id="close-requests:close-request">close request</a>, the user agent must interpret the key being pressed <em>down</em> as the close request, instead of the key being released. Thus, in the above algorithm, the "relevant events" that are fired must be the single <code id="close-requests:event-keydown"><a data-x-internal="event-keydown" href="https://w3c.github.io/uievents/#event-type-keydown">keydown</a></code> event.</p>

  <p class="example">On platforms where <kbd>Esc</kbd> is the <a href="#close-request" id="close-requests:close-request-2">close request</a>, the user agent will first fire an appropriately-initialized <code id="close-requests:event-keydown-2"><a data-x-internal="event-keydown" href="https://w3c.github.io/uievents/#event-type-keydown">keydown</a></code> event. If the web developer cancels the event by calling <code id="close-requests:dom-event-preventdefault"><a data-x-internal="dom-event-preventdefault" href="https://triple-underscore.github.io/DOM4-ja.html#dom-event-preventdefault">preventDefault()</a></code>, then nothing further happens. But if the event fires without being canceled, then the user agent proceeds to <span>process close watchers</span>.</p>

  <p class="example">On platforms where a back button is a potential <a href="#close-request" id="close-requests:close-request-3">close request</a>, no event is involved, so when the back button is pressed, the user agent proceeds directly to <span>process close watchers</span>. If there is an <span>active</span> <span>close watcher</span>, then that will get triggered. If there is not, then the user agent can interpret the back button press in another way, for example as a request to <a id="close-requests:traverse-the-history-by-a-delta" href="browsing-the-web.html#traverse-the-history-by-a-delta">traverse the history by a delta</a> of −1.</p>


  


  <h4 id="the-closewatcher-interface"><span class="secno">6.10.2</span> The <code>CloseWatcher</code> interface<a href="#the-closewatcher-interface" class="self-link"></a></h4>

  

  <dl class="domintro"><dt><code><var>watcher</var> = new <span id="dom-closewatcher">CloseWatcher</span>()</code><dt><code><var>watcher</var> = new <a href="#dom-closewatcher" id="the-closewatcher-interface:dom-closewatcher">CloseWatcher</a>({ <span id="dom-closewatcheroptions-signal">signal</span> })</code><dd><p>Creates a new <code>CloseWatcher</code> instance.</p>

    <p>If the <code id="the-closewatcher-interface:dom-closewatcheroptions-signal"><a href="#dom-closewatcheroptions-signal">signal</a></code> option is provided, then <var>watcher</var> can be destroyed (as if by <code id="the-closewatcher-interface:dom-closewatcher-destroy"><a href="#dom-closewatcher-destroy">watcher.destroy()</a></code>) by aborting the given <code id="the-closewatcher-interface:abortsignal"><a data-x-internal="abortsignal" href="https://dom.spec.whatwg.org/#abortsignal">AbortSignal</a></code>.</p>

    <p>If any <span>close watcher</span> is already active, and the <code>Window</code> does not have <span>history-action activation</span>, then the resulting <code>CloseWatcher</code> will be closed together with that already-active <span>close watcher</span> in response to any <a href="#close-request" id="the-closewatcher-interface:close-request">close request</a>. (This already-active <span>close watcher</span> does not necessarily have to be a <code>CloseWatcher</code> object; it could be a modal <code id="the-closewatcher-interface:the-dialog-element"><a href="interactive-elements.html#the-dialog-element">dialog</a></code> element, or a popover generated by an element with the <code id="the-closewatcher-interface:attr-popover"><a href="popover.html#attr-popover">popover</a></code> attribute.)</p>
   <dt><code><var>watcher</var>.<span id="dom-closewatcher-requestclose">requestClose</span>()</code><dd><p>Acts as if a <a href="#close-request" id="the-closewatcher-interface:close-request-2">close request</a> was sent targeting <var>watcher</var>, by first firing a <code id="the-closewatcher-interface:event-cancel"><a href="indices.html#event-cancel">cancel</a></code> event, and if that event is not canceled with <code id="the-closewatcher-interface:dom-event-preventdefault"><a data-x-internal="dom-event-preventdefault" href="https://triple-underscore.github.io/DOM4-ja.html#dom-event-preventdefault">preventDefault()</a></code>, proceeding to fire a <code id="the-closewatcher-interface:event-close"><a href="indices.html#event-close">close</a></code> event before deactivating the close watcher as if <code id="the-closewatcher-interface:dom-closewatcher-destroy-2"><a href="#dom-closewatcher-destroy">watcher.destroy()</a></code> was called.</p>

    <p>This is a helper utility that can be used to consolidate cancelation and closing logic into the <code id="the-closewatcher-interface:event-cancel-2"><a href="indices.html#event-cancel">cancel</a></code> and <code id="the-closewatcher-interface:event-close-2"><a href="indices.html#event-close">close</a></code> event handlers, by having all non-<a href="#close-request" id="the-closewatcher-interface:close-request-3">close request</a> closing affordances call this method.</p>
   <dt><code><var>watcher</var>.<span id="dom-closewatcher-close">close</span>()</code><dd><p>Immediately fires the <code id="the-closewatcher-interface:event-close-3"><a href="indices.html#event-close">close</a></code> event, and then deactivates the close watcher as if <code id="the-closewatcher-interface:dom-closewatcher-destroy-3"><a href="#dom-closewatcher-destroy">watcher.destroy()</a></code> was called.</p>

    <p>This is a helper utility that can be used trigger the closing logic into the <code id="the-closewatcher-interface:event-close-4"><a href="indices.html#event-close">close</a></code> event handler, skipping any logic in the <code id="the-closewatcher-interface:event-cancel-3"><a href="indices.html#event-cancel">cancel</a></code> event handler.</p>
   <dt><code><var>watcher</var>.<span id="dom-closewatcher-destroy">destroy</span>()</code><dd><p>Deactivates <var>watcher</var>, so that it will no longer receive <code id="the-closewatcher-interface:event-close-5"><a href="indices.html#event-close">close</a></code> events and so that new independent <code>CloseWatcher</code> instances can be constructed.</p>

    <p>This is intended to be called if the relevant UI element is torn down in some other way than being closed.</p>
   </dl>

  

  <p>The following are the <a id="the-closewatcher-interface:event-handlers" href="webappapis.html#event-handlers">event handlers</a> (and their corresponding <span>event handler event types</span>) supported, as <a id="the-closewatcher-interface:event-handler-idl-attributes" href="webappapis.html#event-handler-idl-attributes">event handler IDL attributes</a>, by all objects implementing the <code>CloseWatcher</code> interface:</p>

  <table><thead><tr><th><a href="webappapis.html#event-handlers" id="the-closewatcher-interface:event-handlers-2">Event handler</a><th><span>Event handler event type</span><tbody><tr><td><dfn data-dfn-for="CloseWatcher" id="handler-closewatcher-oncancel" data-dfn-type="attribute"><code>oncancel</code></dfn><td><code id="the-closewatcher-interface:event-cancel-4"><a href="indices.html#event-cancel">cancel</a></code><tr><td><dfn data-dfn-for="CloseWatcher" id="handler-closewatcher-onclose" data-dfn-type="attribute"><code>onclose</code></dfn><td><code id="the-closewatcher-interface:event-close-6"><a href="indices.html#event-close">close</a></code></table>

  <div id="example-CloseWatcher-basic" class="example"><p>If one wanted to implement a custom picker control, which closed itself on a user-provided <a href="#close-request" id="the-closewatcher-interface:close-request-4">close request</a> as well as when a close button is pressed, the following code shows how one would use the <code>CloseWatcher</code> API to process close requests:</p>

   <pre><code class='js'><c- a>const</c-> watcher <c- o>=</c-> <c- k>new</c-> CloseWatcher<c- p>();</c->
<c- a>const</c-> picker <c- o>=</c-> setUpAndShowPickerDOMElement<c- p>();</c->

<c- a>let</c-> chosenValue <c- o>=</c-> <c- kc>null</c-><c- p>;</c->

watcher<c- p>.</c->onclose <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
  chosenValue <c- o>=</c-> picker<c- p>.</c->querySelector<c- p>(</c-><c- t>'input'</c-><c- p>).</c->value<c- p>;</c->
  picker<c- p>.</c->remove<c- p>();</c->
<c- p>};</c->

picker<c- p>.</c->querySelector<c- p>(</c-><c- t>'.close-button'</c-><c- p>).</c->onclick <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> watcher<c- p>.</c->requestClose<c- p>();</c-></code></pre>

   <p>Note how the logic to gather the chosen value is centralized in the <code>CloseWatcher</code> object's <code id="the-closewatcher-interface:event-close-7"><a href="indices.html#event-close">close</a></code> event handler, with the <code id="the-closewatcher-interface:event-click"><a data-x-internal="event-click" href="https://w3c.github.io/uievents/#event-type-click">click</a></code> event handler for the close button delegating to that logic by calling <code id="the-closewatcher-interface:dom-closewatcher-requestclose"><a href="#dom-closewatcher-requestclose">requestClose()</a></code>.</p>
  </div>

  <div id="example-CloseWatcher-cancel" class="example"><p>The <code id="the-closewatcher-interface:event-cancel-5"><a href="indices.html#event-cancel">cancel</a></code> event on <code>CloseWatcher</code> objects can be used to prevent the <code id="the-closewatcher-interface:event-close-8"><a href="indices.html#event-close">close</a></code> event from firing, and the <code>CloseWatcher</code> from being destroying. A typical use case is as follows:</p>

   <pre><code class='js'>watcher<c- p>.</c->oncancel <c- o>=</c-> <c- k>async</c-> <c- p>(</c->e<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
  <c- k>if</c-> <c- p>(</c->hasUnsavedData <c- o>&amp;&amp;</c-> e<c- p>.</c->cancelable<c- p>)</c-> <c- p>{</c->
    e<c- p>.</c->preventDefault<c- p>();</c->

    <c- a>const</c-> userReallyWantsToClose <c- o>=</c-> <c- k>await</c-> askForConfirmation<c- p>(</c-><c- u>"Are you sure you want to close?"</c-><c- p>);</c->
    <c- k>if</c-> <c- p>(</c->userReallyWantsToClose<c- p>)</c-> <c- p>{</c->
      hasUnsavedData <c- o>=</c-> <c- kc>false</c-><c- p>;</c->
      watcher<c- p>.</c->close<c- p>();</c->
    <c- p>}</c->
  <c- p>}</c->
<c- p>};</c-></code></pre>

   <p>For abuse prevention purposes, this event is only <code id="the-closewatcher-interface:dom-event-cancelable"><a data-x-internal="dom-event-cancelable" href="https://dom.spec.whatwg.org/#dom-event-cancelable">cancelable</a></code> if the page has <span>history-action activation</span>, which will be lost after any given <a href="#close-request" id="the-closewatcher-interface:close-request-5">close request</a>. This ensures that if the user sends a close request twice in a row without any intervening user activation, the request definitely succeeds; the second request ignores any <code id="the-closewatcher-interface:event-cancel-6"><a href="indices.html#event-cancel">cancel</a></code> event handler's attempt to call <code id="the-closewatcher-interface:dom-event-preventdefault-2"><a data-x-internal="dom-event-preventdefault" href="https://triple-underscore.github.io/DOM4-ja.html#dom-event-preventdefault">preventDefault()</a></code> and proceeds to close the <code>CloseWatcher</code>.</p>
  </div>

  <p>Combined, the above two examples show how <code id="the-closewatcher-interface:dom-closewatcher-requestclose-2"><a href="#dom-closewatcher-requestclose">requestClose()</a></code> and <code id="the-closewatcher-interface:dom-closewatcher-close"><a href="#dom-closewatcher-close">close()</a></code> differ. Because we used <code id="the-closewatcher-interface:dom-closewatcher-requestclose-3"><a href="#dom-closewatcher-requestclose">requestClose()</a></code> in the <code id="the-closewatcher-interface:event-click-2"><a data-x-internal="event-click" href="https://w3c.github.io/uievents/#event-type-click">click</a></code> event handler for the close button, clicking that button will trigger the <code>CloseWatcher</code>'s <code id="the-closewatcher-interface:event-cancel-7"><a href="indices.html#event-cancel">cancel</a></code> event, and thus potentially ask the user for confirmation if there is unsaved data. If we had used <code id="the-closewatcher-interface:dom-closewatcher-close-2"><a href="#dom-closewatcher-close">close()</a></code>, then this check would be skipped. Sometimes that is appropriate, but usually <code id="the-closewatcher-interface:dom-closewatcher-requestclose-4"><a href="#dom-closewatcher-requestclose">requestClose()</a></code> is the better option for user-triggered close requests.</p>

  <div id="example-CloseWatcher-grouping" class="example"><p>In addition to the <a href="#tracking-user-activation" id="the-closewatcher-interface:tracking-user-activation">user activation</a> restrictions for <code id="the-closewatcher-interface:event-cancel-8"><a href="indices.html#event-cancel">cancel</a></code> events, there is a more subtle form of user activation gating for <code>CloseWatcher</code> construction. If one creates more than one <code>CloseWatcher</code> without user activation, then the newly-created one will get grouped together with the most-recently-created <span>close watcher</span>, so that a single <a href="#close-request" id="the-closewatcher-interface:close-request-6">close request</a> will close them both:</p>

   <pre><code class='js'>window<c- p>.</c->onload <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
  <c- c1>// This will work as normal: it is the first close watcher created without user activation.</c->
  <c- p>(</c-><c- k>new</c-> CloseWatcher<c- p>()).</c->onclose <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c-> <c- d>/* ... */</c-> <c- p>};</c->
<c- p>};</c->

button1<c- p>.</c->onclick <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
  <c- c1>// This will work as normal: the button click counts as user activation.</c->
  <c- p>(</c-><c- k>new</c-> CloseWatcher<c- p>()).</c->onclose <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c-> <c- d>/* ... */</c-> <c- p>};</c->
<c- p>};</c->

button2<c- p>.</c->onclick <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c->
  <c- c1>// These will be grouped together, and both will close in response to a single close request.</c->
  <c- p>(</c-><c- k>new</c-> CloseWatcher<c- p>()).</c->onclose <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c-> <c- d>/* ... */</c-> <c- p>};</c->
  <c- p>(</c-><c- k>new</c-> CloseWatcher<c- p>()).</c->onclose <c- o>=</c-> <c- p>()</c-> <c- p>=></c-> <c- p>{</c-> <c- d>/* ... */</c-> <c- p>};</c->
<c- p>};</c-></code></pre>

   <p>This means that calling <code id="the-closewatcher-interface:dom-closewatcher-destroy-4"><a href="#dom-closewatcher-destroy">destroy()</a></code>, <code id="the-closewatcher-interface:dom-closewatcher-close-3"><a href="#dom-closewatcher-close">close()</a></code>, or <code id="the-closewatcher-interface:dom-closewatcher-requestclose-5"><a href="#dom-closewatcher-requestclose">requestClose()</a></code> properly is important. Doing so is the only way to get back the "free" ungrouped close watcher slot. Such close watchers created without user activation are useful for cases like session inactivity timeout dialogs or urgent notifications of server-triggered events, which are not generated in response to user activation.</p>
  </div>


  <nav><a href="microdata.html">← 5 Microdata</a> — <a href="./">目次</a> — <a href="dnd.html">6.11 ドラッグアンドドロップ →</a></nav>
