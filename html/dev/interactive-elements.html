<!DOCTYPE html><html class="split" lang="ja"><script src="https://html.spec.whatwg.org/link-fixup.js" defer=""></script><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"><title>HTML Standard, Edition for Web Developers日本語訳</title><meta content="#3c790a" name="theme-color"><meta content="light dark" name="color-scheme"><link rel="stylesheet" href="https://resources.whatwg.org/standard-shared-with-dev.css" crossorigin=""><link rel="icon" href="https://resources.whatwg.org/logo.svg" crossorigin=""><link rel="stylesheet" href="https://html.spec.whatwg.org/dev/styles.css" crossorigin=""><script>
   function toggleStatus(div) {
     div.parentNode.classList.toggle('wrapped');
   }
   function setLinkFragment(link) {
     link.hash = location.hash;
   }
  </script><body>
  <script async="" src="./search.js"></script>
  
  
  <header id="head" class="head with-buttons"><a href="https://whatwg.org/" class="logo"><img width="100" alt="WHATWG" crossorigin="" class="darkmode-aware" src="https://resources.whatwg.org/logo.svg" height="100"></a><hgroup><h1><a rel="home" href="./dev" />HTML: The Living Standard</a></h1><p id="dev-edition-h2">Edition for Web Developers — Last Updated <span class="pubdate">30 April 2025</span></hgroup>
   

   <div id="search"><input placeholder="Search. Press &apos;/&apos;" autocomplete="off" name="query" id="query" type="search"><ol id="results"></ol>
   </div>
  </header>

  

  

  

  
  

  
  

  

  <nav><a href="form-control-infrastructure.html">← 4.10.17 フォームコントロールインフラストラクチャ</a> — <a href="./">目次</a> — <a href="scripting.html">4.12 スクリプティング →</a></nav><ol class="toc"><li><ol><li><a href="interactive-elements.html#interactive-elements"><span class="secno">4.11</span> 対話的な要素</a><ol><li><a href="interactive-elements.html#the-details-element"><span class="secno">4.11.1</span> <code>details</code>要素</a><li><a href="interactive-elements.html#the-summary-element"><span class="secno">4.11.2</span> <code>summary</code>要素</a><li><a href="interactive-elements.html#commands"><span class="secno">4.11.3</span> コマンド</a><ol><li><a href="interactive-elements.html#facets-2"><span class="secno">4.11.3.1</span> ファセット</a></ol><li><a href="interactive-elements.html#the-dialog-element"><span class="secno">4.11.4</span> <code>dialog</code>要素</a><li><a href="interactive-elements.html#dialog-light-dismiss"><span class="secno">4.11.5</span> Dialog light dismiss</a></ol></ol></ol><h3 id="interactive-elements"><span class="secno">4.11</span> 対話的な要素<a href="#interactive-elements" class="self-link"></a></h3>

  <h4 id="the-details-element"><span class="secno">4.11.1</span> <dfn data-dfn-type="element"><code>details</code></dfn>要素<a href="#the-details-element" class="self-link"></a></h4><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details" title="The &lt;details> HTML element creates a disclosure widget in which information is visible only when the widget is toggled into an &quot;open&quot; state. A summary or label must be provided using the &lt;summary> element.">Element/details</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>49+</span></span><span class="safari yes"><span>Safari</span><span>6+</span></span><span class="chrome yes"><span>Chrome</span><span>12+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>49+</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div>

  <dl class="element"><dt><a href="dom.html#concept-element-categories" id="the-details-element:concept-element-categories">カテゴリー</a>：<dd><a id="the-details-element:flow-content-2" href="dom.html#flow-content-2">フローコンテンツ</a>。<dd><a id="the-details-element:interactive-content-2" href="dom.html#interactive-content-2">インタラクティブコンテンツ</a>。<dd><a id="the-details-element:palpable-content-2" href="dom.html#palpable-content-2">パルパブルコンテンツ</a>。<dt><a href="dom.html#concept-element-contexts" id="the-details-element:concept-element-contexts">この要素を使用できるコンテキスト</a>：<dd><a id="the-details-element:flow-content-2-2" href="dom.html#flow-content-2">フローコンテンツ</a>が期待される場所。<dt><a href="dom.html#concept-element-content-model" id="the-details-element:concept-element-content-model">コンテンツモデル</a>：<dd>1つの<code id="the-details-element:the-summary-element"><a href="#the-summary-element">summary</a></code>要素に続く<a id="the-details-element:flow-content-2-3" href="dom.html#flow-content-2">フローコンテンツ</a>。<dt><a href="dom.html#concept-element-tag-omission" id="the-details-element:concept-element-tag-omission">text/htmlにおけるタグ省略</a>：<dd>どちらのタグも省略不可。<dt><a href="dom.html#concept-element-attributes" id="the-details-element:concept-element-attributes">コンテンツ属性</a>：<dd><a id="the-details-element:global-attributes" href="dom.html#global-attributes">グローバル属性</a><dd><code id="the-details-element:attr-details-name"><a href="#attr-details-name">name</a></code> — 相互に排他的な<code id="the-details-element:the-details-element"><a href="#the-details-element">details</a></code>要素のグループの名前<dd><code id="the-details-element:attr-details-open"><a href="#attr-details-open">open</a></code> — detailsが可視かどうか<dt><a href="dom.html#concept-element-accessibility-considerations" id="the-details-element:concept-element-accessibility-considerations">アクセシビリティの考慮</a>：<dd><a href="https://momdo.github.io/html-aria/#el-details">著者向け</a>。<dd><a href="https://w3c.github.io/html-aam/#el-details">実装者向け</a>。<dt><a href="dom.html#concept-element-dom" id="the-details-element:concept-element-dom">DOMインターフェイス</a>：<dd><code>HTMLDetailsElement</code>を使用する。</dl>

  <p><code id="the-details-element:the-details-element-2"><a href="#the-details-element">details</a></code>要素は、ユーザーが追加情報やコントロールを得ることができるディスクロージャーウィジェットを<a id="the-details-element:represents" href="dom.html#represents">表す</a>。</p>

  <p class="note">すべてのHTML要素と同様に、別のタイプのコントロールを表現しようとするときに<code id="the-details-element:the-details-element-3"><a href="#the-details-element">details</a></code>要素を使用することは適合しない。例えば、タブウィジェットとメニューウィジェットはディスクロージャーウィジェットではないため、<code id="the-details-element:the-details-element-4"><a href="#the-details-element">details</a></code>要素を乱用してこれらのパターンを実装するのは誤りである。</p>

  <p class="note"><code id="the-details-element:the-details-element-5"><a href="#the-details-element">details</a></code>要素は、脚注には適さない。脚注をマークアップする方法の詳細については、<a href="semantics-other.html#footnotes">脚注のセクション</a>を参照のこと。</p>

  <p>要素の子<code id="the-details-element:the-summary-element-2"><a href="#the-summary-element">summary</a></code>要素がもしあれば、detailsの要約または凡例を<a id="the-details-element:represents-2" href="dom.html#represents">表す</a>。</p>

  <p>要素のコンテンツの残り部分は、追加情報やコントロールを<a id="the-details-element:represents-3" href="dom.html#represents">表す</a>。</p>

  <p><dfn data-dfn-for="details" id="attr-details-name" data-dfn-type="element-attr"><code>name</code></dfn>コンテンツ属性は、要素がメンバーである関連する <code id="the-details-element:the-details-element-6"><a href="#the-details-element">details</a></code>要素のグループの名前を与える。このグループの1つのメンバーを開くと、グループの他のメンバーは閉じる。この属性が指定される場合、その値は空文字列であってはならない。</p>

  <p>この機能を使用する前に、著者は、関連する<code id="the-details-element:the-details-element-7"><a href="#the-details-element">details</a></code>要素を排他的なアコーディオンにグループ化することが、ユーザーにとって有用であるか有害であるかを考慮すべきである。排他的なアコーディオンを使用すると、コンテンツのセットが占有できるスペースの最大量を減らすことができるが、必要なものを見つけるために多くのアイテムを開かなければならないユーザー、または同時に複数のアイテムのコンテンツを見たいユーザーをイライラさせることもある。</p>

  <p>文書には、<code id="the-details-element:attr-details-open-2"><a href="#attr-details-open">open</a></code>属性が存在する同じ<span>details name group</span>内に複数の<code id="the-details-element:the-details-element-8"><a href="#the-details-element">details</a></code>要素を含めてはならない。著者は、<code id="the-details-element:attr-details-open-3"><a href="#attr-details-open">open</a></code>属性をもつ複数の<code id="the-details-element:the-details-element-10"><a href="#the-details-element">details</a></code>要素を<span>details name group</span>に持たせるような方法で、スクリプトを使用して <code id="the-details-element:the-details-element-9"><a href="#the-details-element">details</a></code>要素を文書に追加してはならない。</p>

  <p class="note">共通の<code id="the-details-element:attr-details-name-2"><a href="#attr-details-name">name</a></code>属性によって作成される要素のグループは排他的である。つまり、多くとも一度に開くことができる<code id="the-details-element:the-details-element-11"><a href="#the-details-element">details</a></code>要素は1つのだけである。この排他性はユーザーエージェントによって強制されるが、その結果、マークアップ内の<code id="the-details-element:attr-details-open-4"><a href="#attr-details-open">open</a></code>属性が即座に変更される。著者に対するこの要件は、そのような誤解を招くようなマークアップを禁止している。</p>

  <p>文書には、同じ<span>details name group</span>内の別の<code id="the-details-element:the-details-element-13"><a href="#the-details-element">details</a></code>要素の子孫である<code id="the-details-element:the-details-element-12"><a href="#the-details-element">details</a></code>要素を含めてはならない。</p>

  <p><code id="the-details-element:attr-details-name-3"><a href="#attr-details-name">name</a></code>を使用して、複数の関連する<code id="the-details-element:the-details-element-14"><a href="#the-details-element">details</a></code>要素をグループ化する文書では、それらの関連する要素を包含要素（<code id="the-details-element:the-section-element"><a href="sections.html#the-section-element">section</a></code>要素、<code id="the-details-element:the-article-element"><a href="sections.html#the-article-element">article</a></code>要素など）にまとめるべきである。グループを見出しで導入することに意味がある場合、著者はその見出しを<a href="sections.html#concept-heading" id="the-details-element:concept-heading">見出し</a>要素内の包含要素の先頭に配置すべきである。</p>

  <p class="note">関連する要素を視覚的およびプログラム的にグループ化することは、アクセシブルなユーザーエクスペリエンスにとって重要である。これは、ユーザーがそのような要素間の関係を理解するのに役立つ。関連する要素がグループ化されるのではなく、ウェブページの異なるセクションにある場合、要素間の関係が発見しにくくなったり、理解しにくくなったりすることがある。</p>

  <p><dfn data-dfn-for="details" id="attr-details-open" data-dfn-type="element-attr"><code>open</code></dfn>コンテンツ属性は、<a id="the-details-element:boolean-attribute" href="common-microsyntaxes.html#boolean-attribute">真偽属性</a>である。存在する場合、この属性は要約と追加情報の両方がユーザーに表示されることを示す。属性が存在しない場合、要約のみが表示されるようになる。</p>

  

  <p>The <dfn id="ancestor-details-revealing-algorithm">ancestor details revealing algorithm</dfn> is to run the following steps on <var>currentNode</var>:</p>

  <ol><li><p>While <var>currentNode</var> has a parent node within the <a id="the-details-element:flat-tree" href="https://triple-underscore.github.io/css-scoping-ja.html#flat-tree" data-x-internal="flat-tree">flat tree</a>:</p>

    <ol><li><p>If <var>currentNode</var> is slotted into the second slot of a <code id="the-details-element:the-details-element-15"><a href="#the-details-element">details</a></code> element:</p>

      <ol><li><p>Set <var>currentNode</var> to the <code id="the-details-element:the-details-element-16"><a href="#the-details-element">details</a></code> element which <var>currentNode</var> is slotted into.<li><p>If the <code id="the-details-element:attr-details-open-5"><a href="#attr-details-open">open</a></code> attribute is not set on <var>currentNode</var>, then <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-element-attributes-set-value" id="the-details-element:concept-element-attributes-set-value" data-x-internal="concept-element-attributes-set-value">set</a> the <code id="the-details-element:attr-details-open-6"><a href="#attr-details-open">open</a></code> attribute on <var>currentNode</var> to the empty string.</ol>
     <li><p>Otherwise, set <var>currentNode</var> to the parent node of <var>currentNode</var> within the <a id="the-details-element:flat-tree-2" href="https://triple-underscore.github.io/css-scoping-ja.html#flat-tree" data-x-internal="flat-tree">flat tree</a>.</ol>
   </ol>

  <div class="example"><p>次の例は、<code id="the-details-element:the-details-element-17"><a href="#the-details-element">details</a></code>要素が進捗報告書で技術的な詳細を非表示にするために使用される様子を示す。</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>section</c-> <c- e>class</c-><c- o>=</c-><c- s>"progress window"</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>h1</c-><c- p>></c->Copying "Really Achieving Your Childhood Dreams"<c- p>&lt;/</c-><c- f>h1</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>details</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>summary</c-><c- p>></c->Copying... <c- p>&lt;</c-><c- f>progress</c-> <c- e>max</c-><c- o>=</c-><c- s>"375505392"</c-> <c- e>value</c-><c- o>=</c-><c- s>"97543282"</c-><c- p>>&lt;/</c-><c- f>progress</c-><c- p>></c-> 25%<c- p>&lt;/</c-><c- f>summary</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>dl</c-><c- p>></c->
   <c- p>&lt;</c-><c- f>dt</c-><c- p>></c->Transfer rate:<c- p>&lt;/</c-><c- f>dt</c-><c- p>></c-> <c- p>&lt;</c-><c- f>dd</c-><c- p>></c->452KB/s<c- p>&lt;/</c-><c- f>dd</c-><c- p>></c->
   <c- p>&lt;</c-><c- f>dt</c-><c- p>></c->Local filename:<c- p>&lt;/</c-><c- f>dt</c-><c- p>></c-> <c- p>&lt;</c-><c- f>dd</c-><c- p>></c->/home/rpausch/raycd.m4v<c- p>&lt;/</c-><c- f>dd</c-><c- p>></c->
   <c- p>&lt;</c-><c- f>dt</c-><c- p>></c->Remote filename:<c- p>&lt;/</c-><c- f>dt</c-><c- p>></c-> <c- p>&lt;</c-><c- f>dd</c-><c- p>></c->/var/www/lectures/raycd.m4v<c- p>&lt;/</c-><c- f>dd</c-><c- p>></c->
   <c- p>&lt;</c-><c- f>dt</c-><c- p>></c->Duration:<c- p>&lt;/</c-><c- f>dt</c-><c- p>></c-> <c- p>&lt;</c-><c- f>dd</c-><c- p>></c->01:16:27<c- p>&lt;/</c-><c- f>dd</c-><c- p>></c->
   <c- p>&lt;</c-><c- f>dt</c-><c- p>></c->Color profile:<c- p>&lt;/</c-><c- f>dt</c-><c- p>></c-> <c- p>&lt;</c-><c- f>dd</c-><c- p>></c->SD (6-1-6)<c- p>&lt;/</c-><c- f>dd</c-><c- p>></c->
   <c- p>&lt;</c-><c- f>dt</c-><c- p>></c->Dimensions:<c- p>&lt;/</c-><c- f>dt</c-><c- p>></c-> <c- p>&lt;</c-><c- f>dd</c-><c- p>></c->320×240<c- p>&lt;/</c-><c- f>dd</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>dl</c-><c- p>></c->
 <c- p>&lt;/</c-><c- f>details</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>section</c-><c- p>></c-></code></pre>

  </div>

  <div class="example"><p>以下は、<code id="the-details-element:the-details-element-18"><a href="#the-details-element">details</a></code>要素がデフォルトで一部のコントロールを非表示にするために使用できる様子を示す：</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>details</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>summary</c-><c- p>>&lt;</c-><c- f>label</c-> <c- e>for</c-><c- o>=</c-><c- s>fn</c-><c- p>></c->Name &amp; Extension:<c- p>&lt;/</c-><c- f>label</c-><c- p>>&lt;/</c-><c- f>summary</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>text</c-> <c- e>id</c-><c- o>=</c-><c- s>fn</c-> <c- e>name</c-><c- o>=</c-><c- s>fn</c-> <c- e>value</c-><c- o>=</c-><c- s>"Pillar Magazine.pdf"</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>label</c-><c- p>>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>checkbox</c-> <c- e>name</c-><c- o>=</c-><c- s>ext</c-> <c- e>checked</c-><c- p>></c-> Hide extension<c- p>&lt;/</c-><c- f>label</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>details</c-><c- p>></c-></code></pre>

   <p>これは、ユーザーがそれぞれを開くことができる機能とともに、見出しの小さな集合にフィールドの集合を折りたたむことができるよう、リスト内の他の<code id="the-details-element:the-details-element-19"><a href="#the-details-element">details</a></code>とともにこれを使用できる。</p>

   <p class="details-example"><img alt="" src="https://html.spec.whatwg.org/multipage/images/sample-details-1.png" width="345" height="611"><img alt="" src="https://html.spec.whatwg.org/multipage/images/sample-details-2.png" width="345" height="666"></p>

   <p>これらの例において、要約はコントロールが変更できるものをまとめたものであり、理想に満たない実際値ではない。</p>

  </div>

  <div id="example-details-exclusive-accordion" class="example"><p>次の例は、排他的なアコーディオンの作成に使用されている<code id="the-details-element:the-details-element-20"><a href="#the-details-element">details</a></code>要素の<code id="the-details-element:attr-details-name-4"><a href="#attr-details-name">name</a></code>属性を示す。このアコーディオンは、ユーザーが1つの<code id="the-details-element:the-details-element-22"><a href="#the-details-element">details</a></code>要素を開くと、開いている<code id="the-details-element:the-details-element-23"><a href="#the-details-element">details</a></code>が閉じる<code id="the-details-element:the-details-element-21"><a href="#the-details-element">details</a></code>要素のセットである。</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>section</c-> <c- e>class</c-><c- o>=</c-><c- s>"characteristics"</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>details</c-> <c- e>name</c-><c- o>=</c-><c- s>"frame-characteristics"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>summary</c-><c- p>></c->Material<c- p>&lt;/</c-><c- f>summary</c-><c- p>></c->
  The picture frame is made of solid oak wood.
 <c- p>&lt;/</c-><c- f>details</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>details</c-> <c- e>name</c-><c- o>=</c-><c- s>"frame-characteristics"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>summary</c-><c- p>></c->Size<c- p>&lt;/</c-><c- f>summary</c-><c- p>></c->
  The picture frame fits a photo 40cm tall and 30cm wide.
  The frame is 45cm tall, 35cm wide, and 2cm thick.
 <c- p>&lt;/</c-><c- f>details</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>details</c-> <c- e>name</c-><c- o>=</c-><c- s>"frame-characteristics"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>summary</c-><c- p>></c->Color<c- p>&lt;/</c-><c- f>summary</c-><c- p>></c->
  The picture frame is available in its natural wood
  color, or with black stain.
 <c- p>&lt;/</c-><c- f>details</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>section</c-><c- p>></c-></code></pre>
  </div>

  <div id="example-details-exclusive-accordion-setting-open" class="example"><p>次の例は、要素セットの一部である<code id="the-details-element:the-details-element-24"><a href="#the-details-element">details</a></code>要素に<code id="the-details-element:attr-details-open-7"><a href="#attr-details-open">open</a></code>属性を設定し、<code id="the-details-element:attr-details-name-5"><a href="#attr-details-name">name</a></code>属性を使用して排他的アコーディオンを作成した場合の結果を示している。</p>

   <p>最初のマークアップの場合：</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>section</c-> <c- e>class</c-><c- o>=</c-><c- s>"characteristics"</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>details</c-> <c- e>name</c-><c- o>=</c-><c- s>"frame-characteristics"</c-> <c- e>id</c-><c- o>=</c-><c- s>"d1"</c-> <c- e>open</c-><c- p>></c->...<c- p>&lt;/</c-><c- f>details</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>details</c-> <c- e>name</c-><c- o>=</c-><c- s>"frame-characteristics"</c-> <c- e>id</c-><c- o>=</c-><c- s>"d2"</c-><c- p>></c->...<c- p>&lt;/</c-><c- f>details</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>details</c-> <c- e>name</c-><c- o>=</c-><c- s>"frame-characteristics"</c-> <c- e>id</c-><c- o>=</c-><c- s>"d3"</c-><c- p>></c->...<c- p>&lt;/</c-><c- f>details</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>section</c-><c- p>></c-></code></pre>

   <p>スクリプト：</p>

   <pre><code class='js'>document<c- p>.</c->getElementById<c- p>(</c-><c- u>"d2"</c-><c- p>).</c->setAttribute<c- p>(</c-><c- u>"open"</c-><c- p>,</c-> <c- u>""</c-><c- p>);</c-></code></pre>

   <p>スクリプトの実行後に生成されるツリーは、マークアップと同じになる：</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>section</c-> <c- e>class</c-><c- o>=</c-><c- s>"characteristics"</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>details</c-> <c- e>name</c-><c- o>=</c-><c- s>"frame-characteristics"</c-> <c- e>id</c-><c- o>=</c-><c- s>"d1"</c-><c- p>></c->...<c- p>&lt;/</c-><c- f>details</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>details</c-> <c- e>name</c-><c- o>=</c-><c- s>"frame-characteristics"</c-> <c- e>id</c-><c- o>=</c-><c- s>"d2"</c-> <c- e>open</c-><c- p>></c->...<c- p>&lt;/</c-><c- f>details</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>details</c-> <c- e>name</c-><c- o>=</c-><c- s>"frame-characteristics"</c-> <c- e>id</c-><c- o>=</c-><c- s>"d3"</c-><c- p>></c->...<c- p>&lt;/</c-><c- f>details</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>section</c-><c- p>></c-></code></pre>

   <p>なぜなら、<code id="the-details-element:attr-details-open-8"><a href="#attr-details-open">open</a></code>属性を<code>d2</code>に設定すると、<code>d1</code>から削除されるからである。</p>

   <p>ユーザーが<code>d2</code>内の<code id="the-details-element:the-summary-element-3"><a href="#the-summary-element">summary</a></code>要素をアクティブにした場合も同様である。</p>
  </div>

  <div class="example"><p>ユーザーがコントロールを操作するために自動的に<code id="the-details-element:attr-details-open-9"><a href="#attr-details-open">open</a></code>属性が追加および削除されるので、この属性の状態に基づく異なる、この属性CSSで要素に使用できる。ここでは、スタイルシートを使用して、要素を開いたり閉じたりしたときのsummaryの色をアニメーションさせている：</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>style</c-><c- p>></c->
 <c- f>details</c-> <c- o>></c-> <c- f>summary</c-> <c- p>{</c-> <c- k>transition</c-><c- p>:</c-> <c- kc>color</c-> <c- mi>1</c-><c- b>s</c-><c- p>;</c-> <c- k>color</c-><c- p>:</c-> <c- kc>black</c-><c- p>;</c-> <c- p>}</c->
 <c- f>details</c-><c- o>[</c-><c- f>open</c-><c- o>]</c-> <c- o>></c-> <c- f>summary</c-> <c- p>{</c-> <c- k>color</c-><c- p>:</c-> <c- kc>red</c-><c- p>;</c-> <c- p>}</c->
<c- p>&lt;/</c-><c- f>style</c-><c- p>></c->
<c- p>&lt;</c-><c- f>details</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>summary</c-><c- p>></c->Automated Status: Operational<c- p>&lt;/</c-><c- f>summary</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>p</c-><c- p>></c->Velocity: 12m/s<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>p</c-><c- p>></c->Direction: North<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>details</c-><c- p>></c-></code></pre>

  </div>


  <h4 id="the-summary-element"><span class="secno">4.11.2</span> <dfn data-dfn-type="element"><code>summary</code></dfn>要素<a href="#the-summary-element" class="self-link"></a></h4><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/summary" title="The &lt;summary> HTML element specifies a summary, caption, or legend for a &lt;details> element&apos;s disclosure box. Clicking the &lt;summary> element toggles the state of the parent &lt;details> element open and closed.">Element/summary</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>49+</span></span><span class="safari yes"><span>Safari</span><span>6+</span></span><span class="chrome yes"><span>Chrome</span><span>12+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>4+</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div>

  <dl class="element"><dt><a href="dom.html#concept-element-categories" id="the-summary-element:concept-element-categories">カテゴリー</a>：<dd>なし。<dt><a href="dom.html#concept-element-contexts" id="the-summary-element:concept-element-contexts">この要素を使用できるコンテキスト</a>：<dd><code id="the-summary-element:the-details-element"><a href="#the-details-element">details</a></code>要素の<a id="the-summary-element:first-child" href="https://triple-underscore.github.io/DOM4-ja.html#concept-tree-first-child" data-x-internal="first-child">最初の子</a>として。<dt><a href="dom.html#concept-element-content-model" id="the-summary-element:concept-element-content-model">コンテンツモデル</a>：<dd><a id="the-summary-element:phrasing-content-2" href="dom.html#phrasing-content-2">フレージングコンテンツ</a>、オプションで<a id="the-summary-element:heading-content-2" href="dom.html#heading-content-2">ヘディングコンテンツ</a>と混合される。<dt><a href="dom.html#concept-element-tag-omission" id="the-summary-element:concept-element-tag-omission">text/htmlにおけるタグ省略</a>：<dd>どちらのタグも省略不可。<dt><a href="dom.html#concept-element-attributes" id="the-summary-element:concept-element-attributes">コンテンツ属性</a>：<dd><a id="the-summary-element:global-attributes" href="dom.html#global-attributes">グローバル属性</a><dt><a href="dom.html#concept-element-accessibility-considerations" id="the-summary-element:concept-element-accessibility-considerations">アクセシビリティの考慮</a>：<dd><a href="https://momdo.github.io/html-aria/#el-summary">著者向け</a>。<dd><a href="https://w3c.github.io/html-aam/#el-summary">実装者向け</a>。<dt><a href="dom.html#concept-element-dom" id="the-summary-element:concept-element-dom">DOMインターフェイス</a>：<dd><code>HTMLElement</code>を使用する。</dl>

  <p><code id="the-summary-element:the-summary-element"><a href="#the-summary-element">summary</a></code>要素は<code id="the-summary-element:the-summary-element-2"><a href="#the-summary-element">summary</a></code>要素の親<code id="the-summary-element:the-details-element-2"><a href="#the-details-element">details</a></code>要素に属する残りの内容のキャプションまたは凡例を<a id="the-summary-element:represents" href="dom.html#represents">表す</a>。</p>

  




  <h4 id="commands"><span class="secno">4.11.3</span> コマンド<a href="#commands" class="self-link"></a></h4>

  <h5 id="facets-2"><span class="secno">4.11.3.1</span> ファセット<a href="#facets-2" class="self-link"></a></h5>

  <p><dfn id="concept-command">コマンド</dfn>は、メニュー項目、ボタン、リンクの背後に抽象化したものである。一度コマンドが定義されると、インターフェイスの他の部分は、<a href="#command-facet-disabledstate" id="facets-2:command-facet-disabledstate">Disabled状態</a>のようなファセットを共有するために単一の機能へ多くのアクセスポイントを許可し、同じコマンドを参照できる。</p>

  <p id="facets">コマンドは、次の<dfn id="concept-facet">ファセット</dfn>を持つように定義される：</p>

  <dl><dt><dfn id="command-facet-label">ラベル</dfn><dd>ユーザーから見たコマンドの名前。<dt><dfn id="command-facet-accesskey">アクセスキー</dfn><dd>コマンドを切り替えるユーザーエージェントによって選択されたキーの組み合わせ。コマンドはアクセスキーを持たないかもしれない。<dt><dfn id="command-facet-hiddenstate">Hidden状態</dfn><dd>コマンドが非表示にされたかどうか（基本的に、メニューに表示するかどうか）。<dt><dfn id="command-facet-disabledstate">Disabled状態</dfn><dd>コマンドが関連するおよび切り替え可能かどうか。<dt><dfn id="command-facet-action">アクション</dfn><dd>コマンドを切り替える実際の効果がもつもの。これは、スクリプト化されたイベントハンドラー、どのように<a id="facets-2:navigate" href="browsing-the-web.html#navigate">ナビゲート</a>するための<a id="facets-2:url" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a>、またはフォーム送信であるかもしれない。</dl>

  <p id="expose-commands-in-ui">ユーザーエージェントは、次の条件に一致する<a href="#concept-command" id="facets-2:concept-command">コマンド</a>を公開してもよい：</p>

  <ul><li><p><a href="#command-facet-hiddenstate" id="facets-2:command-facet-hiddenstate">Hidden State</a>のファセットはfalseである（可視）。<li><p>要素は、nullでない<a href="document-sequences.html#concept-document-bc" id="facets-2:concept-document-bc">ブラウジングコンテキスト</a>をもつ<a id="facets-2:in-a-document" href="https://triple-underscore.github.io/DOM4-ja.html#in-a-document" data-x-internal="in-a-document">文書内で</a>ある。<li><p>要素もその祖先のいずれも指定された<code id="facets-2:attr-hidden"><a href="interaction.html#attr-hidden">hidden</a></code>属性を持たない。</ul>

  <p>ユーザーエージェントは、ユーザーにこれらのキーを通知するための方法として、<a href="#command-facet-accesskey" id="facets-2:command-facet-accesskey">アクセスキー</a>を持つコマンドのために特にこれを行うことが推奨される。</p>

  <p class="example">たとえば、そのようなコマンドは、ユーザーエージェントのメニューバーにリストされるかもしれない。</p>


  


  <h4 id="the-dialog-element"><span class="secno">4.11.4</span> <dfn data-dfn-type="element"><code>dialog</code></dfn>要素<a href="#the-dialog-element" class="self-link"></a></h4><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog" title="The &lt;dialog> HTML element represents a dialog box or other interactive component, such as a dismissible alert, inspector, or subwindow.">Element/dialog</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>98+</span></span><span class="safari yes"><span>Safari</span><span>15.4+</span></span><span class="chrome yes"><span>Chrome</span><span>37+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div>

  <dl class="element"><dt><a href="dom.html#concept-element-categories" id="the-dialog-element:concept-element-categories">カテゴリー</a>：<dd><a id="the-dialog-element:flow-content-2" href="dom.html#flow-content-2">フローコンテンツ</a>。<dt><a href="dom.html#concept-element-contexts" id="the-dialog-element:concept-element-contexts">この要素を使用できるコンテキスト</a>：<dd><a id="the-dialog-element:flow-content-2-2" href="dom.html#flow-content-2">フローコンテンツ</a>が期待される場所。<dt><a href="dom.html#concept-element-content-model" id="the-dialog-element:concept-element-content-model">コンテンツモデル</a>：<dd><a id="the-dialog-element:flow-content-2-3" href="dom.html#flow-content-2">フローコンテンツ</a>。<dt><a href="dom.html#concept-element-tag-omission" id="the-dialog-element:concept-element-tag-omission">text/htmlにおけるタグ省略</a>：<dd>どちらのタグも省略不可。<dt><a href="dom.html#concept-element-attributes" id="the-dialog-element:concept-element-attributes">コンテンツ属性</a>：<dd><a id="the-dialog-element:global-attributes" href="dom.html#global-attributes">グローバル属性</a><dd><code id="the-dialog-element:attr-dialog-closedby"><a href="#attr-dialog-closedby">closedby</a></code> — ダイアログを閉じるユーザーアクション<dd><code id="the-dialog-element:attr-dialog-open"><a href="#attr-dialog-open">open</a></code> — ダイアログボックスが見えるかどうか<dt><a href="dom.html#concept-element-accessibility-considerations" id="the-dialog-element:concept-element-accessibility-considerations">アクセシビリティの考慮</a>：<dd><a href="https://momdo.github.io/html-aria/#el-dialog">著者向け</a>。<dd><a href="https://w3c.github.io/html-aam/#el-dialog">実装者向け</a>。<dt><a href="dom.html#concept-element-dom" id="the-dialog-element:concept-element-dom">DOMインターフェイス</a>：<dd><code>HTMLDialogElement</code>を使用する。</dl>

  <p><code id="the-dialog-element:the-dialog-element"><a href="#the-dialog-element">dialog</a></code>要素は、小さいウィンドウ（"ダイアログボックス"）の形式で、ユーザーはこのウィンドウを操作してタスクを実行したり、情報を収集したりする、アプリケーションの一時的な部分を表す。ユーザーが終了すると、ダイアログはアプリケーションによって自動的に閉じる、またはユーザーによって手動で閉じることができる。</p>

  <p>すべてのタイプのアプリケーションでおなじみのパターンである、特にモーダルダイアログの場合、著者は、ウェブアプリケーション内のダイアログが、非ウェブアプリケーションのユーザーにも馴染みのある方法で動作するように保証すべきである。</p>

  <p class="note">すべてのHTML要素と同様に、別のタイプのコントロールを表現しようとするときに<code id="the-dialog-element:the-dialog-element-2"><a href="#the-dialog-element">dialog</a></code>要素を使用することは適合しない。たとえば、コンテキストメニュー、ツールチップ、ポップアップリストボックスは、ダイアログボックスではないため、これらのパターンを実装するために<code id="the-dialog-element:the-dialog-element-3"><a href="#the-dialog-element">dialog</a></code>要素を乱用することは正しくない。</p>

  <p>ユーザー向けダイアログの動作で重要な部分は、初期のフォーカスの配置である。<a href="#dialog-focusing-steps" id="the-dialog-element:dialog-focusing-steps">ダイアログフォーカスステップ</a>は、ダイアログが表示されたときに初期のフォーカスの適切な候補を選択しようするが、特定のダイアログに対するユーザーの期待に沿う正確な選択を慎重に検討する著者の代わりにはならないかもしれない。そのため、著者は、ダイアログが開いた後にユーザーがすぐに対話することが期待されるダイアログの子孫要素に対して、<code id="the-dialog-element:attr-fe-autofocus"><a href="interaction.html#attr-fe-autofocus">autofocus</a></code>属性を使用すべきである。そのような要素がない場合、著者は<code id="the-dialog-element:the-dialog-element-4"><a href="#the-dialog-element">dialog</a></code>要素自体に<code id="the-dialog-element:attr-fe-autofocus-2"><a href="interaction.html#attr-fe-autofocus">autofocus</a></code>属性を使用すべきである。</p>

  <div class="example"><p>次の例では、在庫管理ウェブアプリケーションで製品の詳細を編集するためにダイアログが使用される。</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>dialog</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>label</c-><c- p>></c->Product Number <c- p>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>"text"</c-> <c- e>readonly</c-><c- p>>&lt;/</c-><c- f>label</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>label</c-><c- p>></c->Product Name <c- p>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>"text"</c-> <c- e>autofocus</c-><c- p>>&lt;/</c-><c- f>label</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>dialog</c-><c- p>></c-></code></pre>

   <p><code id="the-dialog-element:attr-fe-autofocus-3"><a href="interaction.html#attr-fe-autofocus">autofocus</a></code>属性が存在しない場合、Product Numberフィールドはダイアログフォーカスステップによってフォーカスされる。これは合理的な動作であるが、Product Numberフィールドは読み取り専用であり、ユーザー入力を想定していないため、Product Nameフィールドにフォーカスを当てる方が適切であると著者は判断した。そこで、著者はデフォルトを上書きするためにオートフォーカスを使用した。</p>

   <p>たとえ著者がデフォルトでProduct Numberフィールドにフォーカスしたいとしても、<code id="the-dialog-element:the-input-element"><a href="input.html#the-input-element">input</a></code>要素にオートフォーカスを使用して明示的に指定するのが最良である。これは、コードの将来の読者に対して意図を明確にし、将来の更新に対してコードが堅牢であり続けることを保証する。（たとえば、別の開発者が閉じるボタンを追加し、ノードツリーのProduct Numberフィールドの前に配置した場合）。</p>
  </div>

  <p>ユーザー動作のもう1つの重要な側面は、ダイアログがスクロール可能かどうかということである。場合によっては、オーバーフロー（つまりスクロール可能性）は、例えば、ユーザーの高いテキストズーム設定によって引き起こされる場合、回避することができない。しかし一般に、スクロール可能なダイアログはユーザーには期待されない。大きなテキストノードをダイアログ要素に直接追加すると、ダイアログ要素自体がオーバーフローする可能性があるため、特に問題が多い。著者はそれらを避けるのが最善である。</p>

  <div class="example"><p>次のサービス条件のダイアログでは、上記の提案を尊重する。</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>dialog</c-> <c- e>style</c-><c- o>=</c-><c- s>"height: 80vh;"</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>div</c-> <c- e>style</c-><c- o>=</c-><c- s>"overflow: auto; height: 60vh;"</c-> <c- e>autofocus</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>p</c-><c- p>></c->By placing an order via this Web site on the first day of the fourth month of the year
    2010 Anno Domini, you agree to grant Us a non-transferable option to claim, for now and for
    ever more, your immortal soul.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>p</c-><c- p>></c->Should We wish to exercise this option, you agree to surrender your immortal soul,
    and any claim you may have on it, within 5 (five) working days of receiving written
    notification from  this site or one of its duly authorized minions.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
    <c- c>&lt;!-- ... etc., with many more &lt;p> elements ... --></c->
  <c- p>&lt;/</c-><c- f>div</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>form</c-> <c- e>method</c-><c- o>=</c-><c- s>"dialog"</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>button</c-> <c- e>type</c-><c- o>=</c-><c- s>"submit"</c-> <c- e>value</c-><c- o>=</c-><c- s>"agree"</c-><c- p>></c->Agree<c- p>&lt;/</c-><c- f>button</c-><c- p>></c->
    <c- p>&lt;</c-><c- f>button</c-> <c- e>type</c-><c- o>=</c-><c- s>"submit"</c-> <c- e>value</c-><c- o>=</c-><c- s>"disagree"</c-><c- p>></c->Disagree<c- p>&lt;/</c-><c- f>button</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>form</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>dialog</c-><c- p>></c-></code></pre>

   <p><a href="#dialog-focusing-steps" id="the-dialog-element:dialog-focusing-steps-2">ダイアログフォーカスステップ</a>は、デフォルトでスクロール可能な<code id="the-dialog-element:the-div-element"><a href="grouping-content.html#the-div-element">div</a></code>要素が選択されるが、直前の例と同様に、将来の変更に対してより明確で堅牢になるように、<code id="the-dialog-element:attr-fe-autofocus-4"><a href="interaction.html#attr-fe-autofocus">autofocus</a></code>を<code id="the-dialog-element:the-div-element-2"><a href="grouping-content.html#the-div-element">div</a></code>に配置した。</p>

   <p>対照的に、利用規約を表す<code id="the-dialog-element:the-p-element"><a href="grouping-content.html#the-p-element">p</a></code>要素にそのようなラッパー<code id="the-dialog-element:the-div-element-3"><a href="grouping-content.html#the-div-element">div</a></code>要素がない場合、<code id="the-dialog-element:the-dialog-element-5"><a href="#the-dialog-element">dialog</a></code>自身がスクロール可能になり、上記のアドバイスに違反する。さらに、<code id="the-dialog-element:attr-fe-autofocus-5"><a href="interaction.html#attr-fe-autofocus">autofocus</a></code>属性が存在しない場合、そのようなマークアップパターンは上記のアドバイスに違反し、<a href="#dialog-focusing-steps" id="the-dialog-element:dialog-focusing-steps-3">ダイアログフォーカスステップ</a>のデフォルト動作を中断させ、フォーカスがAgree <code id="the-dialog-element:the-button-element"><a href="form-elements.html#the-button-element">button</a></code>にジャンプする原因となる。これは、悪いユーザー体験となる。</p>
  </div>

  <div class="example"><p>このダイアログボックスは、いくつかの小さなプリントを持つ。<code id="the-dialog-element:the-strong-element"><a href="text-level-semantics.html#the-strong-element">strong</a></code>要素は、より重要な部分にユーザーの注意を引くために使用される。</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>dialog</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>h1</c-><c- p>></c->Add to Wallet<c- p>&lt;/</c-><c- f>h1</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>strong</c-><c- p>>&lt;</c-><c- f>label</c-> <c- e>for</c-><c- o>=</c-><c- s>amt</c-><c- p>></c->How many gold coins do you want to add to your wallet?<c- p>&lt;/</c-><c- f>label</c-><c- p>>&lt;/</c-><c- f>strong</c-><c- p>>&lt;/</c-><c- f>p</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>input</c-> <c- e>id</c-><c- o>=</c-><c- s>amt</c-> <c- e>name</c-><c- o>=</c-><c- s>amt</c-> <c- e>type</c-><c- o>=</c-><c- s>number</c-> <c- e>min</c-><c- o>=</c-><c- s>0</c-> <c- e>step</c-><c- o>=</c-><c- s>0.01</c-> <c- e>value</c-><c- o>=</c-><c- s>100</c-><c- p>>&lt;/</c-><c- f>p</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>small</c-><c- p>></c->You add coins at your own risk.<c- p>&lt;/</c-><c- f>small</c-><c- p>>&lt;/</c-><c- f>p</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>label</c-><c- p>>&lt;</c-><c- f>input</c-> <c- e>name</c-><c- o>=</c-><c- s>round</c-> <c- e>type</c-><c- o>=</c-><c- s>checkbox</c-><c- p>></c-> Only add perfectly round coins<c- p>&lt;/</c-><c- f>label</c-><c- p>>&lt;/</c-><c- f>p</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>p</c-><c- p>>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>button</c-> <c- e>onclick</c-><c- o>=</c-><c- s>"submit()"</c-> <c- e>value</c-><c- o>=</c-><c- s>"Add Coins"</c-><c- p>>&lt;/</c-><c- f>p</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>dialog</c-><c- p>></c-></code></pre>
  </div>

  <hr>

  <p><dfn data-dfn-for="dialog" id="attr-dialog-open" data-dfn-type="element-attr"><code>open</code></dfn>属性は、<a id="the-dialog-element:boolean-attribute" href="common-microsyntaxes.html#boolean-attribute">真偽属性</a>である。指定される場合、<code id="the-dialog-element:the-dialog-element-6"><a href="#the-dialog-element">dialog</a></code>要素はアクティブであり、ユーザーが操作できることを示す。</p>

  <p><dfn data-dfn-for="dialog" id="attr-dialog-closedby" data-dfn-type="element-attr"><code>closedby</code></dfn>コンテンツ属性は、次のキーワードと状態をもつ<a id="the-dialog-element:enumerated-attribute" href="common-microsyntaxes.html#enumerated-attribute">列挙属性</a>である：</p>

  <table><thead><tr><th>キーワード<th>状態<th>概要<tbody><tr><td><dfn data-dfn-for="dialog/closedby" id="attr-dialog-closedby-any" data-dfn-type="attr-value"><code>any</code></dfn><td><dfn id="attr-dialog-closedby-any-state">Any</dfn><td><a href="interaction.html#close-request" id="the-dialog-element:close-request">閉じ要求</a>または外部をクリックしてダイアログを閉じる。<tr><td><dfn data-dfn-for="dialog/closedby" id="attr-dialog-closedby-closerequest" data-dfn-type="attr-value"><code>closerequest</code></dfn><td><dfn id="attr-dialog-closedby-closerequest-state">Close Request</dfn><td><a href="interaction.html#close-request" id="the-dialog-element:close-request-2">閉じ要求</a>はダイアログを閉じる。<tr><td><dfn data-dfn-for="dialog/closedby" id="attr-dialog-closedby-none" data-dfn-type="attr-value"><code>none</code></dfn><td><dfn id="attr-dialog-closedby-none-state">None</dfn><td>ダイアログを自動的に閉じるユーザー操作はない。</table>

  <p><code id="the-dialog-element:attr-dialog-closedby-2"><a href="#attr-dialog-closedby">closedby</a></code>属性の<i id="the-dialog-element:invalid-value-default"><a href="common-microsyntaxes.html#invalid-value-default">不正値のデフォルト</a></i>と<i id="the-dialog-element:missing-value-default"><a href="common-microsyntaxes.html#missing-value-default">欠損値のデフォルト</a></i>の両方は、<dfn id="attr-dialog-closedby-auto-state">Auto</dfn>状態である。</p>

  <p class="note"><a href="#attr-dialog-closedby-auto-state" id="the-dialog-element:attr-dialog-closedby-auto-state">Auto</a>状態は、<code id="the-dialog-element:the-dialog-element-7"><a href="#the-dialog-element">dialog</a></code>がその<code id="the-dialog-element:dom-dialog-showmodal"><a href="#dom-dialog-showmodal">showModal()</a></code>メソッドを使用して表示された場合、<a href="#attr-dialog-closedby-closerequest-state" id="the-dialog-element:attr-dialog-closedby-closerequest-state">閉じ要求</a>状態として動作し、そうでなければ<a href="#attr-dialog-closedby-none-state" id="the-dialog-element:attr-dialog-closedby-none-state">None</a>状態として動作する。</p>

  

  <div id="note-dialog-remove-open-attribute" class="note"><p><code id="the-dialog-element:attr-dialog-open-2"><a href="#attr-dialog-open">open</a></code>属性を削除すると、通常ダイアログが非表示になる。しかし、そのようにすると、いくつかの奇妙な追加の結果となる：<ul><li><p><code id="the-dialog-element:event-close"><a href="indices.html#event-close">close</a></code>イベントは発火しない。<li><p><code id="the-dialog-element:dom-dialog-close"><a href="#dom-dialog-close">close()</a></code>メソッド、および<a href="interaction.html#close-request" id="the-dialog-element:close-request-3">close要求</a>は、ダイアログを閉じることができなくなる。<li><p><code id="the-dialog-element:dom-dialog-showmodal-2"><a href="#dom-dialog-showmodal">showModal()</a></code>メソッドを使用してダイアログが表示された場合、<code>Document</code>は<a href="interaction.html#blocked-by-a-modal-dialog" id="the-dialog-element:blocked-by-a-modal-dialog">ブロック</a>される。</ul>

   <p>これらの理由から、<code id="the-dialog-element:attr-dialog-open-3"><a href="#attr-dialog-open">open</a></code>属性を手動で削除しない方が一般的には良い方法である。代わりに、ダイアログを閉じるために<code id="the-dialog-element:dom-dialog-requestclose"><a href="#dom-dialog-requestclose">close()</a></code>もしくは<code id="the-dialog-element:dom-dialog-close-2"><a href="#dom-dialog-close">close()</a></code>メソッドを使用する、または非表示にするために<code id="the-dialog-element:attr-hidden"><a href="interaction.html#attr-hidden">hidden</a></code>属性を使用する。</p>
  </div>

  <p><code id="the-dialog-element:attr-tabindex"><a href="interaction.html#attr-tabindex">tabindex</a></code>属性は、<code id="the-dialog-element:the-dialog-element-8"><a href="#the-dialog-element">dialog</a></code>要素で指定されてはならない。</p>

  <hr>

  <dl class="domintro"><dt><code><var>dialog</var>.<span id="dom-dialog-show">show</span>()</code><dd><p><code id="the-dialog-element:the-dialog-element-9"><a href="#the-dialog-element">dialog</a></code>要素を表示する。<dt><code><var>dialog</var>.<span id="dom-dialog-showmodal">showModal</span>()</code><dd><p><code id="the-dialog-element:the-dialog-element-10"><a href="#the-dialog-element">dialog</a></code>要素を表示し、一番上のモーダルダイアログにする。</p>

    <p>この方法は、<code id="the-dialog-element:attr-fe-autofocus-6"><a href="interaction.html#attr-fe-autofocus">autofocus</a></code>属性を履行する。</p>
   <dt><code><var>dialog</var>.<span id="dom-dialog-close">close</span>([ <var>result</var> ])</code><dd><p><code id="the-dialog-element:the-dialog-element-11"><a href="#the-dialog-element">dialog</a></code>要素を閉じる。</p>

    <p>引数が与えられた場合、戻り値を提供する。</p>
   <dt><code><var>dialog</var>.<span id="dom-dialog-requestclose">requestClose</span>([ <var>result</var> ])</code><dd><p>最初に<code id="the-dialog-element:event-cancel"><a href="indices.html#event-cancel">cancel</a></code>イベントを発火し、そのイベントが<code id="the-dialog-element:dom-event-preventdefault"><a data-x-internal="dom-event-preventdefault" href="https://triple-underscore.github.io/DOM4-ja.html#dom-event-preventdefault">preventDefault()</a></code>でキャンセルされない場合、<code id="the-dialog-element:dom-dialog-close-3"><a href="#dom-dialog-close">close()</a></code>メソッドと同じ方法で<var>dialog</var>を閉じる（<code id="the-dialog-element:event-close-2"><a href="indices.html#event-close">close</a></code>イベントの起動を含む）。これにより、<var>dialog</var>をターゲットとして<a href="interaction.html#close-request" id="the-dialog-element:close-request-4">閉じ要求</a>が送信されたかのように動作する。</p>

    <p>これは、キャンセルおよびクローズロジックを<code id="the-dialog-element:event-cancel-2"><a href="indices.html#event-cancel">cancel</a></code>および<code id="the-dialog-element:event-close-3"><a href="indices.html#event-close">close</a></code>イベントハンドラーに統合するために使用できるヘルパーユーティリティであり、非<a href="interaction.html#close-request" id="the-dialog-element:close-request-5">close request</a>のすべてのクローズアフォーダンスでこのメソッドを呼び出すことができる。</p>

    <p>このメソッドは<code id="the-dialog-element:attr-dialog-closedby-3"><a href="#attr-dialog-closedby">closedby</a></code>属性を無視する。つまり、<code id="the-dialog-element:attr-dialog-closedby-4"><a href="#attr-dialog-closedby">closedby</a></code>が"<code id="the-dialog-element:attr-dialog-closedby-none"><a href="#attr-dialog-closedby-none">none</a></code>"に設定されていても、同じ動作が適用される。</p>

    <p>引数が与えられた場合、戻り値を提供する。</p>
   <dt><code><var>dialog</var>.<span id="dom-dialog-returnvalue">returnValue</span> [ = <var>result</var> ]</code><dd><p><code id="the-dialog-element:the-dialog-element-12"><a href="#the-dialog-element">dialog</a></code>の戻り値を返す。</p>

    <p>戻り値を更新する設定が可能である。</p>
   </dl>

  

  <p>To <dfn id="queue-a-dialog-toggle-event-task">queue a dialog toggle event task</dfn> given a <code id="the-dialog-element:the-dialog-element-13"><a href="#the-dialog-element">dialog</a></code> element <var>element</var>, a string <var>oldState</var>, and a string <var>newState</var>:<ol><li><p>If <var>element</var>'s <span>dialog toggle task tracker</span> is not null, then:</p>

    <ol><li><p>Set <var>oldState</var> to <var>element</var>'s <span>dialog toggle task tracker</span>'s <a href="interaction.html#toggle-task-old-state" id="the-dialog-element:toggle-task-old-state">old state</a>.<li><p>Remove <var>element</var>'s <span>dialog toggle task tracker</span>'s <a href="interaction.html#toggle-task-task" id="the-dialog-element:toggle-task-task">task</a> from its <span>task queue</span>.<li><p>Set <var>element</var>'s <span>dialog toggle task tracker</span> to null.</ol>
   <li><p><span>Queue an element task</span> given the <span>DOM manipulation task source</span> and <var>element</var> to run the following steps:</p>

    <ol><li><p><a href="https://triple-underscore.github.io/DOM4-ja.html#concept-event-fire" id="the-dialog-element:concept-event-fire" data-x-internal="concept-event-fire">Fire an event</a> named <code id="the-dialog-element:event-toggle"><a href="indices.html#event-toggle">toggle</a></code> at <var>element</var>, using <code>ToggleEvent</code>, with the <code id="the-dialog-element:dom-toggleevent-oldstate-2"><a href="interaction.html#dom-toggleevent-oldstate-2">oldState</a></code> attribute initialized to <var>oldState</var> and the <code id="the-dialog-element:dom-toggleevent-newstate-2"><a href="interaction.html#dom-toggleevent-newstate-2">newState</a></code> attribute initialized to <var>newState</var>.<li><p>Set <var>element</var>'s <span>dialog toggle task tracker</span> to null.</ol>
   <li><p>Set <var>element</var>'s <span>dialog toggle task tracker</span> to a struct with <a href="interaction.html#toggle-task-task" id="the-dialog-element:toggle-task-task-2">task</a> set to the just-queued <span>task</span> and <a href="interaction.html#toggle-task-old-state" id="the-dialog-element:toggle-task-old-state-2">old state</a> set to <var>oldState</var>.</ol>

  <p>To retrieve a dialog's <dfn id="computed-closed-by-state">computed closed-by state</dfn>, given a <code id="the-dialog-element:the-dialog-element-14"><a href="#the-dialog-element">dialog</a></code> <var>dialog</var>:<ol><li><p>If the state of <var>dialog</var>'s <code id="the-dialog-element:attr-dialog-closedby-5"><a href="#attr-dialog-closedby">closedby</a></code> attribute is <a href="#attr-dialog-closedby-auto-state" id="the-dialog-element:attr-dialog-closedby-auto-state-2">Auto</a>:</p>

    <ol><li><p>If <var>dialog</var>'s <span>is modal</span> is true, then return <a href="#attr-dialog-closedby-closerequest-state" id="the-dialog-element:attr-dialog-closedby-closerequest-state-2">Close Request</a>.<li><p>Return <a href="#attr-dialog-closedby-none-state" id="the-dialog-element:attr-dialog-closedby-none-state-2">None</a>.</ol>
   <li><p>Return the state of <var>dialog</var>'s <code id="the-dialog-element:attr-dialog-closedby-6"><a href="#attr-dialog-closedby">closedby</a></code> attribute.</ol>

  <p>The <dfn id="dialog-focusing-steps">dialog focusing steps</dfn>, given a <code id="the-dialog-element:the-dialog-element-15"><a href="#the-dialog-element">dialog</a></code> element <var>subject</var>, are as follows:</p>

  <ol><li><p>If the <span>allow focus steps</span> given <var>subject</var>'s <a id="the-dialog-element:node-document" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">node document</a> return false, then return.<li><p>Let <var>control</var> be null.<li><p>If <var>subject</var> has the <code id="the-dialog-element:attr-fe-autofocus-7"><a href="interaction.html#attr-fe-autofocus">autofocus</a></code> attribute, then set <var>control</var> to <var>subject</var>.<li><p>If <var>control</var> is null, then set <var>control</var> to the <span>focus delegate</span> of <var>subject</var>.<li><p>If <var>control</var> is null, then set <var>control</var> to <var>subject</var>.<li><p>Run the <span>focusing steps</span> for <var>control</var>.</p>

    <p class="note">If <var>control</var> is not <span>focusable</span>, this will do nothing. This would only happen if subject had no focus delegate, and the user agent decided that <code id="the-dialog-element:the-dialog-element-16"><a href="#the-dialog-element">dialog</a></code> elements were not generally focusable. In that case, any <a href="#note-dialog-plus-focus-fixup">earlier modifications</a> to the <a id="the-dialog-element:focused-area-of-the-document" href="interaction.html#focused-area-of-the-document">focused area of the document</a> will apply.</p>
   <li><p>Let <var>topDocument</var> be <var>control</var>'s <a id="the-dialog-element:node-navigable" href="document-sequences.html#node-navigable">node navigable</a>'s <a href="document-sequences.html#nav-top" id="the-dialog-element:nav-top">top-level traversable</a>'s <a href="document-sequences.html#nav-document" id="the-dialog-element:nav-document">active document</a>.<li><p>If <var>control</var>'s <a id="the-dialog-element:node-document-2" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">node document</a>'s <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-origin" id="the-dialog-element:concept-document-origin" data-x-internal="concept-document-origin">origin</a> is not the <a href="browsers.html#same-origin" id="the-dialog-element:same-origin">same</a> as the <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-origin" id="the-dialog-element:concept-document-origin-2" data-x-internal="concept-document-origin">origin</a> of <var>topDocument</var>, then return.<li><p><a href="https://triple-underscore.github.io/infra-ja.html#list-empty" id="the-dialog-element:list-empty" data-x-internal="list-empty">Empty</a> <var>topDocument</var>'s <span>autofocus candidates</span>.<li><p>Set <var>topDocument</var>'s <span>autofocus processed flag</span> to true.</ol>

  <h4 id="dialog-light-dismiss"><span class="secno">4.11.5</span> <dfn>Dialog light dismiss</dfn><a href="#dialog-light-dismiss" class="self-link"></a></h4>

  <p class="note">"Light dismiss" means that clicking outside of a <code id="dialog-light-dismiss:the-dialog-element"><a href="#the-dialog-element">dialog</a></code> element whose <code id="dialog-light-dismiss:attr-dialog-closedby"><a href="#attr-dialog-closedby">closedby</a></code> attribute is in the <a href="#attr-dialog-closedby-any-state" id="dialog-light-dismiss:attr-dialog-closedby-any-state">Any</a> state will close the <code id="dialog-light-dismiss:the-dialog-element-2"><a href="#the-dialog-element">dialog</a></code> element. This is in addition to how such <code id="dialog-light-dismiss:the-dialog-element-3"><a href="#the-dialog-element">dialog</a></code>s respond to <a href="interaction.html#close-request" id="dialog-light-dismiss:close-request">close requests</a>.</p>

  <p>To <dfn id="light-dismiss-open-dialogs">light dismiss open dialogs</dfn>, given a <code id="dialog-light-dismiss:pointerevent"><a data-x-internal="pointerevent" href="https://triple-underscore.github.io/pointerevents-ja.html#pointerevent-interface">PointerEvent</a></code> <var>event</var>:</p>

  <ol><li><p><a id="dialog-light-dismiss:assert" href="https://triple-underscore.github.io/infra-ja.html#assert" data-x-internal="assert">Assert</a>: <var>event</var>'s <code id="dialog-light-dismiss:dom-event-istrusted"><a data-x-internal="dom-event-istrusted" href="https://triple-underscore.github.io/DOM4-ja.html#dom-event-istrusted">isTrusted</a></code> attribute is true.<li><p>Let <var>document</var> be <var>event</var>'s <a href="https://dom.spec.whatwg.org/#concept-event-target" id="dialog-light-dismiss:concept-event-target" data-x-internal="concept-event-target">target</a>'s <a id="dialog-light-dismiss:node-document" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">node document</a>.<li><p>If <var>document</var>'s <a id="dialog-light-dismiss:open-dialogs-list" href="dom.html#open-dialogs-list">open dialogs list</a> is <a href="https://triple-underscore.github.io/infra-ja.html#list-empty" id="dialog-light-dismiss:list-is-empty" data-x-internal="list-is-empty">empty</a>, then return.<li><p>Let <var>ancestor</var> be the result of running <a href="#nearest-clicked-dialog" id="dialog-light-dismiss:nearest-clicked-dialog">nearest clicked dialog</a> given <var>event</var>.<li><p>If <var>event</var>'s <code id="dialog-light-dismiss:dom-event-type"><a data-x-internal="dom-event-type" href="https://triple-underscore.github.io/DOM4-ja.html#dom-event-type">type</a></code> is "<code id="dialog-light-dismiss:event-pointerdown"><a data-x-internal="event-pointerdown" href="https://triple-underscore.github.io/pointerevents-ja.html#the-pointerdown-event">pointerdown</a></code>", then set <var>document</var>'s <span>dialog pointerdown target</span> to <var>ancestor</var>.<li><p>If <var>event</var>'s <code id="dialog-light-dismiss:dom-event-type-2"><a data-x-internal="dom-event-type" href="https://triple-underscore.github.io/DOM4-ja.html#dom-event-type">type</a></code> is "<code id="dialog-light-dismiss:event-pointerup"><a data-x-internal="event-pointerup" href="https://triple-underscore.github.io/pointerevents-ja.html#the-pointerup-event">pointerup</a></code>", then:</p>

    <ol><li><p>Let <var>sameTarget</var> be true if <var>ancestor</var> is <var>document</var>'s <span>dialog pointerdown target</span>.<li><p>Set <var>document</var>'s <span>dialog pointerdown target</span> to null.<li><p>If <var>sameTarget</var> is false, then return.<li><p>Let <var>topmostDialog</var> be the last element of <var>document</var>'s <a id="dialog-light-dismiss:open-dialogs-list-2" href="dom.html#open-dialogs-list">open dialogs list</a>.<li><p>If <var>ancestor</var> is <var>topmostDialog</var>, then return.<li><p>If <var>topmostDialog</var>'s <a href="#computed-closed-by-state" id="dialog-light-dismiss:computed-closed-by-state">computed closed-by state</a> is not <a href="#attr-dialog-closedby-any-state" id="dialog-light-dismiss:attr-dialog-closedby-any-state-2">Any</a>, then return.<li><p><a id="dialog-light-dismiss:assert-2" href="https://triple-underscore.github.io/infra-ja.html#assert" data-x-internal="assert">Assert</a>: <var>topmostDialog</var>'s <span>close watcher</span> is not null.<li><p><span>Request to close</span> <var>topmostDialog</var>'s <span>close watcher</span> with false.</ol>
   </ol>

  <p>To <dfn id="run-light-dismiss-activities">run light dismiss activities</dfn>, given a <code id="dialog-light-dismiss:pointerevent-2"><a data-x-internal="pointerevent" href="https://triple-underscore.github.io/pointerevents-ja.html#pointerevent-interface">PointerEvent</a></code> <var>event</var>:</p>

  <ol><li><p>Run <a id="dialog-light-dismiss:light-dismiss-open-popovers" href="popover.html#light-dismiss-open-popovers">light dismiss open popovers</a> with <var>event</var>.<li><p>Run <a href="#light-dismiss-open-dialogs" id="dialog-light-dismiss:light-dismiss-open-dialogs">light dismiss open dialogs</a> with <var>event</var>.</ol>

  <p class="XXX"><a href="#run-light-dismiss-activities" id="dialog-light-dismiss:run-light-dismiss-activities">Run light dismiss activities</a> will be called by the <a href="https://github.com/w3c/pointerevents/pull/460">Pointer Events spec</a> when the user clicks or touches anywhere on the page.</p>

  <p>To find the <dfn id="nearest-clicked-dialog">nearest clicked dialog</dfn>, given a <code id="dialog-light-dismiss:pointerevent-3"><a data-x-internal="pointerevent" href="https://triple-underscore.github.io/pointerevents-ja.html#pointerevent-interface">PointerEvent</a></code> <var>event</var>:</p>

  <ol><li><p>Let <var>target</var> be <var>event</var>'s <a href="https://dom.spec.whatwg.org/#concept-event-target" id="dialog-light-dismiss:concept-event-target-2" data-x-internal="concept-event-target">target</a>.<li><p>If <var>target</var> is a <code id="dialog-light-dismiss:the-dialog-element-4"><a href="#the-dialog-element">dialog</a></code> element, <var>target</var> has an <code id="dialog-light-dismiss:attr-dialog-open"><a href="#attr-dialog-open">open</a></code> attribute, <var>target</var>'s <span>is modal</span> is true, and <var>event</var>'s <code id="dialog-light-dismiss:mouseevent-clientx"><a data-x-internal="mouseevent-clientx" href="https://triple-underscore.github.io/cssom-view-ja.html#dom-mouseevent-clientx">clientX</a></code> and <code id="dialog-light-dismiss:mouseevent-clienty"><a data-x-internal="mouseevent-clienty" href="https://triple-underscore.github.io/cssom-view-ja.html#dom-mouseevent-clienty">clientY</a></code> are outside the bounds of <var>target</var>, then return null.<p class="note">The check for <code id="dialog-light-dismiss:mouseevent-clientx-2"><a data-x-internal="mouseevent-clientx" href="https://triple-underscore.github.io/cssom-view-ja.html#dom-mouseevent-clientx">clientX</a></code> and <code id="dialog-light-dismiss:mouseevent-clienty-2"><a data-x-internal="mouseevent-clienty" href="https://triple-underscore.github.io/cssom-view-ja.html#dom-mouseevent-clienty">clientY</a></code> is because a pointer event that hits the <code>::backdrop</code> pseudo element of a dialog will result in <var>event</var> having a target of the dialog element itself.</p>

   <li><p>Let <var>currentNode</var> be <var>target</var>.<li><p>While <var>currentNode</var> is not null:</p>

    <ol><li><p>If <var>currentNode</var> is a <code id="dialog-light-dismiss:the-dialog-element-5"><a href="#the-dialog-element">dialog</a></code> element and <var>currentNode</var> has an <code id="dialog-light-dismiss:attr-dialog-open-2"><a href="#attr-dialog-open">open</a></code> attribute, then return <var>currentNode</var>.<li><p>Set <var>currentNode</var> to <var>currentNode</var>'s parent in the <a id="dialog-light-dismiss:flat-tree" href="https://triple-underscore.github.io/css-scoping-ja.html#flat-tree" data-x-internal="flat-tree">flat tree</a>.</ol>
   <li><p>Return null.</ol>

  <nav><a href="form-control-infrastructure.html">← 4.10.17 フォームコントロールインフラストラクチャ</a> — <a href="./">目次</a> — <a href="scripting.html">4.12 スクリプティング →</a></nav>
