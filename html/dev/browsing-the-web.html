<!DOCTYPE html><html class="split" lang="ja"><script src="https://html.spec.whatwg.org/link-fixup.js" defer=""></script><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"><title>HTML Standard, Edition for Web Developers日本語訳</title><meta content="#3c790a" name="theme-color"><link rel="stylesheet" href="https://resources.whatwg.org/standard-shared-with-dev.css" crossorigin=""><link rel="icon" href="https://resources.whatwg.org/logo.svg" crossorigin=""><link rel="stylesheet" href="https://html.spec.whatwg.org/dev/styles.css" crossorigin=""><script>
   function toggleStatus(div) {
     div.parentNode.classList.toggle('wrapped');
   }
   function setLinkFragment(link) {
     link.hash = location.hash;
   }
  </script><body>
  <script async="" src="./search.js"></script>
  
  
  
  <header id="head" class="head with-buttons"><a href="https://whatwg.org/" class="logo"><img width="100" alt="WHATWG" crossorigin="" src="https://resources.whatwg.org/logo.svg" height="100"></a><hgroup><h1><a rel="home" href="./dev" />HTML: The Living Standard</a></h1><h2 id="dev-edition-h2" class="no-num no-toc">Edition for Web Developers — Last Updated <span class="pubdate">27 April 2022</span></h2></hgroup>
   

   <div id="search"><input placeholder="Search. Press '/'" autocomplete="off" name="query" id="query" type="search"><ol id="results"></ol>
   </div>
  </header>

  

  

  

  
  

  
  

  

  <nav><a href="history.html">← 7.8 セッション履歴およびナビゲーション</a> — <a href="./">目次</a> — <a href="webappapis.html">8 ウェブアプリケーションAPI →</a></nav><ol class="toc"><li><ol><li><a href="browsing-the-web.html#browsing-the-web"><span class="secno">7.9</span> ウェブを閲覧する</a><ol><li><a href="browsing-the-web.html#history-traversal"><span class="secno">7.9.1</span> 履歴走査</a><ol><li><a href="browsing-the-web.html#the-popstateevent-interface"><span class="secno">7.9.1.1</span> <code>PopStateEvent</code>インターフェイス</a><li><a href="browsing-the-web.html#the-hashchangeevent-interface"><span class="secno">7.9.1.2</span> <code>HashChangeEvent</code>インターフェイス</a><li><a href="browsing-the-web.html#the-pagetransitionevent-interface"><span class="secno">7.9.1.3</span> <code>PageTransitionEvent</code>インターフェイス</a></ol><li><a href="browsing-the-web.html#unloading-documents"><span class="secno">7.9.2</span> 文書の解放</a><ol><li><a href="browsing-the-web.html#the-beforeunloadevent-interface"><span class="secno">7.9.2.1</span> <code>BeforeUnloadEvent</code>インターフェイス</a></ol><li><a href="browsing-the-web.html#the-x-frame-options-header"><span class="secno">7.9.3</span> `<code>X-Frame-Options</code>`ヘッダー</a><li><a href="browsing-the-web.html#the-refresh-header"><span class="secno">7.9.4</span> The `<code>Refresh</code>` header</a></ol></ol></ol><h3 id="browsing-the-web"><span class="secno">7.9</span> ウェブを閲覧する<a href="#browsing-the-web" class="self-link"></a></h3>

  



  <h4 id="history-traversal"><span class="secno">7.9.1</span> 履歴走査<a href="#history-traversal" class="self-link"></a></h4> 

  


  <h5 id="the-popstateevent-interface"><span class="secno">7.9.1.1</span> <code>PopStateEvent</code>インターフェイス<a href="#the-popstateevent-interface" class="self-link"></a></h5><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/PopStateEvent" title="PopStateEvent is an interface for the popstate event.">PopStateEvent</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>4+</span></span><span class="safari yes"><span>Safari</span><span>6+</span></span><span class="chrome yes"><span>Chrome</span><span>4+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>6+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>4.4+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div>

  

  <dl class="domintro"><dt><code><var>event</var>.<span id="dom-popstateevent-state">state</span></code><dd><p><code id="the-popstateevent-interface:dom-history-pushstate"><a href="history.html#dom-history-pushstate">pushState()</a></code>または<code id="the-popstateevent-interface:dom-history-replacestate"><a href="history.html#dom-history-replacestate">replaceState()</a></code>へ提供される情報のコピーを返す。</dl>

  


  <h5 id="the-hashchangeevent-interface"><span class="secno">7.9.1.2</span> <code>HashChangeEvent</code>インターフェイス<a href="#the-hashchangeevent-interface" class="self-link"></a></h5><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/HashChangeEvent" title="The HashChangeEvent interface represents events that fire when the fragment identifier of the URL has changed.">HashChangeEvent</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>3.6+</span></span><span class="safari yes"><span>Safari</span><span>5+</span></span><span class="chrome yes"><span>Chrome</span><span>8+</span></span><hr><span class="opera yes"><span>Opera</span><span>10.6+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>8+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>5+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>4.4+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>11+</span></span></div></div></div>

  

  <dl class="domintro"><dt><code><var>event</var>.<span id="dom-hashchangeevent-oldurl">oldURL</span></code><dd><p>以前に現在であった<a id="the-hashchangeevent-interface:session-history-entry" href="history.html#session-history-entry">セッション履歴のエントリー</a>の<a id="the-hashchangeevent-interface:url" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a>を返す。</p>
   <dt><code><var>event</var>.<span id="dom-hashchangeevent-newurl">newURL</span></code><dd><p>今現在である<a id="the-hashchangeevent-interface:session-history-entry-2" href="history.html#session-history-entry">セッション履歴のエントリー</a>の<a id="the-hashchangeevent-interface:url-2" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a>を返す。</p>
   </dl>

  


  <h5 id="the-pagetransitionevent-interface"><span class="secno">7.9.1.3</span> <code>PageTransitionEvent</code>インターフェイス<a href="#the-pagetransitionevent-interface" class="self-link"></a></h5><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/PageTransitionEvent" title="The PageTransitionEvent event object is available inside handler functions for the pageshow and pagehide events, fired when a document is being loaded or unloaded.">PageTransitionEvent</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1.5+</span></span><span class="safari yes"><span>Safari</span><span>5+</span></span><span class="chrome yes"><span>Chrome</span><span>4+</span></span><hr><span class="opera yes"><span>Opera</span><span>15+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>11</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>4+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>14+</span></span></div></div></div>

  

  <dl class="domintro"><dt><code><var>event</var>.<span id="dom-pagetransitionevent-persisted">persisted</span></code><dd><p><code id="the-pagetransitionevent-interface:event-pageshow"><a href="indices.html#event-pageshow">pageshow</a></code>に対して、ページが新しく読み込まれている（および<code id="the-pagetransitionevent-interface:event-load"><a href="indices.html#event-load">load</a></code>イベントが発生する）場合にfalseを返す。そうでなければ、trueを返す。</p>

    <p><code id="the-pagetransitionevent-interface:event-pagehide"><a href="indices.html#event-pagehide">pagehide</a></code>イベントに対して、ページが最後の時間まで出かける場合はfalseを返す。Otherwise, returns true, meaning that the page might be reused if the user navigates back to this page (if the <code>Document</code>'s <i>salvageable</i> state stays true).</p>

    <p>最上でないページを含む可能性があるもの：</p>

    <ul class="brief"><li>The user agent decided to not keep the <code>Document</code> alive in a <a id="the-pagetransitionevent-interface:session-history-entry" href="history.html#session-history-entry">session history entry</a> after <span>unload</span><li>Having <code id="the-pagetransitionevent-interface:the-iframe-element"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>s that are not <i>salvageable</i><li>アクティブな<code id="the-pagetransitionevent-interface:websocket-2"><a data-x-internal="websocket-2" href="https://websockets.spec.whatwg.org/#websocket">WebSocket</a></code>オブジェクト<li><span><code>Document</code>の中止</span></ul>
   </dl>

  

  <h4 id="unloading-documents"><span class="secno">7.9.2</span> 文書の解放<a href="#unloading-documents" class="self-link"></a></h4>

  



  <h5 id="the-beforeunloadevent-interface"><span class="secno">7.9.2.1</span> <code>BeforeUnloadEvent</code>インターフェイス<a href="#the-beforeunloadevent-interface" class="self-link"></a></h5><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BeforeUnloadEvent" title="The beforeunload event is fired when the window, the document and its resources are about to be unloaded.">BeforeUnloadEvent</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1.5+</span></span><span class="safari yes"><span>Safari</span><span>7+</span></span><span class="chrome yes"><span>Chrome</span><span>30+</span></span><hr><span class="opera yes"><span>Opera</span><span>17+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>7+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>30+</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>3.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>18+</span></span></div></div></div>

  

  <p class="note"><code>BeforeUnloadEvent</code>固有の初期化メソッドは存在しない。</p>

  <p><code>BeforeUnloadEvent</code>インターフェイスは、イベントをキャンセルするだけでなく、<code>returnValue</code>属性を空文字列以外の値に設定することで、<span>アンロードのプロンプト</span>を制御できるようにするレガシーインターフェイスである。 著者は、<code>returnValue</code>を使用する代わりに、<code id="the-beforeunloadevent-interface:dom-event-preventdefault"><a data-x-internal="dom-event-preventdefault" href="https://triple-underscore.github.io/DOM4-ja.html#dom-event-preventdefault">preventDefault()</a></code>メソッド、またはイベントをキャンセルするその他の手段を使用すべきである。</p>

  


  

  <h4 id="the-x-frame-options-header"><span class="secno">7.9.3</span> The `<code id="the-x-frame-options-header:x-frame-options"><a href="#x-frame-options">X-Frame-Options</a></code>` header<a href="#the-x-frame-options-header" class="self-link"></a></h4>

  <p>The `<dfn id="x-frame-options" data-dfn-type="http-header"><code>X-Frame-Options</code></dfn>` HTTP response header is a legacy way of controlling whether and how a <code>Document</code> may be loaded inside of a <a id="the-x-frame-options-header:child-browsing-context" href="browsers.html#child-browsing-context">child browsing context</a>. It is obsoleted by the <code id="the-x-frame-options-header:frame-ancestors-directive"><a data-x-internal="frame-ancestors-directive" href="https://triple-underscore.github.io/CSP3-ja.html#frame-ancestors">frame-ancestors</a></code> CSP directive, which provides more granular control over the same situations. It was originally defined in <cite>HTTP Header Field X-Frame-Options</cite>, but the definition here supersedes that document. <a href="references.html#refsCSP">[CSP]</a> <a href="references.html#refsRFC7034">[RFC7034]</a><p class="note">特に、<cite>HTTPヘッダーフィールドX-Frame-Options</cite>はヘッダーの`<code>ALLOW-FROM</code>`バリアントを指定したが、これは実装されない。</p>

  <p class="note"><span>If</span> both a CSP <code id="the-x-frame-options-header:frame-ancestors-directive-2"><a data-x-internal="frame-ancestors-directive" href="https://triple-underscore.github.io/CSP3-ja.html#frame-ancestors">frame-ancestors</a></code> directive and an `<code id="the-x-frame-options-header:x-frame-options-2"><a href="#x-frame-options">X-Frame-Options</a></code>` header are used in the same <a href="https://triple-underscore.github.io/Fetch-ja.html#concept-response" id="the-x-frame-options-header:concept-response" data-x-internal="concept-response">response</a>, then `<code id="the-x-frame-options-header:x-frame-options-3"><a href="#x-frame-options">X-Frame-Options</a></code>` is ignored.</p>

  <p>ウェブ開発者および適合性チェッカーにとって、その値の<a href="https://fetch.spec.whatwg.org/#abnf" id="the-x-frame-options-header:header-abnf" data-x-internal="header-abnf">ABNF</a>は次のとおりである：</p>

  <pre><code class='abnf'><c- nc>X-Frame-Options</c-> <c- o>=</c-> <c- l>"DENY"</c-> <c- o>/</c-> <c- l>"SAMEORIGIN"</c-></code></pre>

  

  <div class="example"><p>次の表は、不適合の値を含む、ヘッダーのさまざまな値の処理を示す：</p>

   <table class="data"><thead><tr><th>`<code id="the-x-frame-options-header:x-frame-options-4"><a href="#x-frame-options">X-Frame-Options</a></code>`<th>妥当<th>結果<tbody><tr><td>`<code>DENY</code>`<td>✅<td>埋め込みを禁止<tr><td>`<code>SAMEORIGIN</code>`<td>✅<td>同一生成元の埋め込みを許可<tr><td>`<code>INVALID</code>`<td>❌<td>埋め込みを許可<tr><td>`<code>ALLOWALL</code>`<td>❌<td>埋め込みを許可<tr><td>`<code>ALLOW-FROM=https://example.com/</code>`<td>❌<td>埋め込みを許可（どこからでも）</table>
  </div>

  <div class="example"><p>次の表は、複数の値が関係するさまざまな不適合のケースがどのように処理されるかを示す：</p>

   <table class="data"><thead><tr><th>`<code id="the-x-frame-options-header:x-frame-options-5"><a href="#x-frame-options">X-Frame-Options</a></code>`<th>結果<tbody><tr><td>`<code>SAMEORIGIN, SAMEORIGIN</code>`<td>同一生成元の埋め込みを許可<tr><td>`<code>SAMEORIGIN, DENY</code>`<td>埋め込みを禁止<tr><td>`<code>SAMEORIGIN,</code>`<td>埋め込みを禁止<tr><td>`<code>SAMEORIGIN, ALLOWALL</code>`<td>埋め込みを禁止<tr><td>`<code>SAMEORIGIN, INVALID</code>`<td>埋め込みを禁止<tr><td>`<code>ALLOWALL, INVALID</code>`<td>埋め込みを禁止<tr><td>`<code>ALLOWALL,</code>`<td>埋め込みを禁止<tr><td>`<code>INVALID, INVALID</code>`<td>埋め込みを許可</table>

   <p>値がカンマ区切りの単一ヘッダーで配信されるか、複数のヘッダーで配信されるかにかかわらず、同じ結果が得られる。</p>
  </div>


  <h4 id="the-refresh-header"><span class="secno">7.9.4</span> The `<code id="the-refresh-header:refresh"><a href="#refresh">Refresh</a></code>` header<a href="#the-refresh-header" class="self-link"></a></h4>

  <p>The `<dfn id="refresh" data-dfn-type="http-header"><code>Refresh</code></dfn>` HTTP response header is the HTTP-equivalent to a <code id="the-refresh-header:the-meta-element"><a href="semantics.html#the-meta-element">meta</a></code> element with an <code id="the-refresh-header:attr-meta-http-equiv"><a href="semantics.html#attr-meta-http-equiv">http-equiv</a></code> attribute in the <a href="semantics.html#attr-meta-http-equiv-refresh" id="the-refresh-header:attr-meta-http-equiv-refresh">Refresh state</a>. It takes <a href="semantics.html#conformance-attr-meta-http-equiv-refresh">the same value</a> and works largely the same. Its processing model is detailed in <span>create and initialize a <code>Document</code> object</span>.<nav><a href="history.html">← 7.8 セッション履歴およびナビゲーション</a> — <a href="./">目次</a> — <a href="webappapis.html">8 ウェブアプリケーションAPI →</a></nav>
