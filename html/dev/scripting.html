<!DOCTYPE html><html class="split" lang="ja"><script src="https://html.spec.whatwg.org/link-fixup.js" defer=""></script><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"><title>HTML Standard, Developer's Edition 日本語訳</title><meta content="#3c790a" name="theme-color"><link rel="stylesheet" href="https://resources.whatwg.org/standard-shared-with-dev.css" crossorigin=""><link rel="icon" href="https://resources.whatwg.org/logo.svg" crossorigin=""><script>
   function toggleStatus(div) {
     div.parentNode.classList.toggle('wrapped');
   }
   function setLinkFragment(link) {
     link.hash = location.hash;
   }
  </script><link rel="stylesheet" href="https://html.spec.whatwg.org/dev/styles.css" crossorigin=""><body>
  <script async="" src="search.js"></script>
  
  
  
  <header id="head" class="head with-buttons"><a href="https://whatwg.org/" class="logo"><img width="100" alt="WHATWG" crossorigin="" src="https://resources.whatwg.org/logo.svg" height="100"></a><hgroup><h1><a rel="home" href="./dev" />HTML: The Living Standard</a></h1><h2 id="dev-edition-h2" class="no-num no-toc">Developer's Edition — Last Updated <span class="pubdate">18 March 2020</span></h2></hgroup>
   

   <div id="search"><input placeholder="Search. Press '/'" autocomplete="off" name="query" id="query" type="search"><ol id="results"></ol>
   </div>
  </header>

  

  

  

  
  

  
  

  

  <nav><a href="interactive-elements.html">← 4.11 インタラクティブ要素</a> — <a href="./">目次</a> — <a href="canvas.html">4.12.5 canvas要素 →</a></nav><ol class="toc"><li><ol><li><a href="scripting.html#scripting-3"><span class="secno">4.12</span> スクリプティング</a><ol><li><a href="scripting.html#the-script-element"><span class="secno">4.12.1</span> <code>script</code>要素</a><ol><li><a href="scripting.html#scriptingLanguages"><span class="secno">4.12.1.1</span> スクリプト言語</a><li><a href="scripting.html#restrictions-for-contents-of-script-elements"><span class="secno">4.12.1.2</span> <code>script</code>要素のコンテンツの制約</a><li><a href="scripting.html#inline-documentation-for-external-scripts"><span class="secno">4.12.1.3</span> 外部スクリプトに対するインライン文書</a></ol><li><a href="scripting.html#the-noscript-element"><span class="secno">4.12.2</span> <code>noscript</code>要素</a><li><a href="scripting.html#the-template-element"><span class="secno">4.12.3 </span> <code>template</code>要素</a><li><a href="scripting.html#the-slot-element"><span class="secno">4.12.4</span> <code>slot</code>要素</a></ol></ol></ol><h3 id="scripting-3"><span class="secno">4.12</span> スクリプティング<a href="#scripting-3" class="self-link"></a></h3>

  <p>スクリプトは著者が文書に双方向性を追加することを許可する。</p>

  <p>著者は、宣言型のメカニズムがしばしばより保守しやすく、かつ多くのユーザーがスクリプトを無効としているため、可能であれば、スクリプトに宣言型の代替を使用するよう推奨される。</p>

  <div class="example"><p>たとえば、より詳細な情報を表示するセクションを表示または非表示にするスクリプトを使用する代わりに、<code id="scripting-3:the-details-element"><a href="interactive-elements.html#the-details-element">details</a></code>要素を使用できる。</p>

  </div>

  <p>著者はまた、スクリプトのサポートがない状態でそれらのアプリケーションが行儀よくデグレードするよう推奨される。</p>

  <div class="example"><p>たとえば、著者がテーブルヘッダーにおいてリンクに動的なテーブルの再ソートを提供する場合、リンクはまたサーバーからソートされたテーブルを要求することによって、スクリプトなしで機能させることができるかもしれない。</p>

  </div>


  <h4 id="the-script-element" data-dfn-type="element" data-lt="script"><span class="secno">4.12.1</span> <dfn id="script"><code>script</code></dfn>要素<a href="#the-script-element" class="self-link"></a></h4>

  <dl class="element"><dt><a href="dom.html#concept-element-categories" id="the-script-element:concept-element-categories">カテゴリー</a>：<dd><a id="the-script-element:metadata-content-2" href="dom.html#metadata-content-2">メタデータコンテンツ</a>。<dd><a id="the-script-element:flow-content-2" href="dom.html#flow-content-2">フローコンテンツ</a>。<dd><a id="the-script-element:phrasing-content-2" href="dom.html#phrasing-content-2">フレージングコンテンツ</a>。<dd><a href="dom.html#script-supporting-elements-2" id="the-script-element:script-supporting-elements-2">スクリプトサポート要素</a>。<dt><a href="dom.html#concept-element-contexts" id="the-script-element:concept-element-contexts">この要素を使用できるコンテキスト</a>：<dd><a id="the-script-element:metadata-content-2-2" href="dom.html#metadata-content-2">メタデータコンテンツ</a>が期待される場所。<dd><a id="the-script-element:phrasing-content-2-2" href="dom.html#phrasing-content-2">フレージングコンテンツ</a>が期待される場所。<dd><a id="the-script-element:script-supporting-elements-2-2" href="dom.html#script-supporting-elements-2">スクリプトサポート要素</a>が期待される場所。<dt><a href="dom.html#concept-element-content-model" id="the-script-element:concept-element-content-model">コンテンツモデル</a>：<dd><code id="the-script-element:attr-script-src"><a href="#attr-script-src">src</a></code>属性が存在しない場合、<code id="the-script-element:attr-script-type"><a href="#attr-script-type">type</a></code>属性の値に依存するが、<a href="#restrictions-for-contents-of-script-elements" id="the-script-element:restrictions-for-contents-of-script-elements">スクリプトの内容制限</a>に一致しなければならない。<dd><code id="the-script-element:attr-script-src-2"><a href="#attr-script-src">src</a></code>属性が存在<em>する</em>場合、要素は空または<a href="#inline-documentation-for-external-scripts" id="the-script-element:inline-documentation-for-external-scripts">スクリプト文書</a>を含むだけでなく<a href="#restrictions-for-contents-of-script-elements" id="the-script-element:restrictions-for-contents-of-script-elements-2">スクリプトの内容制限</a>に一致するかのいずれかでなければならない。<dt><a href="dom.html#concept-element-tag-omission" id="the-script-element:concept-element-tag-omission">text/htmlにおけるタグ省略</a>：<dd>どちらのタグも省略不可。<dt><a href="dom.html#concept-element-attributes" id="the-script-element:concept-element-attributes">コンテンツ属性</a>：<dd><a id="the-script-element:global-attributes" href="dom.html#global-attributes">グローバル属性</a><dd><code id="the-script-element:attr-script-src-3"><a href="#attr-script-src">src</a></code> — リソースのアドレス<dd><code id="the-script-element:attr-script-type-2"><a href="#attr-script-type">type</a></code> — スクリプトの種類<dd><code id="the-script-element:attr-script-nomodule"><a href="#attr-script-nomodule">nomodule</a></code> — <span>モジュールスクリプト</span>をサポートするユーザーエージェントにおける実行を防ぐ<dd><code id="the-script-element:attr-script-async"><a href="#attr-script-async">async</a></code> — フェッチの間ブロックなしで、可能な場合にスクリプトを実行する<dd><code id="the-script-element:attr-script-defer"><a href="#attr-script-defer">defer</a></code> — スクリプトの実行を延期する<dd><code id="the-script-element:attr-script-crossorigin"><a href="#attr-script-crossorigin">crossorigin</a></code> — 要素がcrossorigin要求を処理する方法<dd><code id="the-script-element:attr-script-integrity"><a href="#attr-script-integrity">integrity</a></code> — <cite>Subresource Integrity</cite>チェックで使用される整合性メタデータ<a href="references.html#refsSRI">[SRI]</a><dd><code id="the-script-element:attr-script-referrerpolicy"><a href="#attr-script-referrerpolicy">referrerpolicy</a></code> — 要素によって開始された<a href="https://triple-underscore.github.io/Fetch-ja.html#concept-fetch" id="the-script-element:concept-fetch" data-x-internal="concept-fetch">フェッチ</a>のための<a id="the-script-element:referrer-policy" href="https://w3c.github.io/webappsec-referrer-policy/#referrer-policy" data-x-internal="referrer-policy">リファラポリシー</a><dt><a href="dom.html#concept-element-accessibility-considerations" id="the-script-element:concept-element-accessibility-considerations">アクセシビリティの考慮</a>：<dd><a href="https://momdo.github.io/html-aria/#el-script">著者向け</a>。<dd><a href="https://w3c.github.io/html-aam/#el-script">実装者向け</a>。<dt><a href="dom.html#concept-element-dom" id="the-script-element:concept-element-dom">DOMインターフェイス</a>：<dd><code>HTMLScriptElement</code>を使用する。</dl>

  <p><code id="the-script-element:the-script-element"><a href="#the-script-element">script</a></code>要素は、著者が文書に動的スクリプトおよびデータブロックを含むことを許可する。この要素は、ユーザーにコンテンツを<a href="dom.html#represents" id="the-script-element:represents">表す</a>ものでない。</p>

  <p><dfn id="attr-script-type"><code>type</code></dfn>属性は、表されるスクリプトの型をカスタマイズを可能にする：<div class="status"><input onclick="toggleStatus(this)" value="⋰" type="button"><p class="support"><strong>Support:</strong> es6-module<span class="and_chr yes"><span>Chrome for Android</span> <span>80+</span></span><span class="chrome yes"><span>Chrome</span> <span>61+</span></span><span class="ios_saf yes"><span>iOS Safari</span> <span>11.0+</span></span><span class="firefox yes"><span>Firefox</span> <span>60+</span></span><span class="safari yes"><span>Safari</span> <span>11+</span></span><span class="samsung yes"><span>Samsung Internet</span> <span>8.2+</span></span><span class="and_uc no"><span>UC Browser for Android</span> <span>None</span></span><span class="edge yes"><span>Edge</span> <span>16+</span></span><span class="ie no"><span>IE</span> <span>None</span></span><span class="opera yes"><span>Opera</span> <span>48+</span></span><span class="op_mini no"><span>Opera Mini</span> <span>None</span></span><span class="android yes"><span>Android Browser</span> <span>80+</span></span><p class="caniuse">Source: <a href="https://caniuse.com/#feat=es6-module">caniuse.com</a></div>

  <ul><li><p>属性を省略する、空文字列に設定する、または<a id="the-script-element:javascript-mime-type-essence-match" href="https://mimesniff.spec.whatwg.org/#javascript-mime-type-essence-match" data-x-internal="javascript-mime-type-essence-match">JavaScript MIMEタイプエッセンスマッチ</a>に設定することは、スクリプトがJavaScript <i id="the-script-element:js-prod-script"><a data-x-internal="js-prod-script" href="https://tc39.es/ecma262/#prod-Script">Script</a></i>トップレベル制作物によって解釈されるような<span>クラシックスクリプト</span>であることを意味する。クラシックスクリプトは<code id="the-script-element:attr-script-async-2"><a href="#attr-script-async">async</a></code>属性および<code id="the-script-element:attr-script-defer-2"><a href="#attr-script-defer">defer</a></code>属性の影響を受けるが、<code id="the-script-element:attr-script-src-4"><a href="#attr-script-src">src</a></code>属性が設定されている場合のみである。著者は重複して設定する代わりに、<code id="the-script-element:attr-script-type-3"><a href="#attr-script-type">type</a></code>属性を省略すべきである。<li><p>文字列"<code>module</code>"に<a id="the-script-element:ascii-case-insensitive" href="https://triple-underscore.github.io/infra-ja.html#ascii-case-insensitive" data-x-internal="ascii-case-insensitive">ASCII大文字・小文字不区別</a>で属性を設定することは、スクリプトがJavaScript <i id="the-script-element:js-prod-module"><a data-x-internal="js-prod-module" href="https://tc39.es/ecma262/#prod-Module">Module</a></i>トップレベル制作物によって解釈されるような<span>モジュールスクリプト</span>であることを意味する。モジュールスクリプトは<code id="the-script-element:attr-script-defer-3"><a href="#attr-script-defer">defer</a></code>属性の影響を受けないが、 <code id="the-script-element:attr-script-async-3"><a href="#attr-script-async">async</a></code>属性の影響を受ける（<code id="the-script-element:attr-script-src-5"><a href="#attr-script-src">src</a></code>属性の状態に関係なく）。<li><p>他の値に属性を設定することは、スクリプトが処理されない<dfn id="data-block">データブロック</dfn>であることを意味する。（<code id="the-script-element:attr-script-type-4"><a href="#attr-script-type">type</a></code>自身を除く）<code id="the-script-element:the-script-element-2"><a href="#the-script-element">script</a></code>属性のいずれもデータブロック上で任意の効果を持たない。著者は、データブロックを示すために<a id="the-script-element:javascript-mime-type-essence-match-2" href="https://mimesniff.spec.whatwg.org/#javascript-mime-type-essence-match" data-x-internal="javascript-mime-type-essence-match">JavaScript MIMEタイプエッセンシャルマッチ</a>でない<a id="the-script-element:valid-mime-type-string" href="https://mimesniff.spec.whatwg.org/#valid-mime-type" data-x-internal="valid-mime-type-string">妥当なMIMEタイプ文字列</a>を使用しなければならない。</ul>

  <p class="note"><a href="#data-block" id="the-script-element:data-block">データブロック</a>が<a id="the-script-element:valid-mime-type-string-2" href="https://mimesniff.spec.whatwg.org/#valid-mime-type" data-x-internal="valid-mime-type-string">妥当なMIMEタイプ文字列</a>を使用して表記されなければならない要件は、潜在的な将来の衝突を回避するための場所である。この仕様が<span>スクリプト</span>の追加の型をいずれ追加する場合、その追加の型は"<code>module</code>"値が<span>モジュールスクリプト</span>を表す方法のように、MIMEタイプでない何かに<code id="the-script-element:attr-script-type-5"><a href="#attr-script-type">type</a></code>属性を設定することによってトリガーされる。現在に妥当なMIMEタイプ文字列を使用することで、将来のユーザーエージェントでさえも、データブロックが異なるスクリプトタイプとして再解釈されないことを保証する。</p>

  <p><span>Classic scripts</span> and <span>module scripts</span> can be embedded inline, or be imported from an external file using the <dfn data-dfn-for="script" id="attr-script-src" data-dfn-type="element-attr" data-export=""><code>src</code></dfn> attribute, which if specified gives the <a id="the-script-element:url" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a> of the external script resource to use. <code id="the-script-element:attr-script-src-6"><a href="#attr-script-src">src</a></code>が指定される場合、<a id="the-script-element:valid-non-empty-url-potentially-surrounded-by-spaces" href="urls-and-fetching.html#valid-non-empty-url-potentially-surrounded-by-spaces">潜在的にスペースで囲まれる妥当な空でないURL</a>でなければならない。インライン<code id="the-script-element:the-script-element-3"><a href="#the-script-element">script</a></code>要素、または外部スクリプトリソースのコンテンツは、それぞれ<span>クラシックスクリプト</span>および<span>モジュールスクリプト</span>に対するJavaScript仕様の<i id="the-script-element:js-prod-script-2"><a data-x-internal="js-prod-script" href="https://tc39.es/ecma262/#prod-Script">Script</a></i>または<i id="the-script-element:js-prod-module-2"><a data-x-internal="js-prod-module" href="https://tc39.es/ecma262/#prod-Module">Module</a></i>制作物の要件に適合しなければならない。<a href="references.html#refsJAVASCRIPT">[JAVASCRIPT]</a></p>

  <p><a href="#data-block" id="the-script-element:data-block-2">データブロック</a>を含めるために使用される場合、データは、インラインに埋め込まれなければならず、データの形式は、<code id="the-script-element:attr-script-type-6"><a href="#attr-script-type">type</a></code>属性を使用して指定しなければならず、かつ<code id="the-script-element:the-script-element-4"><a href="#the-script-element">script</a></code>要素のコンテンツは、使用される形式のために定義される要件に適合しなければならない。<code id="the-script-element:attr-script-src-7"><a href="#attr-script-src">src</a></code>、<code id="the-script-element:attr-script-async-4"><a href="#attr-script-async">async</a></code>、<code id="the-script-element:attr-script-nomodule-2"><a href="#attr-script-nomodule">nomodule</a></code>、<code id="the-script-element:attr-script-defer-4"><a href="#attr-script-defer">defer</a></code>、<code id="the-script-element:attr-script-crossorigin-2"><a href="#attr-script-crossorigin">crossorigin</a></code>、<code id="the-script-element:attr-script-integrity-2"><a href="#attr-script-integrity">integrity</a></code>および<code id="the-script-element:attr-script-referrerpolicy-2"><a href="#attr-script-referrerpolicy">referrerpolicy</a></code>属性を指定してはならない。</p>

  <p><dfn id="attr-script-nomodule"><code>nomodule</code></dfn>属性は、<span>モジュールスクリプト</span>をサポートするユーザーエージェントでスクリプトが実行されないようにする<a id="the-script-element:boolean-attribute" href="common-microsyntaxes.html#boolean-attribute">真偽属性</a>である。これは、<a href="#script-nomodule-example">以下に示すように</a>、モダンなユーザーエージェントの<span>モジュールスクリプト</span>と古いユーザーエージェントの<span>クラシックスクリプト</span>の選択的な実行を可能にする。<code id="the-script-element:attr-script-nomodule-3"><a href="#attr-script-nomodule">nomodule</a></code>属性を<span>モジュールスクリプト</span>で指定してはならない（この属性がある場合は無視される）。</p>

  <p><dfn id="attr-script-async"><code>async</code></dfn>および<dfn id="attr-script-defer"><code>defer</code></dfn>属性は、どのようにスクリプトが評価されるべきかを示す<a href="common-microsyntaxes.html#boolean-attribute" id="the-script-element:boolean-attribute-2">真偽属性</a>である。<span>クラシックスクリプト</span>は、<code id="the-script-element:attr-script-defer-5"><a href="#attr-script-defer">defer</a></code>または<code id="the-script-element:attr-script-async-5"><a href="#attr-script-async">async</a></code>を指定してもよいが、<code id="the-script-element:attr-script-src-8"><a href="#attr-script-src">src</a></code>属性が存在しない限り、いずれかを指定してはならない。<span>モジュールスクリプト</span>は<code id="the-script-element:attr-script-async-6"><a href="#attr-script-async">async</a></code>属性を指定してもよいが、<code id="the-script-element:attr-script-defer-6"><a href="#attr-script-defer">defer</a></code>属性を指定してはならない。<div class="status"><input onclick="toggleStatus(this)" value="⋰" type="button"><p class="support"><strong>Support:</strong> script-defer<span class="and_chr yes"><span>Chrome for Android</span> <span>80+</span></span><span class="chrome yes"><span>Chrome</span> <span>8+</span></span><span class="ios_saf yes"><span>iOS Safari</span> <span>5.0+</span></span><span class="firefox yes"><span>Firefox</span> <span>3.5+</span></span><span class="safari yes"><span>Safari</span> <span>5+</span></span><span class="samsung yes"><span>Samsung Internet</span> <span>4+</span></span><span class="and_uc yes"><span>UC Browser for Android</span> <span>12.12+</span></span><span class="edge yes"><span>Edge</span> <span>12+</span></span><span class="ie yes"><span>IE</span> <span>10+</span></span><span class="opera yes"><span>Opera</span> <span>15+</span></span><span class="op_mini no"><span>Opera Mini</span> <span>None</span></span><span class="android yes"><span>Android Browser</span> <span>3+</span></span><p class="caniuse">Source: <a href="https://caniuse.com/#feat=script-defer">caniuse.com</a><p class="support"><strong>Support:</strong> script-async<span class="and_chr yes"><span>Chrome for Android</span> <span>80+</span></span><span class="chrome yes"><span>Chrome</span> <span>8+</span></span><span class="ios_saf yes"><span>iOS Safari</span> <span>5.0+</span></span><span class="firefox yes"><span>Firefox</span> <span>3.6+</span></span><span class="safari yes"><span>Safari</span> <span>5.1+</span></span><span class="samsung yes"><span>Samsung Internet</span> <span>4+</span></span><span class="and_uc yes"><span>UC Browser for Android</span> <span>12.12+</span></span><span class="edge yes"><span>Edge</span> <span>12+</span></span><span class="ie yes"><span>IE</span> <span>10+</span></span><span class="opera yes"><span>Opera</span> <span>15+</span></span><span class="op_mini no"><span>Opera Mini</span> <span>None</span></span><span class="android yes"><span>Android Browser</span> <span>3+</span></span><p class="caniuse">Source: <a href="https://caniuse.com/#feat=script-async">caniuse.com</a></div>

  <p>これらの属性を使用して、スクリプトの種類によって選択できる複数の可能なモードが存在する。</p>

  <p><span>クラシックスクリプト</span>について、<code id="the-script-element:attr-script-async-7"><a href="#attr-script-async">async</a></code>属性が存在する場合、クラシックスクリプトは、構文解析と<span>並行して</span>フェッチされるとすぐに（潜在的に構文解析が完了する前に）利用可能になると評価される。<code id="the-script-element:attr-script-async-8"><a href="#attr-script-async">async</a></code>が存在しないが<code id="the-script-element:attr-script-defer-7"><a href="#attr-script-defer">defer</a></code>属性が存在する場合、クラシックスクリプトは、<span>並行して</span>フェッチされ、ページが解析終了した際に評価される。いずれの属性も存在しない場合、スクリプトは、両方が完了するまで解析を阻止して、すぐにフェッチされ評価される。</p>

  <p><span>モジュールスクリプト</span>について、<code id="the-script-element:attr-script-async-9"><a href="#attr-script-async">async</a></code>属性が存在する場合、モジュールスクリプトとそのすべての依存関係は、構文解析と<span>並行して</span>フェッチされ、モジュールスクリプトは利用可能になるとすぐに（潜在的に構文解析が完了する前に）評価される。そうでなければ、モジュールスクリプトとその依存関係は、構文解析と<span>並行して</span>フェッチされ、ページが解析終了した際に評価される。（<code id="the-script-element:attr-script-defer-8"><a href="#attr-script-defer">defer</a></code>属性は、モジュールスクリプトに影響しない。）</p>

  <p>これは、次の模式図にすべて要約される：</p>

  <p><img src="https://html.spec.whatwg.org/multipage/images/asyncdefer.svg" style="width: 80%; min-width: 820px;" alt="&lt;script>のために、解析はフェッチと実行によって中断される。With &lt;script defer>, fetching is parallel to parsing and execution takes place after all parsing has finished. And with &lt;script async>, fetching is parallel to parsing but once it finishes parsing is interrupted to execute the script. &lt;script type="module">のストーリーは&lt;script defer>に似ているが、依存関係もフェッチされ、&lt;script type="module" async>のストーリーは追加の依存関係のフェッチを伴う&lt;script async>に似ている。"></p>

  <p class="note">これら属性の正確な処理の詳細は、主に歴史的な理由から、いくぶん自明でない、多くのHTMLの側面を含む。したがって、実装要求は必然的に仕様のあらゆる場所に散在している。（この節の）下記のアルゴリズムは、この処理の中核を説明するが、これらのアルゴリズムが参照する、およびHTMLにおける<code id="the-script-element:the-script-element-5"><a href="#the-script-element">script</a></code>の<a href="#scriptTag">開始</a>タグと<a href="#scriptEndTag">終了</a>タグに対する構文解析規則、<a href="#scriptForeignEndTag">無関係なコンテンツで</a>、<a href="#scriptTagXML">XMLで</a>、<code id="the-script-element:dom-document-write"><a href="dynamic-markup-insertion.html#dom-document-write">document.write()</a></code>メソッドに対する規則、<a href="webappapis.html#scripting">スクリプト</a>の取り扱いなどによって参照される。</p>

  <p>たとえ<code id="the-script-element:attr-script-async-10"><a href="#attr-script-async">async</a></code>属性が指定されても、デフォルトとなるブロッキング動作の代わりに<code id="the-script-element:attr-script-defer-11"><a href="#attr-script-defer">defer</a></code>の動作をフォールバックするために、<code id="the-script-element:attr-script-defer-10"><a href="#attr-script-defer">defer</a></code>のみをサポートする（かつ<code id="the-script-element:attr-script-async-11"><a href="#attr-script-async">async</a></code>をサポートしない）レガシーウェブブラウザーをもたらすため、<code id="the-script-element:attr-script-defer-9"><a href="#attr-script-defer">defer</a></code>属性は指定されてもよい。</p>

  <p><dfn id="attr-script-crossorigin"><code>crossorigin</code></dfn>属性は<a id="the-script-element:cors-settings-attribute" href="urls-and-fetching.html#cors-settings-attribute">CORS設定属性</a>である。<span>クラシックスクリプト</span>について、スクリプトが他の<a href="origin.html#concept-origin" id="the-script-element:concept-origin">生成元</a>から得られる場合、エラー情報が公開されるかどうかを制御する。<span>モジュールスクリプト</span>について、クロスオリジンのリクエストに使用される<a href="https://triple-underscore.github.io/Fetch-ja.html#concept-request-credentials-mode" id="the-script-element:concept-request-credentials-mode" data-x-internal="concept-request-credentials-mode">資格情報モード</a>を制御する。</p>

  <p class="note"><span>クラシックスクリプト</span>とは異なり、<span>モジュールスクリプト</span>は、クロスオリジンフェッチのために<a href="https://triple-underscore.github.io/Fetch-ja.html#http-cors-protocol" id="the-script-element:cors-protocol" data-x-internal="cors-protocol">CORSプロトコル</a>を使用する必要がある。</p>

  <p><dfn data-dfn-for="script" id="attr-script-integrity" data-dfn-type="element-attr" data-export=""><code>integrity</code></dfn>属性は、この要素が責任を負うリクエストに対する<a href="https://fetch.spec.whatwg.org/#concept-request-integrity-metadata" id="the-script-element:concept-request-integrity-metadata" data-x-internal="concept-request-integrity-metadata">完全性メタデータ</a>を表す。値はテキストである。<code id="the-script-element:attr-script-src-9"><a href="#attr-script-src">src</a></code>属性が指定されていない場合、<code id="the-script-element:attr-script-integrity-3"><a href="#attr-script-integrity">integrity</a></code>属性は指定してはならない。<a href="references.html#refsSRI">[SRI]</a></p>

  <p><dfn id="attr-script-referrerpolicy"><code>referrerpolicy</code></dfn>属性は、<a id="the-script-element:referrer-policy-attribute" href="urls-and-fetching.html#referrer-policy-attribute">リファラポリシー属性</a>である。その目的は、スクリプトを<a href="https://triple-underscore.github.io/Fetch-ja.html#concept-fetch" id="the-script-element:concept-fetch-2" data-x-internal="concept-fetch">フェッチする</a>ときに使用される<a id="the-script-element:referrer-policy-2" href="https://w3c.github.io/webappsec-referrer-policy/#referrer-policy" data-x-internal="referrer-policy">リファラポリシー</a>と、そこからインポートされたスクリプトを設定することにある。<a href="references.html#refsREFERRERPOLICY">[REFERRERPOLICY]</a></p>

  <div class="example"><p>インポートされたスクリプトをフェッチするときに使用されているが他のサブリソースを取得していないときに使用されている<code id="the-script-element:the-script-element-6"><a href="#the-script-element">script</a></code>のリファラポリシーの例：</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>script</c-> <c- e>referrerpolicy</c-><c- o>=</c-><c- s>"origin"</c-><c- p>></c->
  fetch<c- p>(</c-><c- t>'/api/data'</c-><c- p>);</c->    <c- c1>// not fetched with &lt;script>'s referrer policy</c->
  <c- kr>import</c-><c- p>(</c-><c- t>'./utils.mjs'</c-><c- p>);</c-> <c- c1>// is fetched with &lt;script>'s referrer policy ("origin" in this case)</c->
<c- p>&lt;/</c-><c- f>script</c-><c- p>></c-></code></pre>
  </div>

  <p><code id="the-script-element:attr-script-src-10"><a href="#attr-script-src">src</a></code>、<code id="the-script-element:attr-script-type-7"><a href="#attr-script-type">type</a></code>、<code id="the-script-element:attr-script-nomodule-4"><a href="#attr-script-nomodule">nomodule</a></code>、<code id="the-script-element:attr-script-async-12"><a href="#attr-script-async">async</a></code>、<code id="the-script-element:attr-script-defer-12"><a href="#attr-script-defer">defer</a></code>、<code id="the-script-element:attr-script-crossorigin-3"><a href="#attr-script-crossorigin">crossorigin</a></code>、<code id="the-script-element:attr-script-integrity-4"><a href="#attr-script-integrity">integrity</a></code>および<code id="the-script-element:attr-script-referrerpolicy-3"><a href="#attr-script-referrerpolicy">referrerpolicy</a></code>を動的に変更する属性は直接的な影響はない。これらの属性は、下記の特定の時間でのみ使用される。</p> 

  

  <dl class="domintro"><dt><var>script</var> . <code id="dom-script-text">text</code> [ = <var>value</var> ]<dd><p>要素の<a id="the-script-element:child-text-content" href="https://dom.spec.whatwg.org/#concept-child-text-content" data-x-internal="child-text-content">子テキストコンテンツ</a>を返す。</p>

    <p>与えられた値を持つ要素の子を置換するために、設定できる。</p>

   </dl>

  

  <p class="note"><code id="the-script-element:dom-document-write-2"><a href="dynamic-markup-insertion.html#dom-document-write">document.write()</a></code>メソッドを使用して挿入するとき、<a href="#document-written-scripts-intervention">通常は</a><code id="the-script-element:the-script-element-7"><a href="#the-script-element">script</a></code>要素が実行される（一般に、スクリプトの実行またはHTMLの解析をブロックする）。<code id="the-script-element:dom-innerhtml"><a data-x-internal="dom-innerhtml" href="https://w3c.github.io/DOM-Parsing/#dom-element-innerhtml">innerHTML</a></code>属性と<code id="the-script-element:dom-outerhtml"><a data-x-internal="dom-outerhtml" href="https://w3c.github.io/DOM-Parsing/#dom-element-outerhtml">outerHTML</a></code>属性を使用して挿入する場合、それらは一切実行されない。</p>

  <div class="example"><p>次の例において、2つの<code id="the-script-element:the-script-element-8"><a href="#the-script-element">script</a></code>要素が使用される。1つは外部の<span>クラシックスクリプト</span>を埋め込み、もう1つは<a href="#data-block" id="the-script-element:data-block-3">データブロック</a>のようないくつかのデータを含む。</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>script</c-> <c- e>src</c-><c- o>=</c-><c- s>"game-engine.js"</c-><c- p>>&lt;/</c-><c- f>script</c-><c- p>></c->
<c- p>&lt;</c-><c- f>script</c-> <c- e>type</c-><c- o>=</c-><c- s>"text/x-game-map"</c-><c- p>></c->
<c- p>........</c->U<c- p>.........</c->e
o<c- p>............</c->A<c- p>....</c->e
<c- p>.....</c->A<c- p>.....</c->AAA<c- p>....</c->e
<c- p>.</c->A<c- p>..</c->AAA<c- p>...</c->AAAAA<c- p>...</c->e
<c- p>&lt;/</c-><c- f>script</c-><c- p>></c-></code></pre>

   <p>この場合のデータは、ビデオゲームのマップを生成するスクリプトによって使用されるかもしれない。しかし、データはそのように使用する必要はない。おそらく実際にマップデータは、ページのマークアップの他の部分に埋め込まれており、ここでデータブロックは、ゲームマップで特定の機能を探しているユーザーを支援するサイトの検索エンジンによって単に使用される。</p>

  </div>

  <div class="example"><p>次のサンプルは、<code id="the-script-element:the-script-element-9"><a href="#the-script-element">script</a></code>要素が外部<span>モジュールスクリプト</span>を含めるために使用される方法を示す。また、フォームの出力を初期化する場合に、文書が解析されている間に<code id="the-script-element:the-script-element-10"><a href="#the-script-element">script</a></code>要素がスクリプトを呼び出すために使用されうる方法を示す。</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>script</c-><c- p>></c->
 <c- a>function</c-> calculate<c- p>(</c->form<c- p>)</c-> <c- p>{</c->
   <c- a>var</c-> price <c- o>=</c-> <c- mi>52000</c-><c- p>;</c->
   <c- k>if</c-> <c- p>(</c->form<c- p>.</c->elements<c- p>.</c->brakes<c- p>.</c->checked<c- p>)</c->
     price <c- o>+=</c-> <c- mi>1000</c-><c- p>;</c->
   <c- k>if</c-> <c- p>(</c->form<c- p>.</c->elements<c- p>.</c->radio<c- p>.</c->checked<c- p>)</c->
     price <c- o>+=</c-> <c- mi>2500</c-><c- p>;</c->
   <c- k>if</c-> <c- p>(</c->form<c- p>.</c->elements<c- p>.</c->turbo<c- p>.</c->checked<c- p>)</c->
     price <c- o>+=</c-> <c- mi>5000</c-><c- p>;</c->
   <c- k>if</c-> <c- p>(</c->form<c- p>.</c->elements<c- p>.</c->sticker<c- p>.</c->checked<c- p>)</c->
     price <c- o>+=</c-> <c- mi>250</c-><c- p>;</c->
   form<c- p>.</c->elements<c- p>.</c->result<c- p>.</c->value <c- o>=</c-> price<c- p>;</c->
 <c- p>}</c->
<c- p>&lt;/</c-><c- f>script</c-><c- p>></c->
<c- p>&lt;</c-><c- f>form</c-> <c- e>name</c-><c- o>=</c-><c- s>"pricecalc"</c-> <c- e>onsubmit</c-><c- o>=</c-><c- s>"return false"</c-> <c- e>onchange</c-><c- o>=</c-><c- s>"calculate(this)"</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>fieldset</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>legend</c-><c- p>></c->Work out the price of your car<c- p>&lt;/</c-><c- f>legend</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>p</c-><c- p>></c->Base cost: £52000.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>p</c-><c- p>></c->Select additional options:<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>ul</c-><c- p>></c->
   <c- p>&lt;</c-><c- f>li</c-><c- p>>&lt;</c-><c- f>label</c-><c- p>>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>checkbox</c-> <c- e>name</c-><c- o>=</c-><c- s>brakes</c-><c- p>></c-> Ceramic brakes (£1000)<c- p>&lt;/</c-><c- f>label</c-><c- p>>&lt;/</c-><c- f>li</c-><c- p>></c->
   <c- p>&lt;</c-><c- f>li</c-><c- p>>&lt;</c-><c- f>label</c-><c- p>>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>checkbox</c-> <c- e>name</c-><c- o>=</c-><c- s>radio</c-><c- p>></c-> Satellite radio (£2500)<c- p>&lt;/</c-><c- f>label</c-><c- p>>&lt;/</c-><c- f>li</c-><c- p>></c->
   <c- p>&lt;</c-><c- f>li</c-><c- p>>&lt;</c-><c- f>label</c-><c- p>>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>checkbox</c-> <c- e>name</c-><c- o>=</c-><c- s>turbo</c-><c- p>></c-> Turbo charger (£5000)<c- p>&lt;/</c-><c- f>label</c-><c- p>>&lt;/</c-><c- f>li</c-><c- p>></c->
   <c- p>&lt;</c-><c- f>li</c-><c- p>>&lt;</c-><c- f>label</c-><c- p>>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>checkbox</c-> <c- e>name</c-><c- o>=</c-><c- s>sticker</c-><c- p>></c-> "XZ" sticker (£250)<c- p>&lt;/</c-><c- f>label</c-><c- p>>&lt;/</c-><c- f>li</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>ul</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>p</c-><c- p>></c->Total: £<c- p>&lt;</c-><c- f>output</c-> <c- e>name</c-><c- o>=</c-><c- s>result</c-><c- p>>&lt;/</c-><c- f>output</c-><c- p>>&lt;/</c-><c- f>p</c-><c- p>></c->
 <c- p>&lt;/</c-><c- f>fieldset</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>script</c-><c- p>></c->
  calculate<c- p>(</c->document<c- p>.</c->forms<c- p>.</c->pricecalc<c- p>);</c->
 <c- p>&lt;/</c-><c- f>script</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>form</c-><c- p>></c-></code></pre>

  </div>

  <div id="script-type-module-example-1" class="example"><p>次のサンプルは、<code id="the-script-element:the-script-element-11"><a href="#the-script-element">script</a></code>要素が外部<span>モジュールスクリプト</span>を含めるために使用される方法を示す。<pre><code class='html'><c- p>&lt;</c-><c- f>script</c-> <c- e>type</c-><c- o>=</c-><c- s>"module"</c-> <c- e>src</c-><c- o>=</c-><c- s>"app.mjs"</c-><c- p>>&lt;/</c-><c- f>script</c-><c- p>></c-></code></pre>

   <p>このモジュール、およびそのすべての依存関係（ソースファイル内のJavaScript <code>import</code>文を通して表現される）は、フェッチされる。一度、全体の結果としてモジュールグラフがインポートされ、かつ文書が解析を完了したら、<code>app.mjs</code>のコンテンツは評価される。</p>

   <p>さらに、同じ<code>Window</code>内の他の<code id="the-script-element:the-script-element-12"><a href="#the-script-element">script</a></code>要素からのコードが<code>app.mjs</code>からモジュールをインポートする場合（たとえば<code>import "./app.mjs";</code>経由で）、より早い<code id="the-script-element:the-script-element-13"><a href="#the-script-element">script</a></code>要素によって作成された同じ<span>モジュールスクリプト</span>がインポートされる。</p>

  </div>

  <div id="script-nomodule-example" class="example"><p>次の例は、モダンなユーザーエージェント用の<span>モジュールスクリプト</span>と古いユーザーエージェント用の<span>クラシックスクリプト</span>を含める方法を示している：</p>

  <pre><code class='html'><c- p>&lt;</c-><c- f>script</c-> <c- e>type</c-><c- o>=</c-><c- s>"module"</c-> <c- e>src</c-><c- o>=</c-><c- s>"app.mjs"</c-><c- p>>&lt;/</c-><c- f>script</c-><c- p>></c->
<c- p>&lt;</c-><c- f>script</c-> <c- e>nomodule</c-> <c- e>defer</c-> <c- e>src</c-><c- o>=</c-><c- s>"classic-app-bundle.js"</c-><c- p>>&lt;/</c-><c- f>script</c-><c- p>></c-></code></pre>

  <p><span>モジュールスクリプト</span>をサポートするモダンなユーザーエージェントでは、<code id="the-script-element:attr-script-nomodule-5"><a href="#attr-script-nomodule">nomodule</a></code>属性を持つ<code id="the-script-element:the-script-element-14"><a href="#the-script-element">script</a></code>要素は無視され、"<code>module</code>"の<code id="the-script-element:attr-script-type-8"><a href="#attr-script-type">type</a></code>をもつ<code id="the-script-element:the-script-element-15"><a href="#the-script-element">script</a></code>要素がフェッチされ、評価される（<span>モジュールスクリプト</span>として）。逆に、古いユーザエージェントは、"<code>module</code>"の<code id="the-script-element:attr-script-type-9"><a href="#attr-script-type">type</a></code>をもつ<code id="the-script-element:the-script-element-16"><a href="#the-script-element">script</a></code>要素を、そのスクリプトタイプを未知のものとして無視するが、<code id="the-script-element:attr-script-nomodule-6"><a href="#attr-script-nomodule">nomodule</a></code>属性を実装しないため、他の<code id="the-script-element:the-script-element-17"><a href="#the-script-element">script</a></code>要素を（<span>クラシックスクリプト</span>として）取り出して評価することは問題ない。</p>

  </div>

  <div id="script-type-module-example-2" class="example"><p>次のサンプルは、​​<code id="the-script-element:the-script-element-18"><a href="#the-script-element">script</a></code>要素が（たとえばニュースサイト上で）より面白い読書体験を生み出すために、文書のテキストで多数の置換を行うインライン<span>モジュールスクリプト</span>を書くために使用することができる方法を示す：<a href="references.html#refsXKCD1288">[XKCD1288]</a></p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>script</c-> <c- e>type</c-><c- o>=</c-><c- s>"module"</c-><c- p>></c->
 <c- kr>import</c-> <c- p>{</c-> walkAllTextNodeDescendants <c- p>}</c-> from <c- u>"./dom-utils.mjs"</c-><c- p>;</c->

 <c- kr>const</c-> substitutions <c- o>=</c-> <c- k>new</c-> Map<c- p>([</c->
   <c- p>[</c-><c- u>"witnesses"</c-><c- p>,</c-> <c- u>"these dudes I know"</c-><c- p>]</c->
   <c- p>[</c-><c- u>"allegedly"</c-><c- p>,</c-> <c- u>"kinda probably"</c-><c- p>]</c->
   <c- p>[</c-><c- u>"new study"</c-><c- p>,</c-> <c- u>"Tumblr post"</c-><c- p>]</c->
   <c- p>[</c-><c- u>"rebuild"</c-><c- p>,</c-> <c- u>"avenge"</c-><c- p>]</c->
   <c- p>[</c-><c- u>"space"</c-><c- p>,</c-> <c- u>"spaaace"</c-><c- p>]</c->
   <c- p>[</c-><c- u>"Google glass"</c-><c- p>,</c-> <c- u>"Virtual Boy"</c-><c- p>]</c->
   <c- p>[</c-><c- u>"smartphone"</c-><c- p>,</c-> <c- u>"Pokédex"</c-><c- p>]</c->
   <c- p>[</c-><c- u>"electric"</c-><c- p>,</c-> <c- u>"atomic"</c-><c- p>]</c->
   <c- p>[</c-><c- u>"Senator"</c-><c- p>,</c-> <c- u>"Elf-Lord"</c-><c- p>]</c->
   <c- p>[</c-><c- u>"car"</c-><c- p>,</c-> <c- u>"cat"</c-><c- p>]</c->
   <c- p>[</c-><c- u>"election"</c-><c- p>,</c-> <c- u>"eating contest"</c-><c- p>]</c->
   <c- p>[</c-><c- u>"Congressional leaders"</c-><c- p>,</c-> <c- u>"river spirits"</c-><c- p>]</c->
   <c- p>[</c-><c- u>"homeland security"</c-><c- p>,</c-> <c- u>"Homestar Runner"</c-><c- p>]</c->
   <c- p>[</c-><c- u>"could not be reached for comment"</c-><c- p>,</c-> <c- u>"is guilty and everyone knows it"</c-><c- p>]</c->
 <c- p>]);</c->

 <c- a>function</c-> substitute<c- p>(</c->textNode<c- p>)</c-> <c- p>{</c->
   <c- k>for</c-> <c- p>(</c-><c- kr>const</c-> <c- p>[</c->before<c- p>,</c-> after<c- p>]</c-> <c- k>of</c-> substitutions<c- p>.</c->entries<c- p>())</c-> <c- p>{</c->
     textNode<c- p>.</c->data <c- o>=</c-> textNode<c- p>.</c->data<c- p>.</c->replace<c- p>(</c-><c- k>new</c-> RegExp<c- p>(</c-><c- sb>`\\b</c-><c- si>${</c->before<c- si>}</c-><c- sb>\\b`</c-><c- p>,</c-> <c- u>"ig"</c-><c- p>),</c-> after<c- p>);</c->
   <c- p>}</c->
 <c- p>}</c->

 walkAllTextNodeDescendants<c- p>(</c->document<c- p>.</c->body<c- p>,</c-> substitute<c- p>);</c->
<c- p>&lt;/</c-><c- f>script</c-><c- p>></c-></code></pre>

   <p>モジュールスクリプトを使用して得られたいくつかの注目すべき機能は、他のJavaScriptモジュール、デフォルトでstrictモード、およびトップレベル宣言が<span>グローバルオブジェクト</span>に新しいプロパティを導入しない方法から関数をインポートする機能を含む。両方の文書の解析が完了し、およびその依存関係（<code>dom-utils.mjs</code>）がフェッチされかつ評価されるまで、この<code id="the-script-element:the-script-element-19"><a href="#the-script-element">script</a></code>要素が文書に表示されるかを問わず、評価されないことにも注意する。</p>

  </div>

  


  <h5 id="scriptingLanguages"><span class="secno">4.12.1.1</span> スクリプト言語<a href="#scriptingLanguages" class="self-link"></a></h5>

  

  <p>サーバーはJavaScriptリソースに<code id="scriptingLanguages:text/javascript"><a href="indices.html#text/javascript">text/javascript</a></code>を使用すべきである。サーバーは、JavaScriptリソースに他の<a href="https://mimesniff.spec.whatwg.org/#javascript-mime-type" id="scriptingLanguages:javascript-mime-type" data-x-internal="javascript-mime-type">JavaScript MIMEタイプ</a>を使用すべきではなく、非<a href="https://mimesniff.spec.whatwg.org/#javascript-mime-type" id="scriptingLanguages:javascript-mime-type-2" data-x-internal="javascript-mime-type">JavaScript MIMEタイプ</a>を使用してはならない。</p>

  


  <h5 id="restrictions-for-contents-of-script-elements"><span class="secno">4.12.1.2</span> <dfn><code>script</code>要素のコンテンツの制約</dfn><a href="#restrictions-for-contents-of-script-elements" class="self-link"></a></h5>

  <p class="note">The easiest and safest way to avoid the rather strange restrictions described in this section is to always escape an ASCII case-insensitive match for "<code>&lt;!--</code>" as "<code>&lt;\!--</code>", "<code>&lt;script</code>" as "<code>&lt;\script</code>", and "<code>&lt;/script</code>" as "<code>&lt;\/script</code>" when these sequences appear in literals in scripts (e.g. in strings, regular expressions, or comments), and to avoid writing code that uses such constructs in expressions. この節の制限がトリガーになりやすい落とし穴を回避する：すなわち、歴史的な理由のために、HTMLにおける<code id="restrictions-for-contents-of-script-elements:the-script-element"><a href="#the-script-element">script</a></code>ブロックの解析は、これらのシーケンスを考えた場合に直観的でない働きをする奇妙で風変わりな慣習である。</p>

  <p><code id="restrictions-for-contents-of-script-elements:the-script-element-2"><a href="#the-script-element">script</a></code>要素の<a id="restrictions-for-contents-of-script-elements:descendant-text-content" href="https://triple-underscore.github.io/DOM4-ja.html#concept-descendant-text-content" data-x-internal="descendant-text-content">子孫テキストコンテンツ</a>は、Unicodeの文字セットである次のABNFの<code>script</code>生成物と一致しなければならない。<a href="references.html#refsABNF">[ABNF]</a></p>

  <pre><code class='abnf'><c- nc>script</c->        <c- o>=</c-> <c- nc>outer</c-> <c- o>*</c-><c- p>(</c-> <c- nc>comment-open</c-> <c- nc>inner</c-> <c- nc>comment-close</c-> <c- nc>outer</c-> <c- p>)</c->

<c- nc>outer</c->         <c- o>=</c-> &lt; <c- nc>any</c-> <c- nc>string</c-> <c- nc>that</c-> <c- nc>doesn</c->'t <c- nc>contain</c-> a <c- nc>substring</c-> <c- nc>that</c-> <c- nc>matches</c-> <c- nc>not-in-outer</c-> >
<c- nc>not-in-outer</c->  <c- o>=</c-> <c- nc>comment-open</c->
<c- nc>inner</c->         <c- o>=</c-> &lt; <c- nc>any</c-> <c- nc>string</c-> <c- nc>that</c-> <c- nc>doesn</c->'t <c- nc>contain</c-> a <c- nc>substring</c-> <c- nc>that</c-> <c- nc>matches</c-> <c- nc>not-in-inner</c-> >
<c- nc>not-in-inner</c->  <c- o>=</c-> <c- nc>comment-close</c-> <c- o>/</c-> <c- nc>script-open</c->

<c- nc>comment-open</c->  <c- o>=</c-> <c- l>"&lt;!--"</c->
<c- nc>comment-close</c-> <c- o>=</c-> <c- l>"-->"</c->
<c- nc>script-open</c->   <c- o>=</c-> <c- l>"&lt;"</c-> s c r i p t <c- nc>tag-end</c->

s             <c- o>=</c->  <c- l>%x0053</c-> <c- c1>; U+0053 LATIN CAPITAL LETTER S</c->
s             <c- o>=/</c-> <c- l>%x0073</c-> <c- c1>; U+0073 LATIN SMALL LETTER S</c->
c             <c- o>=</c->  <c- l>%x0043</c-> <c- c1>; U+0043 LATIN CAPITAL LETTER C</c->
c             <c- o>=/</c-> <c- l>%x0063</c-> <c- c1>; U+0063 LATIN SMALL LETTER C</c->
r             <c- o>=</c->  <c- l>%x0052</c-> <c- c1>; U+0052 LATIN CAPITAL LETTER R</c->
r             <c- o>=/</c-> <c- l>%x0072</c-> <c- c1>; U+0072 LATIN SMALL LETTER R</c->
i             <c- o>=</c->  <c- l>%x0049</c-> <c- c1>; U+0049 LATIN CAPITAL LETTER I</c->
i             <c- o>=/</c-> <c- l>%x0069</c-> <c- c1>; U+0069 LATIN SMALL LETTER I</c->
p             <c- o>=</c->  <c- l>%x0050</c-> <c- c1>; U+0050 LATIN CAPITAL LETTER P</c->
p             <c- o>=/</c-> <c- l>%x0070</c-> <c- c1>; U+0070 LATIN SMALL LETTER P</c->
t             <c- o>=</c->  <c- l>%x0054</c-> <c- c1>; U+0054 LATIN CAPITAL LETTER T</c->
t             <c- o>=/</c-> <c- l>%x0074</c-> <c- c1>; U+0074 LATIN SMALL LETTER T</c->

<c- nc>tag-end</c->       <c- o>=</c->  <c- l>%x0009</c-> <c- c1>; U+0009 CHARACTER TABULATION (tab)</c->
<c- nc>tag-end</c->       <c- o>=/</c-> <c- l>%x000A</c-> <c- c1>; U+000A LINE FEED (LF)</c->
<c- nc>tag-end</c->       <c- o>=/</c-> <c- l>%x000C</c-> <c- c1>; U+000C FORM FEED (FF)</c->
<c- nc>tag-end</c->       <c- o>=/</c-> <c- l>%x0020</c-> <c- c1>; U+0020 SPACE</c->
<c- nc>tag-end</c->       <c- o>=/</c-> <c- l>%x002F</c-> <c- c1>; U+002F SOLIDUS (/)</c->
<c- nc>tag-end</c->       <c- o>=/</c-> <c- l>%x003E</c-> <c- c1>; U+003E GREATER-THAN SIGN (>)</c-></code></pre>

  <p><code id="restrictions-for-contents-of-script-elements:the-script-element-3"><a href="#the-script-element">script</a></code>要素が<a href="#inline-documentation-for-external-scripts" id="restrictions-for-contents-of-script-elements:inline-documentation-for-external-scripts">スクリプト文書</a>を含む場合、以下の節で記述されるように、要素のコンテンツのさらなる制約がある。</p>

  <div class="example"><p>以下のスクリプトは、この問題を示している。このように、文字列が含まれているスクリプトがあるとする：</p>

   <pre><code class='js'><c- a>var</c-> example <c- o>=</c-> <c- t>'Consider this string: &lt;!-- &lt;script>'</c-><c- p>;</c->
console<c- p>.</c->log<c- p>(</c->example<c- p>);</c-></code></pre>

   <p>これが<code id="restrictions-for-contents-of-script-elements:the-script-element-4"><a href="#the-script-element">script</a></code>ブロックで直接この文字列を入れていた場合、上記の制限に違反しない。</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>script</c-><c- p>></c->
  <c- a>var</c-> example <c- o>=</c-> <c- t>'Consider this string: &lt;!-- &lt;script>'</c-><c- p>;</c->
  console<c- p>.</c->log<c- p>(</c->example<c- p>);</c->
<c- p>&lt;/</c-><c- f>script</c-><c- p>></c-></code></pre>

   <p>しかし、より大きな問題かつ、スクリプトがそれらの制限に違反しない理由は、実際にスクリプトが奇妙に解析されるだろうということである。<em>上記のスクリプトブロックは終了していない</em>。それは、実際には依然として<code id="restrictions-for-contents-of-script-elements:the-script-element-5"><a href="#the-script-element">script</a></code>ブロックの一部であるこのスニペットにおいて"<code>&lt;/script></code>"終了タグのように見えるものである。（スクリプトが終了していないため）スクリプトは実行しない。スクリプトが何らかの形で実行した場合、以下のようにマークアップが見えた場合、（ここで強調される）スクリプトが妥当なJavaScriptでないので、スクリプトは失敗するだろう：</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>script</c-><c- p>></c-><mark>
  <c- a>var</c-> example <c- o>=</c-> <c- t>'Consider this string: &lt;!-- &lt;script>'</c-><c- p>;</c->
  console<c- p>.</c->log<c- p>(</c->example<c- p>);</c->
<c- p>&lt;/</c-><c- f>script</c-><c- p>></c->
<c- c>&lt;!-- despite appearances, this is actually part of the script still! --></c->
<c- p>&lt;</c-><c- f>script</c-><c- p>></c->
 <c- p>...</c-> <c- c1>// this is the same script block still...</c->
</mark><c- p>&lt;/</c-><c- f>script</c-><c- p>></c-></code></pre>

   <p>ここで起こっていることはレガシーな理由のために、HTMLにおける<code id="restrictions-for-contents-of-script-elements:the-script-element-6"><a href="#the-script-element">script</a></code>要素で"<code>&lt;!--</code>"および"<code>&lt;script</code>"文字列は、パーサがブロックを閉じる検討するためにバランスをとる必要がある。</p>

   <p>この節の最初に述べたように、問題の文字列をエスケープすることによって、問題は完全に回避されている：</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>script</c-><c- p>></c-><mark>
  <c- c1>// Note: `\s` is an escape sequence for `s`.</c->
  <c- a>var</c-> example <c- o>=</c-> <c- t>'Consider this string: &lt;\!-- &lt;\script>'</c-><c- p>;</c->
  console<c- p>.</c->log<c- p>(</c->example<c- p>);</c->
</mark><c- p>&lt;/</c-><c- f>script</c-><c- p>></c->
<c- c>&lt;!-- this is just a comment between script blocks --></c->
<c- p>&lt;</c-><c- f>script</c-><c- p>></c-><mark>
 <c- p>...</c-> <c- c1>// this is a new script block</c->
</mark><c- p>&lt;/</c-><c- f>script</c-><c- p>></c-></code></pre>

   <p>次の例のように、これらのシーケンスは自然にスクリプト式で出現可能である：</p>

   <pre><code class='js'><c- k>if</c-> <c- p>(</c->x<c- c>&lt;!--</c->y<c- p>)</c-> <c- p>{</c-> <c- p>...</c-> <c- p>}</c->
<c- k>if</c-> <c- p>(</c-> player<c- o>&lt;</c->script <c- p>)</c-> <c- p>{</c-> <c- p>...</c-> <c- p>}</c-></code></pre>

   <p>このような場合、文字はエスケープすることはできないが、シーケンスが発生しないように式は次のように書き換えることができる：</p>

   <pre><code class='js'><c- k>if</c-> <c- p>(</c->x <c- o>&lt;</c-> <c- o>!--</c->y<c- p>)</c-> <c- p>{</c-> <c- p>...</c-> <c- p>}</c->
<c- k>if</c-> <c- p>(</c-><c- o>!--</c->y <c- o>></c-> x<c- p>)</c-> <c- p>{</c-> <c- p>...</c-> <c- p>}</c->
<c- k>if</c-> <c- p>(</c-><c- o>!</c-><c- p>(</c-><c- o>--</c->y<c- p>)</c-> <c- o>></c-> x<c- p>)</c-> <c- p>{</c-> <c- p>...</c-> <c- p>}</c->
<c- k>if</c-> <c- p>(</c->player <c- o>&lt;</c-> script<c- p>)</c-> <c- p>{</c-> <c- p>...</c-> <c- p>}</c->
<c- k>if</c-> <c- p>(</c->script <c- o>></c-> player<c- p>)</c-> <c- p>{</c-> <c- p>...</c-> <c- p>}</c-></code></pre>

   <p>これを行うとはまた、同様に様々な落とし穴を回避する：関連する歴史的な理由のために、<span>クラシックスクリプト</span>で文字列"&lt;!--"は、"//"のように、実際には行コメントの開始として扱われる。</p>

  </div>


  <h5 id="inline-documentation-for-external-scripts"><span class="secno">4.12.1.3</span> <dfn>外部スクリプトに対するインライン文書</dfn><a href="#inline-documentation-for-external-scripts" class="self-link"></a></h5>

  <p><code id="inline-documentation-for-external-scripts:the-script-element"><a href="#the-script-element">script</a></code>要素の<code id="inline-documentation-for-external-scripts:attr-script-src"><a href="#attr-script-src">src</a></code>属性が指定される場合、もしあれば、<code id="inline-documentation-for-external-scripts:the-script-element-2"><a href="#the-script-element">script</a></code>要素のコンテンツは、要素のコンテンツから分割されるような<code id="inline-documentation-for-external-scripts:dom-script-text"><a href="#dom-script-text">text</a></code> IDL属性値でなければならず、文字セットがUnicodeである下記のABNFで<code>documentation</code>生成物と一致しなければならない。<a href="references.html#refsABNF">[ABNF]</a></p>

  <pre><code class='abnf'><c- nc>documentation</c-> <c- o>=</c-> <c- o>*</c-><c- p>(</c-> <c- o>*</c-><c- p>(</c-> <c- nc>space</c-> <c- o>/</c-> <c- nc>tab</c-> <c- o>/</c-> <c- nc>comment</c-> <c- p>)</c-> <c- p>[</c-> <c- nc>line-comment</c-> <c- p>]</c-> <c- nc>newline</c-> <c- p>)</c->
<c- nc>comment</c->       <c- o>=</c-> <c- nc>slash</c-> <c- nc>star</c-> <c- o>*</c-><c- p>(</c-> <c- nc>not-star</c-> <c- o>/</c-> <c- nc>star</c-> <c- nc>not-slash</c-> <c- p>)</c-> <c- o>1*</c-><c- nc>star</c-> <c- nc>slash</c->
<c- nc>line-comment</c->  <c- o>=</c-> <c- nc>slash</c-> <c- nc>slash</c-> <c- o>*</c-><c- nc>not-newline</c->

<c- c1>; characters</c->
<c- nc>tab</c->           <c- o>=</c-> <c- l>%x0009</c-> <c- c1>; U+0009 CHARACTER TABULATION (tab)</c->
<c- nc>newline</c->       <c- o>=</c-> <c- l>%x000A</c-> <c- c1>; U+000A LINE FEED (LF)</c->
<c- nc>space</c->         <c- o>=</c-> <c- l>%x0020</c-> <c- c1>; U+0020 SPACE</c->
<c- nc>star</c->          <c- o>=</c-> <c- l>%x002A</c-> <c- c1>; U+002A ASTERISK (*)</c->
<c- nc>slash</c->         <c- o>=</c-> <c- l>%x002F</c-> <c- c1>; U+002F SOLIDUS (/)</c->
<c- nc>not-newline</c->   <c- o>=</c-> <c- l>%x0000-0009</c-> <c- o>/</c-> <c- l>%x000B-10FFFF</c->
                <c- c1>; a </c-><a href='https://triple-underscore.github.io/infra-ja.html#scalar-value' data-x-internal='scalar-value' id='inline-documentation-for-external-scripts:scalar-value'><c- c1>scalar value</c-></a><c- c1> other than U+000A LINE FEED (LF)</c->
<c- nc>not-star</c->      <c- o>=</c-> <c- l>%x0000-0029</c-> <c- o>/</c-> <c- l>%x002B-10FFFF</c->
                <c- c1>; a </c-><a href='https://triple-underscore.github.io/infra-ja.html#scalar-value' data-x-internal='scalar-value' id='inline-documentation-for-external-scripts:scalar-value-2'><c- c1>scalar value</c-></a><c- c1> other than U+002A ASTERISK (*)</c->
<c- nc>not-slash</c->     <c- o>=</c-> <c- l>%x0000-002E</c-> <c- o>/</c-> <c- l>%x0030-10FFFF</c->
                <c- c1>; a </c-><a href='https://triple-underscore.github.io/infra-ja.html#scalar-value' data-x-internal='scalar-value' id='inline-documentation-for-external-scripts:scalar-value-3'><c- c1>scalar value</c-></a><c- c1> other than U+002F SOLIDUS (/)</c-></code></pre>

  <p class="note">これは、JavaScriptのコメントで要素のコンテンツを設置するものと一致する。</p>

  <p class="note">この要求は、<code id="inline-documentation-for-external-scripts:the-script-element-3"><a href="#the-script-element">script</a></code>要素のコンテンツの構文上に先の制約に加えて存在する。</p>

  <div class="example"><p>以下は、依然として外部スクリプトファイルを参照する間に文書内で、著者がライセンス情報やAPI情報のような文書を含むことを許可する。<code id="inline-documentation-for-external-scripts:attr-script-src-2"><a href="#attr-script-src">src</a></code>属性を提供する一方で、偶然にも著者が有効なスクリプトのように見えるものが含まないように、構文は制約される。</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>script</c-> <c- e>src</c-><c- o>=</c-><c- s>"cool-effects.js"</c-><c- p>></c->
 <c- c1>// create new instances using:</c->
 <c- c1>//    var e = new Effect();</c->
 <c- c1>// start the effect using .play, stop using .stop:</c->
 <c- c1>//    e.play();</c->
 <c- c1>//    e.stop();</c->
<c- p>&lt;/</c-><c- f>script</c-><c- p>></c-></code></pre>

  </div>


  



  <h4 id="the-noscript-element"><span class="secno">4.12.2</span> <dfn><code>noscript</code></dfn>要素<a href="#the-noscript-element" class="self-link"></a></h4>

  <dl class="element"><dt><a href="dom.html#concept-element-categories" id="the-noscript-element:concept-element-categories">カテゴリー</a>：<dd><a id="the-noscript-element:metadata-content-2" href="dom.html#metadata-content-2">メタデータコンテンツ</a>。<dd><a id="the-noscript-element:flow-content-2" href="dom.html#flow-content-2">フローコンテンツ</a>。<dd><a id="the-noscript-element:phrasing-content-2" href="dom.html#phrasing-content-2">フレージングコンテンツ</a>。<dt><a href="dom.html#concept-element-contexts" id="the-noscript-element:concept-element-contexts">この要素を使用できるコンテキスト</a>：<dd>先祖<code id="the-noscript-element:the-noscript-element"><a href="#the-noscript-element">noscript</a></code>要素が存在しない場合、<a href="https://triple-underscore.github.io/DOM4-ja.html#html-document" id="the-noscript-element:html-documents" data-x-internal="html-documents">HTML文書</a>の<code id="the-noscript-element:the-head-element"><a href="semantics.html#the-head-element">head</a></code>要素内。<dd>先祖<code id="the-noscript-element:the-noscript-element-2"><a href="#the-noscript-element">noscript</a></code>要素が存在しない場合、<a id="the-noscript-element:html-documents-2" href="https://triple-underscore.github.io/DOM4-ja.html#html-document" data-x-internal="html-documents">HTML文書</a>で<a id="the-noscript-element:phrasing-content-2-2" href="dom.html#phrasing-content-2">フレージングコンテンツ</a>が期待される場所。<dt><a href="dom.html#concept-element-content-model" id="the-noscript-element:concept-element-content-model">コンテンツモデル</a>：<dd><span>スクリプトが無効</span>の場合、<code id="the-noscript-element:the-head-element-2"><a href="semantics.html#the-head-element">head</a></code>要素内で：任意の順で、0個以上の<code id="the-noscript-element:the-link-element"><a href="semantics.html#the-link-element">link</a></code>要素、ゼロ個以上の<code id="the-noscript-element:the-style-element"><a href="semantics.html#the-style-element">style</a></code>要素、0個以上の<code id="the-noscript-element:the-meta-element"><a href="semantics.html#the-meta-element">meta</a></code>要素。<dd><span>スクリプトが無効</span>の場合、<code id="the-noscript-element:the-head-element-3"><a href="semantics.html#the-head-element">head</a></code>要素外で：<a id="the-noscript-element:transparent" href="dom.html#transparent">透過的</a>。ただし、<code id="the-noscript-element:the-noscript-element-3"><a href="#the-noscript-element">noscript</a></code>要素の子孫を持ってはならない。<dd>そうでなければ：文で与えられる要件に適合するテキスト。<dt><a href="dom.html#concept-element-tag-omission" id="the-noscript-element:concept-element-tag-omission">text/htmlにおけるタグ省略</a>：<dd>どちらのタグも省略不可。<dt><a href="dom.html#concept-element-attributes" id="the-noscript-element:concept-element-attributes">コンテンツ属性</a>：<dd><a id="the-noscript-element:global-attributes" href="dom.html#global-attributes">グローバル属性</a><dt><a href="dom.html#concept-element-accessibility-considerations" id="the-noscript-element:concept-element-accessibility-considerations">アクセシビリティの考慮</a>：<dd><a href="https://momdo.github.io/html-aria/#el-noscript">著者向け</a>。<dd><a href="https://w3c.github.io/html-aam/#el-noscript">実装者向け</a>。<dt><a href="dom.html#concept-element-dom" id="the-noscript-element:concept-element-dom">DOMインターフェイス</a>：<dd><code>HTMLElement</code>を使用する。</dl>

  <p><code id="the-noscript-element:the-noscript-element-4"><a href="#the-noscript-element">noscript</a></code>要素は、<span>スクリプトが有効である</span>場合は何も<a id="the-noscript-element:represents" href="dom.html#represents">表さ</a>ず、<span>スクリプトが無効である</span>場合は要素の子を<a id="the-noscript-element:represents-2" href="dom.html#represents">表す</a>。これは、文書が解析される方法に影響を与えることによって、スクリプトをサポートするユーザーエージェントとサポートしないユーザーエージェントに異なるマークアップを提示するために使用される。</p>

  <p><a id="the-noscript-element:html-documents-3" href="https://triple-underscore.github.io/DOM4-ja.html#html-document" data-x-internal="html-documents">HTML文書</a>で使用する場合、許可されるコンテンツモデルは次のとおり：</p>

  <dl><dt><span>スクリプトが無効である</span>場合、<code id="the-noscript-element:the-head-element-4"><a href="semantics.html#the-head-element">head</a></code>要素内の<code id="the-noscript-element:the-noscript-element-5"><a href="#the-noscript-element">noscript</a></code>要素に対して<dd><p><code id="the-noscript-element:the-noscript-element-6"><a href="#the-noscript-element">noscript</a></code>要素は、<code id="the-noscript-element:the-link-element-2"><a href="semantics.html#the-link-element">link</a></code>、<code id="the-noscript-element:the-style-element-2"><a href="semantics.html#the-style-element">style</a></code>、および<code id="the-noscript-element:the-meta-element-2"><a href="semantics.html#the-meta-element">meta</a></code>要素のみを含まなければならない。<dt><span>スクリプトが有効である</span>場合、<code id="the-noscript-element:the-head-element-5"><a href="semantics.html#the-head-element">head</a></code>要素内の<code id="the-noscript-element:the-noscript-element-7"><a href="#the-noscript-element">noscript</a></code>要素に対して<dd><p><code id="the-noscript-element:the-noscript-element-8"><a href="#the-noscript-element">noscript</a></code>要素は、テキストのみを含まなければならない。ただし、<var>context</var>要素として<code id="the-noscript-element:the-noscript-element-9"><a href="#the-noscript-element">noscript</a></code>要素をもつ<span>HTML断片解析アルゴリズム</span>を呼び出すものかつ<var>input</var>のようなテキストコンテンツが<code id="the-noscript-element:the-noscript-element-10"><a href="#the-noscript-element">noscript</a></code>要素の子であった場合、<code id="the-noscript-element:the-link-element-3"><a href="semantics.html#the-link-element">link</a></code>、<code id="the-noscript-element:the-style-element-3"><a href="semantics.html#the-style-element">style</a></code>、<code id="the-noscript-element:the-meta-element-3"><a href="semantics.html#the-meta-element">meta</a></code>要素のみからなるノードのリストをもたらさなければならない場合を除く。そして<span>解析エラー</span>でない。<dt><span>スクリプトが無効である</span>場合、<code id="the-noscript-element:the-head-element-6"><a href="semantics.html#the-head-element">head</a></code>要素外の<code id="the-noscript-element:the-noscript-element-11"><a href="#the-noscript-element">noscript</a></code>要素に対して<dd><p><code id="the-noscript-element:the-noscript-element-12"><a href="#the-noscript-element">noscript</a></code>要素のコンテンツモデルは<a id="the-noscript-element:transparent-2" href="dom.html#transparent">透過的</a>であり、同時に<code id="the-noscript-element:the-noscript-element-13"><a href="#the-noscript-element">noscript</a></code>要素が<code id="the-noscript-element:the-noscript-element-14"><a href="#the-noscript-element">noscript</a></code>要素を持ってはならない（<code id="the-noscript-element:the-noscript-element-15"><a href="#the-noscript-element">noscript</a></code>要素を入れ子にできない）追加制限がある。<dt><span>スクリプトが有効である</span>場合、<code id="the-noscript-element:the-head-element-7"><a href="semantics.html#the-head-element">head</a></code>要素外の<code id="the-noscript-element:the-noscript-element-16"><a href="#the-noscript-element">noscript</a></code>要素に対して<dd><p><code id="the-noscript-element:the-noscript-element-17"><a href="#the-noscript-element">noscript</a></code>要素はテキストのみを含まなければならない。ただしテキストは、以下のアルゴリズムが<code id="the-noscript-element:the-noscript-element-18"><a href="#the-noscript-element">noscript</a></code>要素および<code id="the-noscript-element:the-script-element"><a href="#the-script-element">script</a></code>要素をもたない適合文書をもたらすものでなければならず、アルゴリズムでステップは例外を投げるまたは<span>HTMLパーサ</span>に<span>解析エラー</span>を起こさないようにしなければならない：</p>
    

    <ol><li>文書からすべての<code id="the-noscript-element:the-script-element-2"><a href="#the-script-element">script</a></code>要素を取り除く。<li>文書においてすべての<code id="the-noscript-element:the-noscript-element-19"><a href="#the-noscript-element">noscript</a></code>要素のリストを作る。そのリストの各<code id="the-noscript-element:the-noscript-element-20"><a href="#the-noscript-element">noscript</a></code>要素に対して、以下のステップを実行する：<ol><li><var>s</var>を<code id="the-noscript-element:the-noscript-element-21"><a href="#the-noscript-element">noscript</a></code>要素要素の<a id="the-noscript-element:child-text-content" href="https://dom.spec.whatwg.org/#concept-child-text-content" data-x-internal="child-text-content">子テキストコンテンツ</a>とする。<li><code id="the-noscript-element:the-noscript-element-22"><a href="#the-noscript-element">noscript</a></code>要素の<code id="the-noscript-element:dom-outerhtml"><a data-x-internal="dom-outerhtml" href="https://w3c.github.io/DOM-Parsing/#dom-element-outerhtml">outerHTML</a></code>属性を<var>s</var>の値に設定する。（これは、副作用として<code id="the-noscript-element:the-noscript-element-23"><a href="#the-noscript-element">noscript</a></code>要素を文書から除去させる。）<a href="references.html#refsDOMPARSING">[DOMPARSING]</a></ol>

     </ol>

   </dl>

  <p class="note">歴史的な理由により、パーサが呼び出されたときに<span>スクリプトが有効にされたかどうか</span>に基づく<span>HTMLパーサ</span>によって<code id="the-noscript-element:the-noscript-element-24"><a href="#the-noscript-element">noscript</a></code>要素が異なる方法で処理されるので、これらのすべてのこじつけが必要とされる。</p>

  <p><code id="the-noscript-element:the-noscript-element-25"><a href="#the-noscript-element">noscript</a></code>は<a id="the-noscript-element:xml-documents" href="https://triple-underscore.github.io/DOM4-ja.html#xml-document" data-x-internal="xml-documents">XML文書</a>で使用してはならない。</p>

  <p class="note"><code id="the-noscript-element:the-noscript-element-26"><a href="#the-noscript-element">noscript</a></code>要素は<a id="the-noscript-element:syntax" href="syntax.html#syntax">HTML構文</a>でのみ有効だが、<a id="the-noscript-element:the-xhtml-syntax" href="xhtml.html#the-xhtml-syntax">XML構文</a>では効果がない。スクリプトが有効である場合、この要素が動作する方法は、基本的にパーサを"オフ"にすることであり、要素の内容は、実際の要素としてではなく純粋にテキストとして扱われているのである。XMLは、これを実行するためのメカニズムを定義しない。</p>

  

  <div class="example"><p>次の例において、<code id="the-noscript-element:the-noscript-element-27"><a href="#the-noscript-element">noscript</a></code>要素は、スクリプトのフォールバックを提供するために使用される。</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>form</c-> <c- e>action</c-><c- o>=</c-><c- s>"calcSquare.php"</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>p</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>label</c-> <c- e>for</c-><c- o>=</c-><c- s>x</c-><c- p>></c->Number<c- p>&lt;/</c-><c- f>label</c-><c- p>></c->:
  <c- p>&lt;</c-><c- f>input</c-> <c- e>id</c-><c- o>=</c-><c- s>"x"</c-> <c- e>name</c-><c- o>=</c-><c- s>"x"</c-> <c- e>type</c-><c- o>=</c-><c- s>"number"</c-><c- p>></c->
 <c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>script</c-><c- p>></c->
  <c- a>var</c-> x <c- o>=</c-> document<c- p>.</c->getElementById<c- p>(</c-><c- t>'x'</c-><c- p>);</c->
  <c- a>var</c-> output <c- o>=</c-> document<c- p>.</c->createElement<c- p>(</c-><c- t>'p'</c-><c- p>);</c->
  output<c- p>.</c->textContent <c- o>=</c-> <c- t>'Type a number; it will be squared right then!'</c-><c- p>;</c->
  x<c- p>.</c->form<c- p>.</c->appendChild<c- p>(</c->output<c- p>);</c->
  x<c- p>.</c->form<c- p>.</c->onsubmit <c- o>=</c-> <c- a>function</c-> <c- p>()</c-> <c- p>{</c-> <c- k>return</c-> <c- kc>false</c-><c- p>;</c-> <c- p>}</c->
  x<c- p>.</c->oninput <c- o>=</c-> <c- a>function</c-> <c- p>()</c-> <c- p>{</c->
    <c- a>var</c-> v <c- o>=</c-> x<c- p>.</c->valueAsNumber<c- p>;</c->
    output<c- p>.</c->textContent <c- o>=</c-> v <c- o>+</c-> <c- t>' squared is '</c-> <c- o>+</c-> v <c- o>*</c-> v<c- p>;</c->
  <c- p>};</c->
 <c- p>&lt;/</c-><c- f>script</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>noscript</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>input</c-> <c- e>type</c-><c- o>=</c-><c- s>submit</c-> <c- e>value</c-><c- o>=</c-><c- s>"Calculate Square"</c-><c- p>></c->
 <c- p>&lt;/</c-><c- f>noscript</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>form</c-><c- p>></c-></code></pre>

   <p>スクリプトが無効である場合、ボタンは、サーバー側で計算を行うために表示される。スクリプトが有効である場合、代わりに値がその場で計算される。</p>

   <p><code id="the-noscript-element:the-noscript-element-28"><a href="#the-noscript-element">noscript</a></code>要素は鈍器である。時には、スクリプトを有効にするかもしれないが、何らかの理由でページのスクリプトが失敗するかもしれない。このような理由から、次の例のように、<code id="the-noscript-element:the-noscript-element-29"><a href="#the-noscript-element">noscript</a></code>要素の使用を避ける代わりに、その場でスクリプトのないページからスクリプト化されたページにページを変更するスクリプトを設計することが一般により良い：</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>form</c-> <c- e>action</c-><c- o>=</c-><c- s>"calcSquare.php"</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>p</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>label</c-> <c- e>for</c-><c- o>=</c-><c- s>x</c-><c- p>></c->Number<c- p>&lt;/</c-><c- f>label</c-><c- p>></c->:
  <c- p>&lt;</c-><c- f>input</c-> <c- e>id</c-><c- o>=</c-><c- s>"x"</c-> <c- e>name</c-><c- o>=</c-><c- s>"x"</c-> <c- e>type</c-><c- o>=</c-><c- s>"number"</c-><c- p>></c->
 <c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
 <strong><c- p>&lt;</c-><c- f>input</c-> <c- e>id</c-><c- o>=</c-><c- s>"submit"</c-> <c- e>type</c-><c- o>=</c-><c- s>submit</c-> <c- e>value</c-><c- o>=</c-><c- s>"Calculate Square"</c-><c- p>></c-></strong>
 <c- p>&lt;</c-><c- f>script</c-><c- p>></c->
  <c- a>var</c-> x <c- o>=</c-> document<c- p>.</c->getElementById<c- p>(</c-><c- t>'x'</c-><c- p>);</c->
  <c- a>var</c-> output <c- o>=</c-> document<c- p>.</c->createElement<c- p>(</c-><c- t>'p'</c-><c- p>);</c->
  output<c- p>.</c->textContent <c- o>=</c-> <c- t>'Type a number; it will be squared right then!'</c-><c- p>;</c->
  x<c- p>.</c->form<c- p>.</c->appendChild<c- p>(</c->output<c- p>);</c->
  x<c- p>.</c->form<c- p>.</c->onsubmit <c- o>=</c-> <c- a>function</c-> <c- p>()</c-> <c- p>{</c-> <c- k>return</c-> <c- kc>false</c-><c- p>;</c-> <c- p>}</c->
  x<c- p>.</c->oninput <c- o>=</c-> <c- a>function</c-> <c- p>()</c-> <c- p>{</c->
    <c- a>var</c-> v <c- o>=</c-> x<c- p>.</c->valueAsNumber<c- p>;</c->
    output<c- p>.</c->textContent <c- o>=</c-> v <c- o>+</c-> <c- t>' squared is '</c-> <c- o>+</c-> v <c- o>*</c-> v<c- p>;</c->
  <c- p>};</c->
<strong>  <c- a>var</c-> submit <c- o>=</c-> document<c- p>.</c->getElementById<c- p>(</c-><c- t>'submit'</c-><c- p>);</c->
  submit<c- p>.</c->parentNode<c- p>.</c->removeChild<c- p>(</c->submit<c- p>);</c-></strong>
 <c- p>&lt;/</c-><c- f>script</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>form</c-><c- p>></c-></code></pre>

   <p>上記の手法は、<code id="the-noscript-element:the-noscript-element-30"><a href="#the-noscript-element">noscript</a></code>が許可されていないため、<a id="the-noscript-element:xml-documents-2" href="https://triple-underscore.github.io/DOM4-ja.html#xml-document" data-x-internal="xml-documents">XML文書</a>でも役に立つ。</p>

  </div>


  <h4 id="the-template-element"><span class="secno">4.12.3</span> <dfn><code>template</code></dfn>要素<a href="#the-template-element" class="self-link"></a></h4><div class="status"><input onclick="toggleStatus(this)" value="⋰" type="button"><p class="support"><strong>Support:</strong> template<span class="and_chr yes"><span>Chrome for Android</span> <span>80+</span></span><span class="chrome yes"><span>Chrome</span> <span>35+</span></span><span class="ios_saf yes"><span>iOS Safari</span> <span>9.0+</span></span><span class="firefox yes"><span>Firefox</span> <span>22+</span></span><span class="safari yes"><span>Safari</span> <span>9+</span></span><span class="samsung yes"><span>Samsung Internet</span> <span>4+</span></span><span class="and_uc yes"><span>UC Browser for Android</span> <span>12.12+</span></span><span class="edge yes"><span>Edge</span> <span>15+</span></span><span class="ie no"><span>IE</span> <span>None</span></span><span class="opera yes"><span>Opera</span> <span>22+</span></span><span class="op_mini no"><span>Opera Mini</span> <span>None</span></span><span class="android yes"><span>Android Browser</span> <span>4.4+</span></span><p class="caniuse">Source: <a href="https://caniuse.com/#feat=template">caniuse.com</a></div>

  <dl class="element"><dt><a href="dom.html#concept-element-categories" id="the-template-element:concept-element-categories">カテゴリー</a>：<dd><a id="the-template-element:metadata-content-2" href="dom.html#metadata-content-2">メタデータコンテンツ</a>。<dd><a id="the-template-element:flow-content-2" href="dom.html#flow-content-2">フローコンテンツ</a>。<dd><a id="the-template-element:phrasing-content-2" href="dom.html#phrasing-content-2">フレージングコンテンツ</a>。<dd><a href="dom.html#script-supporting-elements-2" id="the-template-element:script-supporting-elements-2">スクリプトサポート要素</a>。<dt><a href="dom.html#concept-element-contexts" id="the-template-element:concept-element-contexts">この要素を使用できるコンテキスト</a>：<dd><a id="the-template-element:metadata-content-2-2" href="dom.html#metadata-content-2">メタデータコンテンツ</a>が期待される場所。<dd><a id="the-template-element:phrasing-content-2-2" href="dom.html#phrasing-content-2">フレージングコンテンツ</a>が期待される場所。<dd><a id="the-template-element:script-supporting-elements-2-2" href="dom.html#script-supporting-elements-2">スクリプトサポート要素</a>が期待される場所。<dd><code id="the-template-element:attr-colgroup-span"><a href="tables.html#attr-colgroup-span">span</a></code>属性を持たない<code id="the-template-element:the-colgroup-element"><a href="tables.html#the-colgroup-element">colgroup</a></code>要素の子として。<dt><a href="dom.html#concept-element-content-model" id="the-template-element:concept-element-content-model">コンテンツモデル</a>：<dd><a href="dom.html#concept-content-nothing" id="the-template-element:concept-content-nothing">Nothing</a>（明確化のために、<a href="#template-example">例を参照</a>）。<dt><a href="dom.html#concept-element-tag-omission" id="the-template-element:concept-element-tag-omission">text/htmlにおけるタグ省略</a>：<dd>どちらのタグも省略不可。<dt><a href="dom.html#concept-element-attributes" id="the-template-element:concept-element-attributes">コンテンツ属性</a>：<dd><a id="the-template-element:global-attributes" href="dom.html#global-attributes">グローバル属性</a><dt><a href="dom.html#concept-element-accessibility-considerations" id="the-template-element:concept-element-accessibility-considerations">アクセシビリティの考慮</a>：<dd><a href="https://momdo.github.io/html-aria/#el-template">著者向け</a>。<dd><a href="https://w3c.github.io/html-aam/#el-template">実装者向け</a>。<dt><a href="dom.html#concept-element-dom" id="the-template-element:concept-element-dom">DOMインターフェイス</a>：<dd><code>HTMLTemplateElement</code>を使用する。</dl>

  <p><code id="the-template-element:the-template-element"><a href="#the-template-element">template</a></code>要素は、複製され、スクリプトによって文書に挿入できるHTMLの断片を宣言するために使用される。</p>

  <p>レンダリングにおいて、<code id="the-template-element:the-template-element-2"><a href="#the-template-element">template</a></code>要素は何も<a id="the-template-element:represents" href="dom.html#represents">表さ</a>ない。</p>

  <p><code id="the-template-element:the-template-element-3"><a href="#the-template-element">template</a></code>要素の<span>テンプレートコンテンツ</span>は、<a href="syntax.html#template-syntax">要素自体の子ではない</a>。</p>

  <p class="note">DOM操作の結果として、<code id="the-template-element:the-template-element-4"><a href="#the-template-element">template</a></code>要素が<code id="the-template-element:text"><a data-x-internal="text" href="https://triple-underscore.github.io/DOM4-ja.html#interface-text">Text</a></code>ノードと要素ノードを含むことも可能である。しかし、この要素のコンテンツモデルは<a href="dom.html#concept-content-nothing" id="the-template-element:concept-content-nothing-2">nothing</a>として定義されるため、すべてのものは<code id="the-template-element:the-template-element-5"><a href="#the-template-element">template</a></code>要素のコンテンツモデルに違反する。</p>

  <div id="template-example" class="example"><p>たとえば、次の文書を考えてみる：</p>

   

   <pre><code class='html'><c- cp>&lt;!doctype html></c->
<c- p>&lt;</c-><c- f>html</c-> <c- e>lang</c-><c- o>=</c-><c- s>"en"</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>head</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>title</c-><c- p>></c->Homework<c- p>&lt;/</c-><c- f>title</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>body</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>template</c-> <c- e>id</c-><c- o>=</c-><c- s>"template"</c-><c- p>>&lt;</c-><c- f>p</c-><c- p>></c->Smile!<c- p>&lt;/</c-><c- f>p</c-><c- p>>&lt;/</c-><c- f>template</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>script</c-><c- p>></c->
   <c- a>let</c-> num <c- o>=</c-> <c- mi>3</c-><c- p>;</c->
   <c- kr>const</c-> fragment <c- o>=</c-> document<c- p>.</c->getElementById<c- p>(</c-><c- t>'template'</c-><c- p>).</c->content<c- p>.</c->cloneNode<c- p>(</c-><c- kc>true</c-><c- p>);</c->
   <c- k>while</c-> <c- p>(</c->num<c- o>--</c-> <c- o>></c-> <c- mi>1</c-><c- p>)</c-> <c- p>{</c->
     fragment<c- p>.</c->firstChild<c- p>.</c->before<c- p>(</c->fragment<c- p>.</c->firstChild<c- p>.</c->cloneNode<c- p>(</c-><c- kc>true</c-><c- p>));</c->
     fragment<c- p>.</c->firstChild<c- p>.</c->textContent <c- o>+=</c-> fragment<c- p>.</c->lastChild<c- p>.</c->textContent<c- p>;</c->
   <c- p>}</c->
   document<c- p>.</c->body<c- p>.</c->appendChild<c- p>(</c->fragment<c- p>);</c->
  <c- p>&lt;/</c-><c- f>script</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>html</c-><c- p>></c-></code></pre>

   <p><code id="the-template-element:the-template-element-6"><a href="#the-template-element">template</a></code>における<code id="the-template-element:the-p-element"><a href="grouping-content.html#the-p-element">p</a></code>要素は、DOM内の<code id="the-template-element:the-template-element-7"><a href="#the-template-element">template</a></code>の子では<em>ない</em>。<code id="the-template-element:the-template-element-8"><a href="#the-template-element">template</a></code>要素の<code id="the-template-element:dom-template-content"><a href="#dom-template-content">content</a></code> IDL属性によって返される<code id="the-template-element:documentfragment"><a data-x-internal="documentfragment" href="https://triple-underscore.github.io/DOM4-ja.html#interface-documentfragment">DocumentFragment</a></code>の子である。</p>

   <p>スクリプトが<code id="the-template-element:the-template-element-9"><a href="#the-template-element">template</a></code>要素の<code id="the-template-element:dom-node-appendchild"><a data-x-internal="dom-node-appendchild" href="https://triple-underscore.github.io/DOM4-ja.html#dom-node-appendchild">appendChild()</a></code>を呼び出すと、（他の要素の場合と同様に）<code id="the-template-element:the-template-element-10"><a href="#the-template-element">template</a></code>要素に子要素が追加される。しかし、そのようにすることは、<code id="the-template-element:the-template-element-11"><a href="#the-template-element">template</a></code>要素のコンテンツモデルに違反することになる。</p>

  </div>

  <dl class="domintro"><dt><var>template</var> . <code id="dom-template-content">content</code><dd><p><span>テンプレートコンテンツ</span>（<code id="the-template-element:documentfragment-2"><a data-x-internal="documentfragment" href="https://triple-underscore.github.io/DOM4-ja.html#interface-documentfragment">DocumentFragment</a></code>）を返す。</p>

   </dl>

  

  <div class="example"><p>この例において、スクリプトは、手動でマークアップから構造を生成する代わりに要素構造を提供するために<code id="the-template-element:the-template-element-12"><a href="#the-template-element">template</a></code>を使用して、データ構造からデータをもつテーブル4列に投入する。</p>

   <pre><code class='html'><c- cp>&lt;!DOCTYPE html></c->
<c- p>&lt;</c-><c- f>html</c-> <c- e>lang</c-><c- o>=</c-><c- s>'en'</c-><c- p>></c->
<c- p>&lt;</c-><c- f>title</c-><c- p>></c->Cat data<c- p>&lt;/</c-><c- f>title</c-><c- p>></c->
<c- p>&lt;</c-><c- f>script</c-><c- p>></c->
 <c- c1>// Data is hard-coded here, but could come from the server</c->
 <c- a>var</c-> data <c- o>=</c-> <c- p>[</c->
   <c- p>{</c-> name<c- o>:</c-> <c- t>'Pillar'</c-><c- p>,</c-> color<c- o>:</c-> <c- t>'Ticked Tabby'</c-><c- p>,</c-> sex<c- o>:</c-> <c- t>'Female (neutered)'</c-><c- p>,</c-> legs<c- o>:</c-> <c- mi>3</c-> <c- p>},</c->
   <c- p>{</c-> name<c- o>:</c-> <c- t>'Hedral'</c-><c- p>,</c-> color<c- o>:</c-> <c- t>'Tuxedo'</c-><c- p>,</c-> sex<c- o>:</c-> <c- t>'Male (neutered)'</c-><c- p>,</c-> legs<c- o>:</c-> <c- mi>4</c-> <c- p>},</c->
 <c- p>];</c->
<c- p>&lt;/</c-><c- f>script</c-><c- p>></c->
<c- p>&lt;</c-><c- f>table</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>thead</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>tr</c-><c- p>></c->
   <c- p>&lt;</c-><c- f>th</c-><c- p>></c->Name <c- p>&lt;</c-><c- f>th</c-><c- p>></c->Color <c- p>&lt;</c-><c- f>th</c-><c- p>></c->Sex <c- p>&lt;</c-><c- f>th</c-><c- p>></c->Legs
 <c- p>&lt;</c-><c- f>tbody</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>template</c-> <c- e>id</c-><c- o>=</c-><c- s>"row"</c-><c- p>></c->
   <c- p>&lt;</c-><c- f>tr</c-><c- p>>&lt;</c-><c- f>td</c-><c- p>>&lt;</c-><c- f>td</c-><c- p>>&lt;</c-><c- f>td</c-><c- p>>&lt;</c-><c- f>td</c-><c- p>></c->
  <c- p>&lt;/</c-><c- f>template</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>table</c-><c- p>></c->
<c- p>&lt;</c-><c- f>script</c-><c- p>></c->
 <c- a>var</c-> template <c- o>=</c-> document<c- p>.</c->querySelector<c- p>(</c-><c- t>'#row'</c-><c- p>);</c->
 <c- k>for</c-> <c- p>(</c-><c- a>var</c-> i <c- o>=</c-> <c- mi>0</c-><c- p>;</c-> i <c- o>&lt;</c-> data<c- p>.</c->length<c- p>;</c-> i <c- o>+=</c-> <c- mi>1</c-><c- p>)</c-> <c- p>{</c->
   <c- a>var</c-> cat <c- o>=</c-> data<c- p>[</c->i<c- p>];</c->
   <c- a>var</c-> clone <c- o>=</c-> template<c- p>.</c->content<c- p>.</c->cloneNode<c- p>(</c-><c- kc>true</c-><c- p>);</c->
   <c- a>var</c-> cells <c- o>=</c-> clone<c- p>.</c->querySelectorAll<c- p>(</c-><c- t>'td'</c-><c- p>);</c->
   cells<c- p>[</c-><c- mi>0</c-><c- p>].</c->textContent <c- o>=</c-> cat<c- p>.</c->name<c- p>;</c->
   cells<c- p>[</c-><c- mi>1</c-><c- p>].</c->textContent <c- o>=</c-> cat<c- p>.</c->color<c- p>;</c->
   cells<c- p>[</c-><c- mi>2</c-><c- p>].</c->textContent <c- o>=</c-> cat<c- p>.</c->sex<c- p>;</c->
   cells<c- p>[</c-><c- mi>3</c-><c- p>].</c->textContent <c- o>=</c-> cat<c- p>.</c->legs<c- p>;</c->
   template<c- p>.</c->parentNode<c- p>.</c->appendChild<c- p>(</c->clone<c- p>);</c->
 <c- p>}</c->
<c- p>&lt;/</c-><c- f>script</c-><c- p>></c-></code></pre>

   <p>この例は、<code id="the-template-element:the-template-element-13"><a href="#the-template-element">template</a></code>のコンテンツに<code id="the-template-element:dom-node-clonenode"><a data-x-internal="dom-node-clonenode" href="https://triple-underscore.github.io/DOM4-ja.html#dom-node-clonenode">cloneNode()</a></code>を使用する。それは、同じことをする<code id="the-template-element:dom-document-importnode"><a data-x-internal="dom-document-importnode" href="https://triple-underscore.github.io/DOM4-ja.html#dom-document-importnode">document.importNode()</a></code>を等価的に使用することもできる。<a id="the-template-element:node-document" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">ノード文書</a>が更新される際に、この2つのAPIの唯一の違いがある。ノードが<code id="the-template-element:dom-node-appendchild-2"><a data-x-internal="dom-node-appendchild" href="https://triple-underscore.github.io/DOM4-ja.html#dom-node-appendchild">appendChild()</a></code>で付加される場合に<code id="the-template-element:dom-node-clonenode-2"><a data-x-internal="dom-node-clonenode" href="https://triple-underscore.github.io/DOM4-ja.html#dom-node-clonenode">cloneNode()</a></code>とともに更新され、ノードがクローン化される際に、<code id="the-template-element:dom-document-importnode-2"><a data-x-internal="dom-document-importnode" href="https://triple-underscore.github.io/DOM4-ja.html#dom-document-importnode">document.importNode()</a></code>とともに更新される。</p>

  </div>



  



  <h4 id="the-slot-element"><span class="secno">4.12.4</span> <dfn><code>slot</code></dfn>要素<a href="#the-slot-element" class="self-link"></a></h4>

  <dl class="element"><dt><a href="dom.html#concept-element-categories" id="the-slot-element:concept-element-categories">カテゴリー</a>：<dd><a id="the-slot-element:flow-content-2" href="dom.html#flow-content-2">フローコンテンツ</a>。<dd><a id="the-slot-element:phrasing-content-2" href="dom.html#phrasing-content-2">フレージングコンテンツ</a>。<dt><a href="dom.html#concept-element-contexts" id="the-slot-element:concept-element-contexts">この要素を使用できるコンテキスト</a>：<dd><a id="the-slot-element:phrasing-content-2-2" href="dom.html#phrasing-content-2">フレージングコンテンツ</a>が期待される場所。<dt><a href="dom.html#concept-element-content-model" id="the-slot-element:concept-element-content-model">コンテンツモデル</a>：<dd><a id="the-slot-element:transparent" href="dom.html#transparent">透過的</a><dt><a href="dom.html#concept-element-tag-omission" id="the-slot-element:concept-element-tag-omission">text/htmlにおけるタグ省略</a>：<dd>どちらのタグも省略不可。<dt><a href="dom.html#concept-element-attributes" id="the-slot-element:concept-element-attributes">コンテンツ属性</a>：<dd><a id="the-slot-element:global-attributes" href="dom.html#global-attributes">グローバル属性</a><dd><code id="the-slot-element:attr-slot-name"><a href="#attr-slot-name">name</a></code> — シャドウツリースロットの名前<dt><a href="dom.html#concept-element-accessibility-considerations" id="the-slot-element:concept-element-accessibility-considerations">アクセシビリティの考慮</a>：<dd><a href="https://momdo.github.io/html-aria/#el-slot">著者向け</a>。<dd><a href="https://w3c.github.io/html-aam/#el-slot">実装者向け</a>。<dt><a href="dom.html#concept-element-dom" id="the-slot-element:concept-element-dom">DOMインターフェイス</a>：<dd><code>HTMLSlotElement</code>を使用する。</dl>

  <p><code id="the-slot-element:the-slot-element"><a href="#the-slot-element">slot</a></code>要素は、<a href="https://triple-underscore.github.io/DOM4-ja.html#concept-slot" id="the-slot-element:concept-slot" data-x-internal="concept-slot">スロット</a>を定義する。典型的に<a id="the-slot-element:shadow-tree" href="https://triple-underscore.github.io/DOM4-ja.html#concept-shadow-tree" data-x-internal="shadow-tree">シャドウツリー</a>に使用される。もしあれば、<code id="the-slot-element:the-slot-element-2"><a href="#the-slot-element">slot</a></code>要素はその<a id="the-slot-element:assigned-nodes" href="https://triple-underscore.github.io/DOM4-ja.html#slot-assigned-nodes" data-x-internal="assigned-nodes">割り当てられるノード</a>を<a id="the-slot-element:represents" href="dom.html#represents">表し</a>、そうでなければそのコンテンツを表す。</p>

  <p><dfn id="attr-slot-name"><code>name</code></dfn>コンテンツ属性は、任意の文字列値を含んでもよい。これは<a href="https://triple-underscore.github.io/DOM4-ja.html#concept-slot" id="the-slot-element:concept-slot-2" data-x-internal="concept-slot">スロット</a>の<a href="https://triple-underscore.github.io/DOM4-ja.html#slot-name" id="the-slot-element:slot-name" data-x-internal="slot-name">名前</a>を表す。</p>

  <p class="note"><code id="the-slot-element:attr-slot-name-2"><a href="#attr-slot-name">slot</a></code>属性は、別の要素に<a href="https://dom.spec.whatwg.org/#assign-a-slot" id="the-slot-element:assign-a-slot" data-x-internal="assign-a-slot">スロットを割り当てる</a>ために使用される：<code id="the-slot-element:attr-slot-name-3"><a href="#attr-slot-name">name</a></code>属性をもつ<code id="the-slot-element:the-slot-element-3"><a href="#the-slot-element">slot</a></code>要素は、その要素がその<code id="the-slot-element:attr-slot-name-4"><a href="#attr-slot-name">name</a></code>属性の値と一致する値を持つ<code id="the-slot-element:attr-slot"><a href="dom.html#attr-slot">slot</a></code>属性を持ち、かつ<code id="the-slot-element:the-slot-element-4"><a href="#the-slot-element">slot</a></code>要素がその対応する<code id="the-slot-element:attr-slot-2"><a href="dom.html#attr-slot">slot</a></code>属性値を持つ<a id="the-slot-element:root" href="https://triple-underscore.github.io/DOM4-ja.html#concept-tree-root" data-x-internal="root">ルート</a>の<a href="https://triple-underscore.github.io/DOM4-ja.html#concept-documentfragment-host" id="the-slot-element:concept-documentfragment-host" data-x-internal="concept-documentfragment-host">ホスト</a>を持つ<a id="the-slot-element:shadow-tree-2" href="https://triple-underscore.github.io/DOM4-ja.html#concept-shadow-tree" data-x-internal="shadow-tree">シャドウツリー</a>の子である場合、任意の要素が<a href="https://dom.spec.whatwg.org/#assign-a-slot" id="the-slot-element:assign-a-slot-2" data-x-internal="assign-a-slot">割り当てられる</a>名前付き<a href="https://triple-underscore.github.io/DOM4-ja.html#concept-slot" id="the-slot-element:concept-slot-3" data-x-internal="concept-slot">スロット</a>を作成する。</p>

  <dl class="domintro"><dt><var>slot</var> . <code id="dom-slot-name"><a href="#dom-slot-name-2">name</a></code><dd><var>slot</var>の<a href="https://triple-underscore.github.io/DOM4-ja.html#slot-name" id="the-slot-element:slot-name-2" data-x-internal="slot-name">名前</a>を取得し設定することが可能である。<dt><var>slot</var> . <code id="dom-slot-assignednodes"><a href="#dom-slot-assignednodes-2">assignedNodes</a></code>()<dd><var>slot</var>の<a id="the-slot-element:assigned-nodes-2" href="https://triple-underscore.github.io/DOM4-ja.html#slot-assigned-nodes" data-x-internal="assigned-nodes">割り当てられるノード</a>を返す。<dt><var>slot</var> . <code id="the-slot-element:dom-slot-assignednodes-2"><a href="#dom-slot-assignednodes-2">assignedNodes</a></code>({ flatten: true })<dd>もしあれば、<var>slot</var>の<a id="the-slot-element:assigned-nodes-3" href="https://triple-underscore.github.io/DOM4-ja.html#slot-assigned-nodes" data-x-internal="assigned-nodes">割り当てられるノード</a>を返し、そうでなければ<var>slot</var>の子を返し、かつ<code id="the-slot-element:the-slot-element-6"><a href="#the-slot-element">slot</a></code>要素が存在しなくなるまで、再帰的に、<code id="the-slot-element:the-slot-element-5"><a href="#the-slot-element">slot</a></code>要素に遭遇するのと同じものを返す。<dt><var>slot</var> . <code id="dom-slot-assignedelements"><a href="#dom-slot-assignedelements-2">assignedElements</a></code>()<dd>要素に限定された、<var>slot</var>の<a id="the-slot-element:assigned-nodes-4" href="https://triple-underscore.github.io/DOM4-ja.html#slot-assigned-nodes" data-x-internal="assigned-nodes">割り当てられたノード</a>を返す。<dt><var>slot</var> . <code id="the-slot-element:dom-slot-assignedelements-2"><a href="#dom-slot-assignedelements-2">assignedElements</a></code>({ flatten: true })<dd>要素に限定された<code id="the-slot-element:dom-slot-assignednodes-2-2"><a href="#dom-slot-assignednodes-2">assignedNodes({ flatten: true })</a></code>と同じものを返す。</dl>

  <p><dfn id="dom-slot-name-2"><code>name</code></dfn> IDL属性は、同じ名前のコンテンツ属性を<a id="the-slot-element:reflect" href="common-dom-interfaces.html#reflect">反映</a>しなければならない。</p>

  <p>呼び出される場合、<dfn id="dom-slot-assignednodes-2"><code>assignedNodes(<var>options</var>)</code></dfn>メソッドは次の手順を実行しなければならない：</p>

  <ol><li><p><var>options</var>の<code>flatten</code>メンバーの値がfalseである場合、この要素の<a id="the-slot-element:assigned-nodes-5" href="https://triple-underscore.github.io/DOM4-ja.html#slot-assigned-nodes" data-x-internal="assigned-nodes">割り当てられたノード</a>を返す。<li><p>Return the result of <a id="the-slot-element:finding-flattened-slottables" href="https://triple-underscore.github.io/DOM4-ja.html#find-flattened-slotables" data-x-internal="finding-flattened-slottables">finding flattened slottables</a> with this element.</ol>

  <p>The <dfn id="dom-slot-assignedelements-2"><code>assignedElements(<var>options</var>)</code></dfn> method, when invoked, must run these steps:</p>

  <ol><li><p>If the value of <var>options</var>'s <code>flatten</code> member is false, then return this element's <a id="the-slot-element:assigned-nodes-6" href="https://triple-underscore.github.io/DOM4-ja.html#slot-assigned-nodes" data-x-internal="assigned-nodes">assigned nodes</a>, filtered to contain only <code id="the-slot-element:element"><a data-x-internal="element" href="https://triple-underscore.github.io/DOM4-ja.html#interface-element">Element</a></code> nodes.<li><p>Return the result of <a id="the-slot-element:finding-flattened-slottables-2" href="https://triple-underscore.github.io/DOM4-ja.html#find-flattened-slotables" data-x-internal="finding-flattened-slottables">finding flattened slottables</a> with this element, filtered to contain only <code id="the-slot-element:element-2"><a data-x-internal="element" href="https://triple-underscore.github.io/DOM4-ja.html#interface-element">Element</a></code> nodes.</ol>



  <nav><a href="interactive-elements.html">← 4.11 インタラクティブ要素</a> — <a href="./">目次</a> — <a href="canvas.html">4.12.5 canvas要素 →</a></nav>
