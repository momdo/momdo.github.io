<!DOCTYPE html><html class="split" lang="ja"><script src="https://html.spec.whatwg.org/link-fixup.js" defer=""></script><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"><title>HTML Standard, Edition for Web Developers日本語訳</title><meta content="#3c790a" name="theme-color"><link rel="stylesheet" href="https://resources.whatwg.org/standard-shared-with-dev.css" crossorigin=""><link rel="icon" href="https://resources.whatwg.org/logo.svg" crossorigin=""><link rel="stylesheet" href="https://html.spec.whatwg.org/dev/styles.css" crossorigin=""><script>
   function toggleStatus(div) {
     div.parentNode.classList.toggle('wrapped');
   }
   function setLinkFragment(link) {
     link.hash = location.hash;
   }
  </script><body>
  <script async="" src="./search.js"></script>
  
  
  
  <header id="head" class="head with-buttons"><a href="https://whatwg.org/" class="logo"><img width="100" alt="WHATWG" crossorigin="" src="https://resources.whatwg.org/logo.svg" height="100"></a><hgroup><h1><a rel="home" href="./dev" />HTML: The Living Standard</a></h1><p id="dev-edition-h2">Edition for Web Developers — Last Updated <span class="pubdate">8 March 2023</span></hgroup>
   

   <div id="search"><input placeholder="Search. Press '/'" autocomplete="off" name="query" id="query" type="search"><ol id="results"></ol>
   </div>
  </header>

  

  

  

  
  

  
  

  

  <nav><a href="browsers.html">← 7 ウェブページの読み込み</a> — <a href="./">目次</a> — <a href="document-sequences.html">7.3 文書シーケンスのインフラ →</a></nav><ol class="toc"><li><ol><li><a href="nav-history-apis.html#nav-traversal-apis"><span class="secno">7.2</span> ナビゲーションおよびセッション履歴に関連するAPI</a><ol><li><a href="nav-history-apis.html#the-window-object"><span class="secno">7.2.1</span> <code>Window</code>オブジェクト</a><ol><li><a href="nav-history-apis.html#apis-for-creating-and-navigating-browsing-contexts-by-name"><span class="secno">7.2.1.1</span> ウィンドウの開閉</a><li><a href="nav-history-apis.html#accessing-other-browsing-contexts"><span class="secno">7.2.1.2</span> <code>Window</code>オブジェクトのインデックス付きアクセス</a><li><a href="nav-history-apis.html#named-access-on-the-window-object"><span class="secno">7.2.1.3</span> <code>Window</code>オブジェクトの名前付きアクセス</a><li><a href="nav-history-apis.html#navigating-nested-browsing-contexts-in-the-dom"><span class="secno">7.2.1.4</span> 関連ウィンドウへのアクセス</a><li><a href="nav-history-apis.html#browser-interface-elements"><span class="secno">7.2.1.5</span> 歴史的なブラウザーインターフェイス要素API</a></ol><li><a href="nav-history-apis.html#the-windowproxy-exotic-object"><span class="secno">7.2.2</span> <code>WindowProxy</code>外来オブジェクト</a><li><a href="nav-history-apis.html#the-location-interface"><span class="secno">7.2.3</span> <code>Location</code>インターフェイス</a><li><a href="nav-history-apis.html#the-history-interface"><span class="secno">7.2.4</span> <code>History</code>インターフェイス</a><li><a href="nav-history-apis.html#nav-traversal-event-interfaces"><span class="secno">7.2.5</span> イベントインターフェイス</a><ol><li><a href="nav-history-apis.html#the-popstateevent-interface"><span class="secno">7.2.5.1</span> <code>PopStateEvent</code>インターフェイス</a><li><a href="nav-history-apis.html#the-hashchangeevent-interface"><span class="secno">7.2.5.2</span> <code>HashChangeEvent</code>インターフェイス</a><li><a href="nav-history-apis.html#the-pagetransitionevent-interface"><span class="secno">7.2.5.3</span> <code>PageTransitionEvent</code>インターフェイス</a><li><a href="nav-history-apis.html#the-beforeunloadevent-interface"><span class="secno">7.2.5.4</span> <code>BeforeUnloadEvent</code>インターフェイス</a></ol></ol></ol></ol><h3 id="nav-traversal-apis"><span class="secno">7.2</span> ナビゲーションおよびセッション履歴に関連するAPI<a href="#nav-traversal-apis" class="self-link"></a></h3>

  


  <h4 id="the-window-object"><span class="secno">7.2.1</span> <code>Window</code>オブジェクト<a href="#the-window-object" class="self-link"></a></h4><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window" title="The Window interface represents a window containing a DOM document; the document property points to the DOM document loaded in that window.">Window</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div>

  

  <dl class="domintro"><dt><code><var>window</var>.<span id="dom-window">window</span></code><dt><code><var>window</var>.<span id="dom-frames">frames</span></code><dt><code><var>window</var>.<span id="dom-self">self</span></code><dd><p>これらの属性はすべて<var>window</var>を返す。<dt><code><var>window</var>.<span id="dom-document-2">document</span></code><dd><p><var>window</var>と関連する<code>Document</code>を返す。<dt><code><var>document</var>.<span id="dom-document-defaultview">defaultView</span></code><dd><p><var>document</var>に関連付けられた<code>Window</code>がある場合はそれを返し、そうでなければnullを返す。</dl>

  


  <h5 id="apis-for-creating-and-navigating-browsing-contexts-by-name"><span class="secno">7.2.1.1</span> ウィンドウの開閉<a href="#apis-for-creating-and-navigating-browsing-contexts-by-name" class="self-link"></a></h5>

  <dl class="domintro"><dt><code><var>window</var> = <var>window</var>.<span id="dom-open">open</span>([ <var>url</var> [, <var>target</var> [, <var>features</var> ] ] ])</code><dd><p><var>url</var>（デフォルトで"<code id="apis-for-creating-and-navigating-browsing-contexts-by-name:about:blank"><a href="infrastructure.html#about:blank">about:blank</a></code>"）を表示するためのウィンドウを開き、それを返す。<var>target</var>（デフォルトで"<code>_blank</code>"）は、新しいウィンドウの名前を示す。すでにその名前をもつウィンドウが存在する場合、それが再利用される。<var>features</var>引数は<a id="apis-for-creating-and-navigating-browsing-contexts-by-name:set-of-comma-separated-tokens" href="common-microsyntaxes.html#set-of-comma-separated-tokens">コンマ区切りトークンの集合</a>を含むことができる：</p>

    <dl><dt>"<code>noopener</code>"<dt>"<code>noreferrer</code>"<dd><p>これらは、<a href="links.html#hyperlink" id="apis-for-creating-and-navigating-browsing-contexts-by-name:hyperlink">ハイパーリンク</a>上の<code id="apis-for-creating-and-navigating-browsing-contexts-by-name:link-type-noopener"><a href="links.html#link-type-noopener">noopener</a></code>および<code id="apis-for-creating-and-navigating-browsing-contexts-by-name:link-type-noreferrer"><a href="links.html#link-type-noreferrer">noreferrer</a></code>リンクタイプと同等に動作する。<dt>"<code>popup</code>"<dd><p>ユーザーエージェントに、新しいウィンドウに最小限のウェブブラウザーユーザーインターフェイスを提供するように促す。 （すべての<code>BarProp</code>オブジェクトにも<code id="apis-for-creating-and-navigating-browsing-contexts-by-name:dom-barprop-visible"><a href="#dom-barprop-visible">visible</a></code>ゲッターに影響を与える。）</dl>

    <pre class="example"><code class='js'>globalThis<c- p>.</c->open<c- p>(</c-><c- u>"https://email.example/message/CAOOOkFcWW97r8yg=SsWg7GgCmp4suVX9o85y8BvNRqMjuc5PXg"</c-><c- p>,</c-> <c- kc>undefined</c-><c- p>,</c-> <c- u>"noopener,popup"</c-><c- p>);</c-></code></pre>
   <dt><code><var>window</var>.<span id="dom-name">name</span> [ = <var>value</var> ]</code><dd><p>ウィンドウの名前を返す。</p>

    <p>名前を変更する設定が可能である。</p>
   <dt><code><var>window</var>.<span id="dom-window-close">close</span>()</code><dd><p>ウィンドウを閉じる。<dt><code><var>window</var>.<span id="dom-window-closed">closed</span></code><dd><p>ウィンドウが閉じられている場合はtrueを返し、そうでなければfalseを返す。<dt><code><var>window</var>.<span id="dom-window-stop">stop</span>()</code><dd><p>ドキュメントの読み込みを中止する。</dl>

  


  <h5 id="accessing-other-browsing-contexts"><span class="secno">7.2.1.2</span> <code>Window</code>オブジェクトのインデックス付きアクセス<a href="#accessing-other-browsing-contexts" class="self-link"></a></h5>

  <dl class="domintro"><dt><code><var>window</var>.<span id="dom-length">length</span></code><dd><p><a id="accessing-other-browsing-contexts:document-tree-child-navigables" href="document-sequences.html#document-tree-child-navigables">文書ツリーの子ナビゲート可能</a>の数を返す。<dt><code><var>window</var>[<var>index</var>]</code><dd><p>指定された<a href="document-sequences.html#document-tree-child-navigables" id="accessing-other-browsing-contexts:document-tree-child-navigables-2">文書ツリーの子ナビゲート可能</a>に対応する<code id="accessing-other-browsing-contexts:windowproxy"><a href="#windowproxy">WindowProxy</a></code>を返す。</dl>

  


  <h5 id="named-access-on-the-window-object"><span class="secno">7.2.1.3</span> <code>Window</code>オブジェクトの名前付きアクセス<a href="#named-access-on-the-window-object" class="self-link"></a></h5>

  <dl class="domintro"><dt><code><var>window</var>[<var>name</var>]</code><dd><p>指示された要素または要素のコレクションを返す。</p>

    <p>一般的な規則として、これに依存することはもろいコードを導く。たとえば、新しい機能がウェブプラットフォームに加えられるように、いずれかのIDがこのAPIのマッピングで終わることは時間をかけて変化できる。この代わりに、<code>document.getElementById()</code>または<code>document.querySelector()</code>を使用する。</p>
   </dl>

  


  <h5 id="navigating-nested-browsing-contexts-in-the-dom"><span class="secno">7.2.1.4</span> 関連ウィンドウへのアクセス<a href="#navigating-nested-browsing-contexts-in-the-dom" class="self-link"></a></h5>

  <dl class="domintro"><dt><code><var>window</var>.<span id="dom-top">top</span></code><dd><p><a id="navigating-nested-browsing-contexts-in-the-dom:top-level-traversable" href="document-sequences.html#top-level-traversable">トップレベルトラバーサル</a>の<code id="navigating-nested-browsing-contexts-in-the-dom:windowproxy"><a href="#windowproxy">WindowProxy</a></code>を返す。<dt><code><var>window</var>.<span id="dom-opener">opener</span> [ = <var>value</var> ]</code><dd><p><a id="navigating-nested-browsing-contexts-in-the-dom:opener-browsing-context" href="document-sequences.html#opener-browsing-context">オープナーブラウジングコンテキスト</a>に対する<code id="navigating-nested-browsing-contexts-in-the-dom:windowproxy-2"><a href="#windowproxy">WindowProxy</a></code>を返す。</p>

    <p>存在しないまたはnullが設定されている場合、nullを返す。</p>

    <p>nullに設定可能である。</p>
   <dt><code><var>window</var>.<span id="dom-parent">parent</span></code><dd><p><a href="document-sequences.html#nav-parent" id="navigating-nested-browsing-contexts-in-the-dom:nav-parent">親ナビゲート可能</a>に対する<code id="navigating-nested-browsing-contexts-in-the-dom:windowproxy-3"><a href="#windowproxy">WindowProxy</a></code>を返す。<dt><code><var>window</var>.<span id="dom-frameelement">frameElement</span></code><dd><p><a id="navigating-nested-browsing-contexts-in-the-dom:navigable-container" href="document-sequences.html#navigable-container">ナビゲート可能コンテナー</a>要素を返す。</p>

    <p>存在しない場合、生成元をまたいだ状況でnullを返す。</p>
   </dl>

  


  <h5 id="browser-interface-elements"><span class="secno">7.2.1.5</span> 歴史的なブラウザーインターフェイス要素API<a href="#browser-interface-elements" class="self-link"></a></h5>

  <p>歴史的な理由から、<code>Window</code>インターフェイスには、特定のウェブブラウザーインターフェイス要素の可視性を表すいくつかのプロパティがあった。</p>

  

  <p>プライバシーと相互運用性の理由から、ウィンドウがポップアップウィンドウを表しているかどうかに関係なく、これらのプロパティはすべて同じ値を返すようになった。</p>

  

  

  <dl class="domintro"><dt><code><var>window</var>.<span id="dom-window-locationbar">locationbar</span>.<span id="dom-barprop-visible">visible</span></code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BarProp/visible" title="The visible read-only property of the BarProp interface returns true if the user interface element it represents is visible.">BarProp/visible</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>3+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><dt><code><var>window</var>.<span id="dom-window-menubar">menubar</span>.<a href="#dom-barprop-visible" id="browser-interface-elements:dom-barprop-visible">visible</a></code><dt><code><var>window</var>.<span id="dom-window-personalbar">personalbar</span>.<a href="#dom-barprop-visible" id="browser-interface-elements:dom-barprop-visible-2">visible</a></code><dt><code><var>window</var>.<span id="dom-window-scrollbars">scrollbars</span>.<a href="#dom-barprop-visible" id="browser-interface-elements:dom-barprop-visible-3">visible</a></code><dt><code><var>window</var>.<span id="dom-window-statusbar">statusbar</span>.<a href="#dom-barprop-visible" id="browser-interface-elements:dom-barprop-visible-4">visible</a></code><dt><code><var>window</var>.<span id="dom-window-toolbar">toolbar</span>.<a href="#dom-barprop-visible" id="browser-interface-elements:dom-barprop-visible-5">visible</a></code><dd><p><code>Window</code>がポップアップでない場合はtrueを返す。そうでなければfalseを返す。</dl>

  


  <h4 id="the-windowproxy-exotic-object"><span class="secno">7.2.2</span> <code id="the-windowproxy-exotic-object:windowproxy"><a href="#windowproxy">WindowProxy</a></code>外来オブジェクト<a href="#the-windowproxy-exotic-object" class="self-link"></a></h4>

  <p><dfn id="windowproxy" data-dfn-type="interface"><code>WindowProxy</code></dfn>は、<code>Window</code>の通常のオブジェクトをラップする外来オブジェクトであり、ほとんどの操作をラップされたオブジェクトに間接的に転送する。各<a id="the-windowproxy-exotic-object:browsing-context" href="document-sequences.html#browsing-context">ブラウジングコンテキスト</a>は、関連する<code id="the-windowproxy-exotic-object:windowproxy-2"><a href="#windowproxy">WindowProxy</a></code>オブジェクトを持つ。<a id="the-windowproxy-exotic-object:browsing-context-2" href="document-sequences.html#browsing-context">ブラウジングコンテキスト</a>が<a href="browsing-the-web.html#navigate" id="the-windowproxy-exotic-object:navigate">ナビゲートされる</a>とき、<a id="the-windowproxy-exotic-object:browsing-context-3" href="document-sequences.html#browsing-context">ブラウジングコンテキスト</a>の関連付けられた<code id="the-windowproxy-exotic-object:windowproxy-3"><a href="#windowproxy">WindowProxy</a></code>オブジェクトによってラップされた<code>Window</code>オブジェクトが変更される。</p>

  


  <h4 id="the-location-interface"><span class="secno">7.2.3</span> <code>Location</code>インターフェイス<a href="#the-location-interface" class="self-link"></a></h4><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/location" title="The Document.location read-only property returns a Location object, which contains information about the URL of the document and provides methods for changing that URL and loading another URL.">Document/location</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location" title="The Location interface represents the location (URL) of the object it is linked to. Changes done on it are reflected on the object it relates to. Both the Document and Window interface have such a linked Location, accessible via Document.location and Window.location respectively.">Location</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>3+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/location" title="The Window.location read-only property returns a Location object with information about the current location of the document.">Window/location</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div>

  <p>各<code>Window</code>オブジェクトは、<code>Location</code>オブジェクトの一意なインスタンスに関連付けられており、<code>Window</code>オブジェクトの作成時に割り当てられる。</p>

  

  <dl class="domintro"><dt><code><var>document</var>.<span id="dom-document-location">location</span> [ = <var>value</var> ]</code><dt><code><var>window</var>.<span id="dom-location">location</span> [ = <var>value</var> ]</code><dd><p>現在のページの位置と<code>Location</code>オブジェクトを返す。</p>

    <p>別のページにナビゲートするために、設定可能である。</p>
   </dl>

  

  <p><code>Location</code>オブジェクトは、関連付けられた<code>Document</code>の<a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-url" id="the-location-interface:the-document's-address" data-x-internal="the-document's-address">URL</a>の表現と、関連付けられた<a id="the-location-interface:navigable" href="document-sequences.html#navigable">ナビゲート可能</a>を<a href="browsing-the-web.html#navigate" id="the-location-interface:navigate">ナビゲート</a>および<a href="browsing-the-web.html#reload" id="the-location-interface:reload">リロードする</a>ためのメソッドを提供する。</p>

  

  <dl class="domintro"><dt><code><var>location</var>.<span>toString()</span></code><dt><code><var>location</var>.<span id="dom-location-href">href</span></code><dd><p><code>Location</code>オブジェクトのURLを返す。</p>

    <p>与えられたURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<span id="dom-location-origin">origin</span></code><dd><p><code>Location</code>オブジェクトの生成元を返す。<dt><code><var>location</var>.<span id="dom-location-protocol">protocol</span></code><dd><p><code>Location</code>オブジェクトのスキームを返す。</p>

    <p>変更されたスキームと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<span id="dom-location-host">host</span></code><dd><p><code>Location</code>オブジェクトのURLのホストとポートを返す（スキームのデフォルトポートと異なる場合）。</p>

    <p>変更されたホストおよびポートと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<span id="dom-location-hostname">hostname</span></code><dd><p><code>Location</code>オブジェクトのホストを返す。</p>

    <p>変更されたホストと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<span id="dom-location-port">port</span></code><dd><p><code>Location</code>オブジェクトのポートを返す。</p>

    <p>変更されたポートと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<span id="dom-location-pathname">pathname</span></code><dd><p><code>Location</code>オブジェクトのパスを返す。</p>

    <p>変更されたパスと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<span id="dom-location-search">search</span></code><dd><p><code>Location</code>オブジェクトのURLのクエリーを返す（空でない場合は先頭の"<code>?</code>"を含む）。</p>

    <p>（先頭の"<code>?</code>"を無視して）変更されたクエリーと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<span id="dom-location-hash">hash</span></code><dd><p><code>Location</code>オブジェクトのURLのフラグメントを返す（空でない場合は先頭の"<code>#</code>"を含む）。</p>

    <p>（先頭の"<code>#</code>"を無視して）変更されたフラグメントと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<span id="dom-location-assign">assign</span>(<var>url</var>)</code><dd><p>与えられたURLにナビゲートする。<dt><code><var>location</var>.<span id="dom-location-replace">replace</span>(<var>url</var>)</code><dd><p>セッション履歴から現在のページを削除し、与えられたURLにナビゲートする。<dt><code><var>location</var>.<span id="dom-location-reload">reload</span>()</code><dd><p>現在のページをリロードする。<dt><code><var>location</var>.<span id="dom-location-ancestororigins">ancestorOrigins</span></code><dd><p><a id="the-location-interface:ancestor-navigables" href="document-sequences.html#ancestor-navigables">祖先ナビゲート可能</a>の<a href="document-sequences.html#nav-document" id="the-location-interface:nav-document">アクティブな文書</a>の生成元を列挙する <code>DOMStringList</code>オブジェクトを返す。</p>
   </dl>

  


  <h4 id="the-history-interface"><span class="secno">7.2.4</span> <code>History</code>インターフェイス<a href="#the-history-interface" class="self-link"></a></h4><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/History" title="The History interface allows manipulation of the browser session history, that is the pages visited in the tab or frame that the current page is loaded in.">History</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/history" title="The Window.history read-only property returns a reference to the History object, which provides an interface for manipulating the browser session history (pages visited in the tab or frame that the current page is loaded in).">Window/history</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div>

  

  <dl class="domintro"><dt><code><span id="dom-history">history</span>.<span id="dom-history-length">length</span></code><dd><p>現在の<a id="the-history-interface:traversable-navigable" href="document-sequences.html#traversable-navigable">トラバース可能なナビゲート可能</a>の全体の<a href="document-sequences.html#tn-session-history-entries" id="the-history-interface:tn-session-history-entries">セッション履歴エントリー</a>の数を返す。<dt><code><a href="#dom-history" id="the-history-interface:dom-history">history</a>.<span id="dom-history-scroll-restoration">scrollRestoration</span></code><dd><p><a href="document-sequences.html#nav-active-history-entry" id="the-history-interface:nav-active-history-entry">アクティブなセッション履歴エントリー</a>の<a href="browsing-the-web.html#she-scroll-restoration-mode" id="the-history-interface:she-scroll-restoration-mode">スクロール復元モード</a>を返す。<dt><code><a href="#dom-history" id="the-history-interface:dom-history-2">history</a>.<a href="#dom-history-scroll-restoration" id="the-history-interface:dom-history-scroll-restoration">scrollRestoration</a> = <var>value</var></code><dd><p><a href="document-sequences.html#nav-active-history-entry" id="the-history-interface:nav-active-history-entry-2">アクティブなセッション履歴エントリー</a>の<a href="browsing-the-web.html#she-scroll-restoration-mode" id="the-history-interface:she-scroll-restoration-mode-2">スクロール復元モード</a>を<var>value</var>に設定する。<dt><code><a href="#dom-history" id="the-history-interface:dom-history-3">history</a>.<span id="dom-history-state">state</span></code><dd><p>JavaScript値に逆シリアル化された、<a href="document-sequences.html#nav-active-history-entry" id="the-history-interface:nav-active-history-entry-3">アクティブなセッション履歴エントリー</a>の<a href="browsing-the-web.html#she-serialized-state" id="the-history-interface:she-serialized-state">シリアル化された状態</a>を返す。<dt><code><a href="#dom-history" id="the-history-interface:dom-history-4">history</a>.<a href="#dom-history-go" id="the-history-interface:dom-history-go">go</a>()</code><dd><p>現在のページをリロードする。<dt><code><a href="#dom-history" id="the-history-interface:dom-history-5">history</a>.<span id="dom-history-go">go</span>(<var>delta</var>)</code><dd><p>現在の<a id="the-history-interface:traversable-navigable-2" href="document-sequences.html#traversable-navigable">トラバース可能なナビゲート可能</a>の全体の<a href="document-sequences.html#tn-session-history-entries" id="the-history-interface:tn-session-history-entries-2">セッション履歴エントリー</a>リストで、指定された数のステップを前後に移動する。</p>

    <p>ゼロ差分は、現在のページをリロードする。</p>

    <p>差分が範囲外の場合、何もしない。</p>
   <dt><code><a href="#dom-history" id="the-history-interface:dom-history-6">history</a>.<span id="dom-history-back">back</span>()</code><dd><p>現在の<a id="the-history-interface:traversable-navigable-3" href="document-sequences.html#traversable-navigable">トラバース可能なナビゲート可能</a>の全体の<a href="document-sequences.html#tn-session-history-entries" id="the-history-interface:tn-session-history-entries-3">セッション履歴エントリー</a>リストで1ステップ戻る。</p>

    <p>前のページが存在しない場合、何もしない。</p>
   <dt><code><a href="#dom-history" id="the-history-interface:dom-history-7">history</a>.<span id="dom-history-forward">forward</span>()</code><dd><p>現在の<a id="the-history-interface:traversable-navigable-4" href="document-sequences.html#traversable-navigable">トラバース可能なナビゲート可能</a>の全体の<a href="document-sequences.html#tn-session-history-entries" id="the-history-interface:tn-session-history-entries-4">セッション履歴エントリー</a>リストで1ステップ進める。</p>

    <p>次のページが存在しない場合、何もしない。</p>
   <dt><code><a href="#dom-history" id="the-history-interface:dom-history-8">history</a>.<span id="dom-history-pushstate">pushState</span>(<var>data</var>, "")</code><dd><p><a href="browsing-the-web.html#she-serialized-state" id="the-history-interface:she-serialized-state-2">シリアル化された状態</a>を<var>data</var>のシリアル化に設定して、セッション履歴に新しいエントリーを追加する。<a href="document-sequences.html#nav-active-history-entry" id="the-history-interface:nav-active-history-entry-4">アクティブな履歴エントリー</a>の<a href="browsing-the-web.html#she-url" id="the-history-interface:she-url">URL</a>がコピーされ、新しいエントリーのURLに使用される。</p>

    <p> （2番目のパラメーターは歴史的な理由で存在し、省略することはできない。空の文字列を渡すことは慣例的なものである。）</p>
   <dt><code><a href="#dom-history" id="the-history-interface:dom-history-9">history</a>.<a href="#dom-history-pushstate" id="the-history-interface:dom-history-pushstate">pushState</a>(<var>data</var>, "", <var>url</var>)</code><dd><p><a href="browsing-the-web.html#she-serialized-state" id="the-history-interface:she-serialized-state-3">シリアル化された状態</a>を<var>data</var>のシリアル化に設定し、<a href="browsing-the-web.html#she-url" id="the-history-interface:she-url-2">URL</a>を<var>url</var>に設定して、セッション履歴に新しいエントリーを追加する。</p>

    <p>現在の<code>Document</code>がURLを<var>url</var>に<a href="#can-have-its-url-rewritten" id="the-history-interface:can-have-its-url-rewritten">書き換えることができない</a>場合、<a id="the-history-interface:securityerror" href="https://triple-underscore.github.io/WebIDL-ja.html#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-history-interface:domexception"><a data-x-internal="domexception" href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-DOMException">DOMException</a></code>が投げられる。</p>

    <p> （2番目のパラメーターは歴史的な理由で存在し、省略することはできない。空の文字列を渡すことは慣例的なものである。）</p>
   <dt><code><a href="#dom-history" id="the-history-interface:dom-history-10">history</a>.<span id="dom-history-replacestate">replaceState</span>(<var>data</var>, "")</code><dd><p><a href="document-sequences.html#nav-active-history-entry" id="the-history-interface:nav-active-history-entry-5">アクティブなセッション履歴エントリー</a>の<a href="browsing-the-web.html#she-serialized-state" id="the-history-interface:she-serialized-state-4">シリアル化された状態</a>を<var>data</var>の構造化されたクローンに更新する。</p>

    <p> （2番目のパラメーターは歴史的な理由で存在し、省略することはできない。空の文字列を渡すことは慣例的なものである。）</p>
   <dt><code><a href="#dom-history" id="the-history-interface:dom-history-11">history</a>.<a href="#dom-history-replacestate" id="the-history-interface:dom-history-replacestate">replaceState</a>(<var>data</var>, "", <var>url</var>)</code><dd><p><a href="document-sequences.html#nav-active-history-entry" id="the-history-interface:nav-active-history-entry-6">アクティブなセッション履歴エントリー</a>の<a href="browsing-the-web.html#she-serialized-state" id="the-history-interface:she-serialized-state-5">シリアル化された状態</a>を<var>data</var>の構造化されたクローンに更新し、その<a href="browsing-the-web.html#she-url" id="the-history-interface:she-url-3">URL</a>を<var>url</var>に更新する。</p>

    <p>現在の<code>Document</code>がURLを<var>url</var>に<a href="#can-have-its-url-rewritten" id="the-history-interface:can-have-its-url-rewritten-2">書き換えることができない</a>場合、<a id="the-history-interface:securityerror-2" href="https://triple-underscore.github.io/WebIDL-ja.html#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-history-interface:domexception-2"><a data-x-internal="domexception" href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-DOMException">DOMException</a></code>が投げられる。</p>

    <p> （2番目のパラメーターは歴史的な理由で存在し、省略することはできない。空の文字列を渡すことは慣例的なものである。）</p>
   </dl>

  

  <div class="example"><table><thead><tr><th><var>document</var>'s <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-url" id="the-history-interface:the-document's-address" data-x-internal="the-document's-address">URL</a><th><var>targetURL</var><th><span id="can-have-its-url-rewritten">can have its URL rewritten</span><tbody><tr><td><code>https://example.com/home</code><td><code>https://example.com/home#about</code><td>✅<tr><td><code>https://example.com/home</code><td><code>https://example.com/home?page=shop</code><td>✅<tr><td><code>https://example.com/home</code><td><code>https://example.com/shop</code><td>✅<tr><td><code>https://example.com/home</code><td><code>https://user:pass@example.com/home</code><td>❌<tr><td><code>https://example.com/home</code><td><code>http://example.com/home</code><td>❌<tr><td><code>file:///path/to/x</code><td><code>file:///path/to/x#hash</code><td>✅<tr><td><code>file:///path/to/x</code><td><code>file:///path/to/x?search</code><td>✅<tr><td><code>file:///path/to/x</code><td><code>file:///path/to/y</code><td>❌<tr><td><code>about:blank</code><td><code>about:blank#hash</code><td>✅<tr><td><code>about:blank</code><td><code>about:blank?search</code><td>❌<tr><td><code>about:blank</code><td><code>about:srcdoc</code><td>❌<tr><td><code>data:text/html,foo</code><td><code>data:text/html,foo#hash</code><td>✅<tr><td><code>data:text/html,foo</code><td><code>data:text/html,foo?search</code><td>❌<tr><td><code>data:text/html,foo</code><td><code>data:text/html,bar</code><td>❌<tr><td><code>data:text/html,foo</code><td><code>data:bar</code><td>❌<tr><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43</code><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43#hash</code><td>✅<tr><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43</code><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43?search</code><td>❌<tr><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43</code><td><code>blob:https://example.com/anything</code><td>❌<tr><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43</code><td><code>blob:path</code><td>❌</table>

   <p><code>Document</code>の<a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-url" id="the-history-interface:the-document's-address-2" data-x-internal="the-document's-address">URL</a>のみが重要であり、その<a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-origin" id="the-history-interface:concept-document-origin" data-x-internal="concept-document-origin">生成元</a>は重要ではないことに注意する。継承された生成元をもつ<code id="the-history-interface:about:blank"><a href="infrastructure.html#about:blank">about:blank</a></code> <code>Document</code>、サンフォボックス<code id="the-history-interface:the-iframe-element"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>、または<code id="the-history-interface:dom-document-domain"><a href="browsers.html#dom-document-domain">document.domain</a></code>セッターが使用されている場合のように、これらが一致しないことがある。</p>
  </div>

  <div class="example"><p>ユーザーはいくつかの座標に常にあり、ユーザーが後で再開するための特定の座標に対応するページをブックマークできるような、ユーザーがラインに沿って移動できるゲームを考える。</p>

   <p>そのようなゲームでx=5位置を実装する静的ページは次のようになる：</p>

   <pre><code class='html'><c- cp>&lt;!DOCTYPE HTML></c->
<c- c>&lt;!-- this is https://example.com/line?x=5 --></c->
<c- p>&lt;</c-><c- f>html</c-> <c- e>lang</c-><c- o>=</c-><c- s>"en"</c-><c- p>></c->
<c- p>&lt;</c-><c- f>title</c-><c- p>></c->Line Game - 5<c- p>&lt;/</c-><c- f>title</c-><c- p>></c->
<c- p>&lt;</c-><c- f>p</c-><c- p>></c->You are at coordinate 5 on the line.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
<c- p>&lt;</c-><c- f>p</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>a</c-> <c- e>href</c-><c- o>=</c-><c- s>"?x=6"</c-><c- p>></c->Advance to 6<c- p>&lt;/</c-><c- f>a</c-><c- p>></c-> or
 <c- p>&lt;</c-><c- f>a</c-> <c- e>href</c-><c- o>=</c-><c- s>"?x=4"</c-><c- p>></c->retreat to 4<c- p>&lt;/</c-><c- f>a</c-><c- p>></c->?
<c- p>&lt;/</c-><c- f>p</c-><c- p>></c-></code></pre>

   <p>このようなシステムの問題点は、毎回ユーザーがクリックするとページ全体をリロードする必要があることにある。ここで、代わりにスクリプトを使用して、リロードを行うための別の方法：</p>

   <pre><code class='html'><c- cp>&lt;!DOCTYPE HTML></c->
<c- c>&lt;!-- this starts off as https://example.com/line?x=5 --></c->
<c- p>&lt;</c-><c- f>html</c-> <c- e>lang</c-><c- o>=</c-><c- s>"en"</c-><c- p>></c->
<c- p>&lt;</c-><c- f>title</c-><c- p>></c->Line Game - 5<c- p>&lt;/</c-><c- f>title</c-><c- p>></c->
<c- p>&lt;</c-><c- f>p</c-><c- p>></c->You are at coordinate <c- p>&lt;</c-><c- f>span</c-> <c- e>id</c-><c- o>=</c-><c- s>"coord"</c-><c- p>></c->5<c- p>&lt;/</c-><c- f>span</c-><c- p>></c-> on the line.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
<c- p>&lt;</c-><c- f>p</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>a</c-> <c- e>href</c-><c- o>=</c-><c- s>"?x=6"</c-> <c- e>onclick</c-><c- o>=</c-><c- s>"go(1); return false;"</c-><c- p>></c->Advance to 6<c- p>&lt;/</c-><c- f>a</c-><c- p>></c-> or
 <c- p>&lt;</c-><c- f>a</c-> <c- e>href</c-><c- o>=</c-><c- s>"?x=4"</c-> <c- e>onclick</c-><c- o>=</c-><c- s>"go(-1); return false;"</c-><c- p>></c->retreat to 4<c- p>&lt;/</c-><c- f>a</c-><c- p>></c->?
<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
<c- p>&lt;</c-><c- f>script</c-><c- p>></c->
 <c- a>var</c-> currentPage <c- o>=</c-> <c- mf>5</c-><c- p>;</c-> <c- c1>// prefilled by server</c->
 <c- a>function</c-> go<c- p>(</c->d<c- p>)</c-> <c- p>{</c->
   setupPage<c- p>(</c->currentPage <c- o>+</c-> d<c- p>);</c->
   history<c- p>.</c->pushState<c- p>(</c->currentPage<c- p>,</c-> <c- u>""</c-><c- p>,</c-> <c- t>'?x='</c-> <c- o>+</c-> currentPage<c- p>);</c->
 <c- p>}</c->
 onpopstate <c- o>=</c-> <c- a>function</c-><c- p>(</c->event<c- p>)</c-> <c- p>{</c->
   setupPage<c- p>(</c->event<c- p>.</c->state<c- p>);</c->
 <c- p>}</c->
 <c- a>function</c-> setupPage<c- p>(</c->page<c- p>)</c-> <c- p>{</c->
   currentPage <c- o>=</c-> page<c- p>;</c->
   document<c- p>.</c->title <c- o>=</c-> <c- t>'Line Game - '</c-> <c- o>+</c-> currentPage<c- p>;</c->
   document<c- p>.</c->getElementById<c- p>(</c-><c- t>'coord'</c-><c- p>).</c->textContent <c- o>=</c-> currentPage<c- p>;</c->
   document<c- p>.</c->links<c- p>[</c-><c- mf>0</c-><c- p>].</c->href <c- o>=</c-> <c- t>'?x='</c-> <c- o>+</c-> <c- p>(</c->currentPage<c- o>+</c-><c- mf>1</c-><c- p>);</c->
   document<c- p>.</c->links<c- p>[</c-><c- mf>0</c-><c- p>].</c->textContent <c- o>=</c-> <c- t>'Advance to '</c-> <c- o>+</c-> <c- p>(</c->currentPage<c- o>+</c-><c- mf>1</c-><c- p>);</c->
   document<c- p>.</c->links<c- p>[</c-><c- mf>1</c-><c- p>].</c->href <c- o>=</c-> <c- t>'?x='</c-> <c- o>+</c-> <c- p>(</c->currentPage<c- o>-</c-><c- mf>1</c-><c- p>);</c->
   document<c- p>.</c->links<c- p>[</c-><c- mf>1</c-><c- p>].</c->textContent <c- o>=</c-> <c- t>'retreat to '</c-> <c- o>+</c-> <c- p>(</c->currentPage<c- o>-</c-><c- mf>1</c-><c- p>);</c->
 <c- p>}</c->
<c- p>&lt;/</c-><c- f>script</c-><c- p>></c-></code></pre>

   <p>スクリプトをもたないシステムにおいて、前の例と同じように動作する。しかし、同じ体験に対するネットワークアクセスが存在しないので、スクリプトをサポート<em>する</em>ユーザーは現在はるかに速く移動できる。さらに、経験に反して、ユーザーは単にナイーブなスクリプトベースのアプローチ、ブックマーク、およびセッション履歴の移動が依然として動作する必要がある。</p>

   <p>上記の例において、<code id="the-history-interface:dom-history-pushstate-2"><a href="#dom-history-pushstate">pushState()</a></code>メソッドへの<var>data</var>引数は、サーバーに送信されるものと同じ情報であるが、スクリプトはURLにユーザーが移動するたびに解析する必要はないので、より便利な形式となる。</p>

  </div>

  <div class="example"><p>ほとんどのアプリケーションは、すべての履歴エントリーに同じ<a id="the-history-interface:scroll-restoration-mode" href="browsing-the-web.html#scroll-restoration-mode">スクロール復元モード</a>値を使用したいと考えている。これを実現するために、できるだけ早く<code id="the-history-interface:dom-history-scroll-restoration-2"><a href="#dom-history-scroll-restoration">scrollRestoration</a></code>属性を設定して（たとえば、文書の<code id="the-history-interface:the-head-element"><a href="semantics.html#the-head-element">head</a></code>要素の最初の<code id="the-history-interface:the-script-element"><a href="scripting.html#the-script-element">script</a></code>要素で）、履歴セッションに追加されたエントリーが確実に希望のスクロール復元モードになるようにする。</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>head</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>script</c-><c- p>></c->
       <c- k>if</c-> <c- p>(</c-><c- t>'scrollRestoration'</c-> <c- k>in</c-> history<c- p>)</c->
            history<c- p>.</c->scrollRestoration <c- o>=</c-> <c- t>'manual'</c-><c- p>;</c->
  <c- p>&lt;/</c-><c- f>script</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>head</c-><c- p>></c->
   </code></pre>
  </div>


  <h4 id="nav-traversal-event-interfaces"><span class="secno">7.2.5</span> イベントインターフェイス<a href="#nav-traversal-event-interfaces" class="self-link"></a></h4>


  <h5 id="the-popstateevent-interface"><span class="secno">7.2.5.1</span> <code>PopStateEvent</code>インターフェイス<a href="#the-popstateevent-interface" class="self-link"></a></h5><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/PopStateEvent" title="PopStateEvent is an interface for the popstate event.">PopStateEvent</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>4+</span></span><span class="safari yes"><span>Safari</span><span>6+</span></span><span class="chrome yes"><span>Chrome</span><span>4+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div>

  

  <dl class="domintro"><dt><code><var>event</var>.<span id="dom-popstateevent-state">state</span></code><dd><p><code id="the-popstateevent-interface:dom-history-pushstate"><a href="#dom-history-pushstate">pushState()</a></code>または<code id="the-popstateevent-interface:dom-history-replacestate"><a href="#dom-history-replacestate">replaceState()</a></code>へ提供される情報のコピーを返す。</dl>

  


  <h5 id="the-hashchangeevent-interface"><span class="secno">7.2.5.2</span> <code>HashChangeEvent</code>インターフェイス<a href="#the-hashchangeevent-interface" class="self-link"></a></h5><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/HashChangeEvent" title="The HashChangeEvent interface represents events that fire when the fragment identifier of the URL has changed.">HashChangeEvent</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>3.6+</span></span><span class="safari yes"><span>Safari</span><span>5+</span></span><span class="chrome yes"><span>Chrome</span><span>8+</span></span><hr><span class="opera yes"><span>Opera</span><span>10.6+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>8+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>5+</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>11+</span></span></div></div></div>

  

  <dl class="domintro"><dt><code><var>event</var>.<span id="dom-hashchangeevent-oldurl">oldURL</span></code><dd><p>以前に現在であった<a id="the-hashchangeevent-interface:session-history-entry" href="browsing-the-web.html#session-history-entry">セッション履歴のエントリー</a>の<a id="the-hashchangeevent-interface:url" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a>を返す。</p>
   <dt><code><var>event</var>.<span id="dom-hashchangeevent-newurl">newURL</span></code><dd><p>今現在である<a id="the-hashchangeevent-interface:session-history-entry-2" href="browsing-the-web.html#session-history-entry">セッション履歴のエントリー</a>の<a id="the-hashchangeevent-interface:url-2" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a>を返す。</p>
   </dl>

  


  <h5 id="the-pagetransitionevent-interface"><span class="secno">7.2.5.3</span> <code>PageTransitionEvent</code>インターフェイス<a href="#the-pagetransitionevent-interface" class="self-link"></a></h5><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/PageTransitionEvent" title="The PageTransitionEvent event object is available inside handler functions for the pageshow and pagehide events, fired when a document is being loaded or unloaded.">PageTransitionEvent</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1.5+</span></span><span class="safari yes"><span>Safari</span><span>5+</span></span><span class="chrome yes"><span>Chrome</span><span>4+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>11</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>4+</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div>

  

  <dl class="domintro"><dt><code><var>event</var>.<span id="dom-pagetransitionevent-persisted">persisted</span></code><dd><p><code id="the-pagetransitionevent-interface:event-pageshow"><a href="indices.html#event-pageshow">pageshow</a></code>に対して、ページが新しく読み込まれている（および<code id="the-pagetransitionevent-interface:event-load"><a href="indices.html#event-load">load</a></code>イベントが発生する）場合にfalseを返す。そうでなければ、trueを返す。</p>

    <p><code id="the-pagetransitionevent-interface:event-pagehide"><a href="indices.html#event-pagehide">pagehide</a></code>イベントに対して、ページが最後の時間まで出かける場合はfalseを返す。そうでなければtrueを返す。これは、ユーザーがこのページに戻った場合（<code>Document</code>の<i id="the-pagetransitionevent-interface:concept-document-salvageable"><a href="document-lifecycle.html#concept-document-salvageable">salvageable</a></i>状態がtrueのままの場合）にページが再利用される可能性があることを意味する。</p>

    <p>ページがサルベージ不能になる原因には、次のものがある：</p>

    <ul class="brief"><li>ユーザーエージェントが、<a href="document-lifecycle.html#unload-a-document" id="the-pagetransitionevent-interface:unload-a-document">アンロード</a>後に<a id="the-pagetransitionevent-interface:session-history-entry" href="browsing-the-web.html#session-history-entry">セッション履歴エントリー</a>で<code>Document</code>を存続させないことを決定した<li><i id="the-pagetransitionevent-interface:concept-document-salvageable-2"><a href="document-lifecycle.html#concept-document-salvageable">salvageable</a></i>ではない<code id="the-pagetransitionevent-interface:the-iframe-element"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>を持っている<li>アクティブな<code id="the-pagetransitionevent-interface:websocket-2"><a data-x-internal="websocket-2" href="https://triple-underscore.github.io/WebSocket-ja.html#websocket">WebSocket</a></code>オブジェクト<li><a href="document-lifecycle.html#abort-a-document" id="the-pagetransitionevent-interface:abort-a-document"><code>Document</code>の中止</a></ul>
   </dl>

  


  <h5 id="the-beforeunloadevent-interface"><span class="secno">7.2.5.4</span> <code>BeforeUnloadEvent</code>インターフェイス<a href="#the-beforeunloadevent-interface" class="self-link"></a></h5><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/BeforeUnloadEvent" title="BeforeUnloadEvent is an interface for the beforeunload event.">BeforeUnloadEvent</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1.5+</span></span><span class="safari yes"><span>Safari</span><span>7+</span></span><span class="chrome yes"><span>Chrome</span><span>30+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>3.0+</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div>

  

  <p class="note"><code>BeforeUnloadEvent</code>固有の初期化メソッドは存在しない。</p>

  <p><code>BeforeUnloadEvent</code>インターフェイスは、イベントをキャンセルするだけでなく、<code>returnValue</code>属性を空文字列以外の値に設定することで、<a id="the-beforeunloadevent-interface:checking-if-unloading-is-user-canceled" href="browsing-the-web.html#checking-if-unloading-is-user-canceled">アンロードがユーザーによってキャンセルされたかどうかをチェック</a>できるようにするレガシーインターフェイスである。著者は、<code>returnValue</code>を使用する代わりに、<code id="the-beforeunloadevent-interface:dom-event-preventdefault"><a data-x-internal="dom-event-preventdefault" href="https://triple-underscore.github.io/DOM4-ja.html#dom-event-preventdefault">preventDefault()</a></code>メソッド、またはイベントをキャンセルするその他の手段を使用すべきである。</p>

  

  <nav><a href="browsers.html">← 7 ウェブページの読み込み</a> — <a href="./">目次</a> — <a href="document-sequences.html">7.3 文書シーケンスのインフラ →</a></nav>
