<!DOCTYPE html><html class="split" lang="ja"><script src="https://html.spec.whatwg.org/link-fixup.js" defer=""></script><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"><title>HTML Standard, Developer's Edition 日本語訳</title><meta content="#3c790a" name="theme-color"><link rel="stylesheet" href="https://resources.whatwg.org/standard-shared-with-dev.css" crossorigin=""><link rel="icon" href="https://resources.whatwg.org/logo.svg" crossorigin=""><link rel="stylesheet" href="https://html.spec.whatwg.org/dev/styles.css" crossorigin=""><script>
   function toggleStatus(div) {
     div.parentNode.classList.toggle('wrapped');
   }
   function setLinkFragment(link) {
     link.hash = location.hash;
   }
  </script><body>
  <script async="" src="./search.js"></script>
  
  
  
  <header id="head" class="head with-buttons"><a href="https://whatwg.org/" class="logo"><img width="100" alt="WHATWG" crossorigin="" src="https://resources.whatwg.org/logo.svg" height="100"></a><hgroup><h1><a rel="home" href="./dev" />HTML: The Living Standard</a></h1><h2 id="dev-edition-h2" class="no-num no-toc">Developer's Edition — Last Updated <span class="pubdate">26 February 2021</span></h2></hgroup>
   

   <div id="search"><input placeholder="Search. Press '/'" autocomplete="off" name="query" id="query" type="search"><ol id="results"></ol>
   </div>
  </header>

  

  

  

  
  

  
  

  

  <nav><a href="dnd.html">← 6.9 ドラッグアンドドロップ</a> — <a href="./">目次</a> — <a href="window-object.html">7.3 Windowオブジェクト →</a></nav><ol class="toc"><li><a href="browsers.html#browsers"><span class="secno">7</span> ウェブページの読み込み</a><ol><li><a href="browsers.html#windows"><span class="secno">7.1</span> ブラウジングコンテキスト</a><ol><li><a href="browsers.html#creating-browsing-contexts"><span class="secno">7.1.1</span> ブラウジングコンテキストを作成する</a><li><a href="browsers.html#nested-browsing-contexts"><span class="secno">7.1.2</span> 関連するブラウジングコンテキスト</a><ol><li><a href="browsers.html#navigating-nested-browsing-contexts-in-the-dom"><span class="secno">7.1.2.1</span> DOMで関連するブラウジングコンテキストをナビゲートする</a></ol><li><a href="browsers.html#browsing-context-names"><span class="secno">7.1.3</span> ブラウジングコンテキスト名</a></ol></ol></ol><h2 id="browsers"><span class="secno">7</span> ウェブページの読み込み<a href="#browsers" class="self-link"></a></h2>

  



  <h3 id="windows"><span class="secno">7.1</span> ブラウジングコンテキスト<a href="#windows" class="self-link"></a></h3>

  <p><dfn id="browsing-context" data-export="">ブラウジングコンテキスト</dfn>は<code>Document</code>オブジェクトがユーザーに提示される環境である。</p>

  <p class="note"><code id="windows:the-iframe-element"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>を含むと同様に、ウェブブラウザーにおいてタブやウィンドウは通常、<a href="#browsing-context" id="windows:browsing-context">ブラウジングコンテキスト</a>を含む。</p>

  <p><a href="#browsing-context" id="windows:browsing-context-2">ブラウジングコンテキスト</a>は、対応する<code>WindowProxy</code>オブジェクトを持つ。</p>

  <p><a href="#browsing-context" id="windows:browsing-context-3">ブラウジングコンテキスト</a>は、<dfn id="opener-browsing-context" data-export="">オープナーブラウジングコンテキスト</dfn>を持ち、これはnullまたは<a href="#browsing-context" id="windows:browsing-context-4">ブラウジングコンテキスト</a>である最初はnullである。</p>

  <p><a href="#browsing-context" id="windows:browsing-context-5">ブラウジングコンテキスト</a>は、<dfn id="disowned-its-opener">不所有</dfn>の真偽値を持つ。最初はfalseである。</p>

  <p><a href="#browsing-context" id="windows:browsing-context-6">ブラウジングコンテキスト</a>は、<dfn id="is-closing">閉じている</dfn>真偽値を持つ。最初はfalseである。</p>

  <div class="example"><p>次の例は、<a href="#browsing-context" id="windows:browsing-context-7">ブラウジングコンテキスト</a>のさまざまな可能性を示している。<a href="#disowned-its-opener" id="windows:disowned-its-opener">不所有</a>、<a href="#is-closing" id="windows:is-closing">閉じている</a>、どちらでもない、または両方である可能性がある。</p>

   <pre><code class='js'><c- c1>// Neither disowned nor is closing:</c->
<c- kr>const</c-> popup1 <c- o>=</c-> window<c- p>.</c->open<c- p>();</c->

<c- c1>// Disowned, but not is closing:</c->
<c- kr>const</c-> popup2 <c- o>=</c-> window<c- p>.</c->open<c- p>();</c->
popup2<c- p>.</c->opener <c- o>=</c-> <c- kc>null</c-><c- p>;</c->

<c- c1>// Not disowned, but is closing:</c->
<c- kr>const</c-> popup3 <c- o>=</c-> window<c- p>.</c->open<c- p>();</c->
popup3<c- p>.</c->close<c- p>();</c->

<c- c1>// Disowned, is closing:</c->
<c- kr>const</c-> popup4 <c- o>=</c-> window<c- p>.</c->open<c- p>();</c->
popup4<c- p>.</c->opener <c- o>=</c-> <c- kc>null</c-><c- p>;</c->
popup4<c- p>.</c->close<c- p>();</c-></code></pre></div>

  <p><a href="#browsing-context" id="windows:browsing-context-8">ブラウジングコンテキスト</a>は、<a href="#browsing-context" id="windows:browsing-context-9">ブラウジングコンテキスト</a>が提示されていた、している、またはするだろう<code>Document</code>オブジェクトを一覧表示する<a id="windows:session-history" href="history.html#session-history">セッション履歴</a>を持つ。<dfn data-export="" data-lt="browsing context" id="concept-document-bc" data-dfn-for="Document"><code>Document</code>のブラウジングコンテキスト</dfn>は、そのようなブラウジングコンテキストが存在しかつ<span>破棄</span>されていない場合、<a id="windows:session-history-2" href="history.html#session-history">セッション履歴</a>にその<code>Document</code>が含まれる<a href="#browsing-context" id="windows:browsing-context-10">ブラウジングコンテキスト</a>であり、そうでなければnullである。</p>

  <p class="note"><code>Document</code>は、必ずしも非nullの<a href="#concept-document-bc" id="windows:concept-document-bc">ブラウジングコンテキスト</a>を持つとは限らない。具体的には、データマイニングツールはブラウジングコンテキストをインスタンス化できないだろう。<code id="windows:dom-domimplementation-createdocument"><a data-x-internal="dom-domimplementation-createdocument" href="https://triple-underscore.github.io/DOM4-ja.htmlcreatedocument">createDocument()</a></code>のような API を使用して作成された<code>Document</code>は、非nullの<a href="#concept-document-bc" id="windows:concept-document-bc-2">ブラウジングコンテキスト</a>を持つことはない。<a href="infrastructure.html#remove-an-element-from-a-document" id="windows:remove-an-element-from-a-document">文書から削除</a>されて以来、<code id="windows:the-iframe-element-2"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>要素で当初は作成された<code>Document</code>は、そのブラウジングコンテキストが<span>破棄された</span>ので、関連付けられたブラウジングコンテキストを持たない。</p>

  <p><a href="#browsing-context" id="windows:browsing-context-11">ブラウジングコンテキスト</a>の<dfn data-dfn-for="browsing context" id="active-window" data-export="">アクティブウィンドウ</dfn>は、その <code>WindowProxy</code>オブジェクトの<span>[[Window]]</span>内部スロット値である。<a href="#browsing-context" id="windows:browsing-context-12">ブラウジングコンテキスト</a>の<dfn id="active-document" data-export="">アクティブ文書</dfn>は、その<a href="#active-window" id="windows:active-window">アクティブウィンドウ</a>に<span>関連付けられた<code>Document</code></span>である。<p class="note">一般に、<code>Document</code>オブジェクトが非null<a href="#concept-document-bc" id="windows:concept-document-bc-3">ブラウジングコンテキスト</a>を持っている限り、<code>Window</code>オブジェクトから<code>Document</code>オブジェクトへのマッピングは1対1になる。例外が1つある。<code>Window</code>は、マッピングが1対2になるように、同じ<a href="#browsing-context" id="windows:browsing-context-13">ブラウジングコンテキスト</a>で2番目の<code>Document</code>のプレゼンテーションに再利用できる。This occurs when a <a href="#browsing-context" id="windows:browsing-context-14">browsing context</a> is <span>navigated</span> from the initial <code id="windows:about:blank"><a href="infrastructure.html#about:blank">about:blank</a></code> <code>Document</code> to another, with <var>historyHandling</var> set to "<code>replace</code>".</p>

  <p>A <a href="#browsing-context" id="windows:browsing-context-15">browsing context</a> has a <dfn id="virtual-browsing-context-group-id">virtual browsing context group ID</dfn> integer. It is initially 0. This is used by <a href="origin.html#coop-struct-report-only-value" id="windows:coop-struct-report-only-value">cross-origin opener policy reporting</a>, to keep track of the browsing context group switches that would have happened if the report-only policy had been enforced.</p>

  <p>A <a href="#browsing-context" id="windows:browsing-context-16">browsing context</a> has an <dfn id="browsing-context-initial-url">initial URL</dfn>, which is a <a id="windows:url" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a> or null. 最初はnullである。</p>

  <p>A <a href="#browsing-context" id="windows:browsing-context-17">browsing context</a> has an <dfn id="opener-origin-at-creation">opener origin at creation</dfn>, which is an <a id="windows:concept-origin" href="origin.html#concept-origin">origin</a> or null. 最初はnullである。</p>

  <h4 id="creating-browsing-contexts"><span class="secno">7.1.1</span> ブラウジングコンテキストを作成する<a href="#creating-browsing-contexts" class="self-link"></a></h4>

  <p><code>Document</code>オブジェクト<var>document</var>に<a href="#browsing-context" id="creating-browsing-contexts:browsing-context">ブラウジングコンテキスト</a><var>browsingContext</var>の<dfn id="set-the-active-document">アクティブ文書を設定する</dfn>には、次の手順を実行する：</p>

  <ol><li><p><var>window</var>を<var>document</var>の<span>関連するグローバルオブジェクト</span>にする。<li><p><var>browsingContext</var>の<a href="#active-window" id="creating-browsing-contexts:active-window">アクティブウィンドウ</a>を<var>window</var>に設定する。<li><p><var>window</var>の<span>関連<code>Document</code></span>を<var>document</var>に設定する。<li><p><var>window</var>の<span>関連設定オブジェクト</span>の<span>実行準備フラグ</span>を設定する。</ol>

  <hr>

  <p><a href="#browsing-context" id="creating-browsing-contexts:browsing-context-2">ブラウジングコンテキスト</a>は、関連付けられている<dfn id="creator-origin">作成者の生成元</dfn>（nullまたは<a id="creating-browsing-contexts:concept-origin" href="origin.html#concept-origin">生成元</a>を返す）、<dfn id="creator-url">作成者のURL</dfn>（nullまたは<a id="creating-browsing-contexts:url" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a>を返す）、および<dfn id="creator-base-url">作成者のベースURL</dfn>（nullまたは<a id="creating-browsing-contexts:url-2" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a>を返す）を持つ。これらは最初はnullである。</p>

  


  <h4 id="nested-browsing-contexts"><span class="secno">7.1.2</span> 関連するブラウジングコンテキスト<a href="#nested-browsing-contexts" class="self-link"></a></h4>

  <p>特定の要素（たとえば、<code id="nested-browsing-contexts:the-iframe-element"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>要素）は、<a href="#browsing-context" id="nested-browsing-contexts:browsing-context">ブラウジングコンテキスト</a>をさらにインスタンス化できる。この要素は、<dfn id="browsing-context-container" data-lt="browsing context container" data-export="">ブラウジングコンテキストコンテナ</dfn>と呼ばれる。</p>

  <p>各<a href="#browsing-context-container" id="nested-browsing-contexts:browsing-context-container">ブラウジングコンテキストコンテナ</a>は、<a href="#browsing-context" id="nested-browsing-contexts:browsing-context-2">ブラウジングコンテキスト</a>またはnullのいずれとなる、<dfn id="nested-browsing-context" data-export="">ネストされたブラウジングコンテキスト</dfn>を持つ。最初はnullである。</p>

  <p><a href="#browsing-context" id="nested-browsing-contexts:browsing-context-3">ブラウジングコンテキスト</a><var>bc</var>の<dfn id="bc-container">コンテナー</dfn>は、<a href="#nested-browsing-context" id="nested-browsing-contexts:nested-browsing-context">ネストされたブラウジングコンテキスト</a>が<var>bc</var>である<a href="#browsing-context-container" id="nested-browsing-contexts:browsing-context-container-2">ブラウジングコンテキストコンテナー</a>であり、そのような要素がない場合はnullである。</p>

  <p>各<a href="#browsing-context" id="nested-browsing-contexts:browsing-context-4">ブラウジングコンテキスト</a><var>bc</var>は、<dfn id="bc-container-document">コンテナー文書</dfn>を持ち、これは次の手順を実行した結果である：</p>

  <ol><li><p><var>bc</var>の<a href="#bc-container" id="nested-browsing-contexts:bc-container">コンテナー</a>がnullである場合、nullを返す。<li><p><var>bc</var>の<a href="#bc-container" id="nested-browsing-contexts:bc-container-2">コンテナー</a>の<a id="nested-browsing-contexts:node-document" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">ノード文書</a>を返す。</p>

    <p class="note"><var>bc</var>の<a href="#bc-container" id="nested-browsing-contexts:bc-container-4">コンテナー</a>を<a id="nested-browsing-contexts:connected" href="https://triple-underscore.github.io/DOM4-ja.html#connected" data-x-internal="connected">接続する</a>必要があるため、これは<var>bc</var>の<a href="#bc-container" id="nested-browsing-contexts:bc-container-3">コンテナー</a>の<a id="nested-browsing-contexts:shadow-including-root" href="https://triple-underscore.github.io/DOM4-ja.html#concept-shadow-including-root" data-x-internal="shadow-including-root">シャドウを含むルート</a>と同じである。</p>
   </ol>

  <p><var>child</var>の<a href="#bc-container-document" id="nested-browsing-contexts:bc-container-document">コンテナー文書</a>がnullでなく、かつ<var>child</var>の<a href="#bc-container-document" id="nested-browsing-contexts:bc-container-document-2">コンテナー文書</a>の<a href="#concept-document-bc" id="nested-browsing-contexts:concept-document-bc">ブラウジングコンテキスト</a>が<var>parent</var>である場合、<a href="#browsing-context" id="nested-browsing-contexts:browsing-context-5">ブラウジングコンテキスト</a><var>child</var>は、別の<a href="#browsing-context" id="nested-browsing-contexts:browsing-context-6">ブラウジングコンテキスト</a><var>parent</var>の<dfn id="child-browsing-context" data-export="">子ブラウジングコンテキスト</dfn>と呼ばれる。</p>

  <p><a href="#browsing-context" id="nested-browsing-contexts:browsing-context-7">ブラウジングコンテキスト</a><var>child</var>は、<var>child</var>が<a href="#child-browsing-context" id="nested-browsing-contexts:child-browsing-context">子ブラウジングコンテキスト</a>であり、かつ<var>child</var>の<a href="#bc-container" id="nested-browsing-contexts:bc-container-5">コンテナー</a>が<a id="nested-browsing-contexts:in-a-document-tree" href="https://triple-underscore.github.io/DOM4-ja.html#in-a-document" data-x-internal="in-a-document-tree">文書ツリー内</a>である場合、<var>parent</var>の<dfn id="document-tree-child-browsing-context">文書ツリーの子ブラウジングコンテキスト</dfn>である。</p>

  <p><a href="#browsing-context" id="nested-browsing-contexts:browsing-context-8">ブラウジングコンテキスト</a><var>child</var>は<dfn id="parent-browsing-context" data-export="">親ブラウジングコンテキスト</dfn>を持ってもよい。もしそのようなブラウジングコンテキストが存在すれば、これは<a href="#child-browsing-context" id="nested-browsing-contexts:child-browsing-context-2">子ブラウジングコンテキスト</a>として<var>child</var>を持つ一意な<a href="#browsing-context" id="nested-browsing-contexts:browsing-context-9">ブラウジングコンテキスト</a>である。そうでなければ、<a href="#browsing-context" id="nested-browsing-contexts:browsing-context-10">ブラウジングコンテキスト</a>は、<a href="#parent-browsing-context" id="nested-browsing-contexts:parent-browsing-context">親ブラウジングコンテキスト</a>を持たない。</p>

  <p><a href="#browsing-context" id="nested-browsing-contexts:browsing-context-11">ブラウジングコンテキスト</a><var>A</var>が<var>A</var>の<a href="#child-browsing-context" id="nested-browsing-contexts:child-browsing-context-3">子ブラウジングコンテキスト</a>であり、かつ<var>B</var>の<a href="#ancestor-browsing-context" id="nested-browsing-contexts:ancestor-browsing-context">祖先</a>自身であるブラウジングコンテキスト<var>A'</var>が存在する場合、またはブラウジングコンテキスト<var>A</var>が<var>B</var>の<a href="#parent-browsing-context" id="nested-browsing-contexts:parent-browsing-context-2">親ブラウジングコンテキスト</a>である場合、ブラウジングコンテキスト<var>B</var>の<dfn id="ancestor-browsing-context" data-lt="ancestor browsing context" data-export="">祖先</dfn>であると言われる。</p>

  <p><a href="#parent-browsing-context" id="nested-browsing-contexts:parent-browsing-context-3">親ブラウジングコンテキスト</a>を持たない<a href="#browsing-context" id="nested-browsing-contexts:browsing-context-12">ブラウジングコンテキスト</a>は、それ自身の<dfn id="top-level-browsing-context" data-export="">トップレベルブラウジングコンテキスト</dfn>であり、<a href="#ancestor-browsing-context" id="nested-browsing-contexts:ancestor-browsing-context-2">祖先ブラウジングコンテキスト</a>であるブラウジングコンテキストのすべてとなる。</p>

  <p><a href="#top-level-browsing-context" id="nested-browsing-contexts:top-level-browsing-context">トップレベルブラウジングコンテキスト</a>は、関連する<dfn id="tlbc-group">グループ</dfn>（nullまたは<span>ブラウジングコンテキストグループ</span>）を持つ。最初はnullである。</p>

  <p><a href="#bc-container" id="nested-browsing-contexts:bc-container-6">コンテナー</a>がnullの間に、<a href="#top-level-browsing-context" id="nested-browsing-contexts:top-level-browsing-context-2">トップレベルブラウジングコンテキスト</a>に関連する新しいブラウジングコンテキストを作成することができる。そのようなブラウジングコンテキストは、<dfn id="auxiliary-browsing-context" data-lt="auxiliary browsing context" data-export="">補助ブラウジングコンテキスト</dfn>と呼ばれる。補助ブラウジングコンテキストは常に<a href="#top-level-browsing-context" id="nested-browsing-contexts:top-level-browsing-context-3">トップレベルブラウジングコンテキスト</a>である。</p>

  <p><a href="#child-browsing-context" id="nested-browsing-contexts:child-browsing-context-4">子ブラウジングコンテキスト</a>である<a href="#browsing-context" id="nested-browsing-contexts:browsing-context-13">ブラウジングコンテキスト</a>に対する<a href="#parent-browsing-context" id="nested-browsing-contexts:parent-browsing-context-4">親ブラウジングコンテキスト</a>の推移的クロージャは、<a href="#ancestor-browsing-context" id="nested-browsing-contexts:ancestor-browsing-context-3">祖先ブラウジングコンテキスト</a>のリストを与える。</p>

  <p><code>Document</code> <var>d</var>の<dfn id="list-of-the-descendant-browsing-contexts">子孫ブラウジングコンテキストのリスト</dfn>は、以下のアルゴリズムによって返される（順序付きの）リストである：</p>

  <ol><li><p><var>list</var>を空の<a id="nested-browsing-contexts:list" href="https://triple-underscore.github.io/infra-ja.html#list" data-x-internal="list">リスト</a>にする。<li><p><a href="#nested-browsing-context" id="nested-browsing-contexts:nested-browsing-context-2">ネストされたブラウジングコンテキスト</a>がnullでなく、<a id="nested-browsing-contexts:shadow-including-root-2" href="https://triple-underscore.github.io/DOM4-ja.html#concept-shadow-including-root" data-x-internal="shadow-including-root">シャドウを含むルート</a>が<var>d</var>である各<a href="#browsing-context-container" id="nested-browsing-contexts:browsing-context-container-3">ブラウジングコンテキストコンテナー</a><var>container</var>ごとに、<a id="nested-browsing-contexts:shadow-including-tree-order" href="https://triple-underscore.github.io/DOM4-ja.html#concept-shadow-including-tree-order" data-x-internal="shadow-including-tree-order">シャドウを含むツリーの順序</a>で：</p>

    <ol><li><p><var>nestedBC</var>を<var>コンテナー</var>の<a href="#nested-browsing-context" id="nested-browsing-contexts:nested-browsing-context-3">ネストされたブラウジングコンテキスト</a>にする。<li><p><var>nestedBC</var>を<var>list</var>に<a href="https://triple-underscore.github.io/infra-ja.html#list-append" id="nested-browsing-contexts:list-append" data-x-internal="list-append">追加する</a>。<li><p><var>nestedBC</var>の<a href="#active-document" id="nested-browsing-contexts:active-document">アクティブ文書</a>の<a href="#list-of-the-descendant-browsing-contexts" id="nested-browsing-contexts:list-of-the-descendant-browsing-contexts">子孫ブラウジングコンテキストのリスト</a>で<var>list</var>を<a href="https://triple-underscore.github.io/infra-ja.html#list-extend" id="nested-browsing-contexts:list-extend" data-x-internal="list-extend">拡張する</a>。</ol>
   <li><p><var>list</var>を返す。</ol>

  <p>A <code>Document</code> <var>d</var> is said to be <dfn data-dfn-for="Document" id="fully-active" data-export="">fully active</dfn> when <var>d</var>'s <a href="#concept-document-bc" id="nested-browsing-contexts:concept-document-bc-2">browsing context</a> is non-null, <var>d</var>'s <a href="#concept-document-bc" id="nested-browsing-contexts:concept-document-bc-3">browsing context</a>'s <a href="#active-document" id="nested-browsing-contexts:active-document-2">active document</a> is <var>d</var>, and either <var>d</var>'s <a href="#concept-document-bc" id="nested-browsing-contexts:concept-document-bc-4">browsing context</a> is a <a href="#top-level-browsing-context" id="nested-browsing-contexts:top-level-browsing-context-4">top-level browsing context</a>, or <var>d</var>'s <a href="#concept-document-bc" id="nested-browsing-contexts:concept-document-bc-5">browsing context</a>'s <a href="#bc-container-document" id="nested-browsing-contexts:bc-container-document-3">container document</a> is <a href="#fully-active" id="nested-browsing-contexts:fully-active">fully active</a>.</p>

  <p><a href="#child-browsing-context" id="nested-browsing-contexts:child-browsing-context-5">子ブラウジングコンテキスト</a>は要素に関連付けられているため、常にその<a href="#parent-browsing-context" id="nested-browsing-contexts:parent-browsing-context-5">親ブラウジングコンテキスト</a>内の特定の<code>Document</code>に関連付けられている。 ユーザーエージェントは、ユーザーにがいない自身が<a href="#fully-active" id="nested-browsing-contexts:fully-active-2">完全にアクティブ</a>でない<code>Document</code>にある要素の<a href="#child-browsing-context" id="nested-browsing-contexts:child-browsing-context-6">子ブラウジングコンテキスト</a>と対話することを許可してはならない。</p>

  <div class="example"><p>次の例は、<a href="#active-document" id="nested-browsing-contexts:active-document-3">アクティブな</a><code>Document</code>オブジェクトと<a href="#fully-active" id="nested-browsing-contexts:fully-active-3">完全にアクティブな</a><code>Document</code>オブジェクトの違いを示している。 ここで、<code>a.html</code>はブラウザーのウィンドウに読み込まれ、<code>b-1.html</code>は示されているように最初に<code id="nested-browsing-contexts:the-iframe-element-2"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>に読み込まれ、<code>b-2.html</code>および<code>c.html</code>は省略される（単に空の文書にすることができる）。</p>

   <pre><code class='html'><c- c>&lt;!-- a.html --></c->
<c- cp>&lt;!DOCTYPE html></c->
<c- p>&lt;</c-><c- f>html</c-> <c- e>lang</c-><c- o>=</c-><c- s>"en"</c-><c- p>></c->
<c- p>&lt;</c-><c- f>title</c-><c- p>></c->Browsing context A<c- p>&lt;/</c-><c- f>title</c-><c- p>></c->

<c- p>&lt;</c-><c- f>iframe</c-> <c- e>src</c-><c- o>=</c-><c- s>"b-1.html"</c-><c- p>>&lt;/</c-><c- f>iframe</c-><c- p>></c->
<c- p>&lt;</c-><c- f>button</c-> <c- e>onclick</c-><c- o>=</c-><c- s>"frames[0].location.href = 'b-2.html'"</c-><c- p>></c->Click me<c- p>&lt;/</c-><c- f>button</c-><c- p>></c->

<c- c>&lt;!-- b-1.html --></c->
<c- cp>&lt;!DOCTYPE html></c->
<c- p>&lt;</c-><c- f>html</c-> <c- e>lang</c-><c- o>=</c-><c- s>"en"</c-><c- p>></c->
<c- p>&lt;</c-><c- f>title</c-><c- p>></c->Browsing context B<c- p>&lt;/</c-><c- f>title</c-><c- p>></c->

<c- p>&lt;</c-><c- f>iframe</c-> <c- e>src</c-><c- o>=</c-><c- s>"c.html"</c-><c- p>>&lt;/</c-><c- f>iframe</c-><c- p>></c-></code></pre>

   <p>この時点で、<code>a.html</code>、<code>b-1.html</code>、および<code>c.html</code>によって提供される文書はすべて、それぞれの<a href="#concept-document-bc" id="nested-browsing-contexts:concept-document-bc-6">ブラウジングコンテキスト</a>の<a href="#active-document" id="nested-browsing-contexts:active-document-4">アクティブな文書</a>である。それらはまた、すべて<a href="#fully-active" id="nested-browsing-contexts:fully-active-4">完全にアクティブ</a>である。</p>

   <p><code id="nested-browsing-contexts:the-button-element"><a href="form-elements.html#the-button-element">button</a></code>をクリックし、<code>b-2.html</code>からブラウジングコンテキストBに新しい<code>Document</code>をロードする後に、次の結果が得られる：</p>

   <ul><li><p><code>a.html</code> <code>Document</code>は、ブラウジングコンテキストAの<a href="#active-document" id="nested-browsing-contexts:active-document-5">アクティブな文書</a>のままであり、<a href="#fully-active" id="nested-browsing-contexts:fully-active-5">完全にアクティブ</a>である。<li><p><code>b-1.html</code> <code>Document</code> は、ブラウジングコンテキストBの<a href="#active-document" id="nested-browsing-contexts:active-document-6">アクティブな文書</a>では<em>なくなった</em>。そのため、<a href="#fully-active" id="nested-browsing-contexts:fully-active-6">完全にアクティブ</a>にもならない。<li><p>新しい<code>b-2.html</code> <code>Document</code> は、ブラウジングコンテキストBの<a href="#active-document" id="nested-browsing-contexts:active-document-7">アクティブな文書</a>になり、<a href="#fully-active" id="nested-browsing-contexts:fully-active-7">完全にアクティブ</a>にもなる。<li><p><code>c.html</code> <code>Document</code>は引き続きブラウジングコンテキストCの<a href="#active-document" id="nested-browsing-contexts:active-document-8">アクティブな文書</a>である。しかし、Cの<a href="#bc-container-document" id="nested-browsing-contexts:bc-container-document-4">コンテナー文書</a>は<code>b-1.html</code> <code>Document</code>であり、それ自身は<a href="#fully-active" id="nested-browsing-contexts:fully-active-8">完全にアクティブ</a>ではないため、 <code>c.html</code> <code>Document</code>は<a href="#fully-active" id="nested-browsing-contexts:fully-active-9">完全にアクティブ</a>にはならない（<a href="#active-document" id="nested-browsing-contexts:active-document-9">アクティブ</a>であるにもかかわらず）。</ul>

   <p>ここに含まれる複雑さ、特に<a href="history.html#history">セッション履歴</a>に影響を与える詳細については、<cite>A Model of Navigation History</cite>を参照のこと。<a href="references.html#refsNAVMODEL">[NAVMODEL]</a></p>
  </div>

  <p><a href="#child-browsing-context" id="nested-browsing-contexts:child-browsing-context-7">子ブラウジングコンテキスト</a>は、<dfn id="delaying-load-events-mode">遅延<code>load</code>イベントモード</dfn>にすることができる。新しい<code>Document</code>が作成される前に、<a href="#bc-container" id="nested-browsing-contexts:bc-container-7">コンテナー</a>の<span>ロードイベントを遅延させる</span>ために、<span>ナビゲート</span>時に使用される。</p>

  <p><a href="#browsing-context" id="nested-browsing-contexts:browsing-context-14">ブラウジングコンテキスト</a>の<dfn id="document-family">文書ファミリー</dfn>は、その<a href="#browsing-context" id="nested-browsing-contexts:browsing-context-15">ブラウジングコンテキスト</a>の<a id="nested-browsing-contexts:session-history" href="history.html#session-history">セッション履歴</a>ですべての<code>Document</code>オブジェクト、およびすべてのそれら<code>Document</code>オブジェクトの<a href="#document-family" id="nested-browsing-contexts:document-family">文書ファミリー</a>の和集合で構成される。<code>Document</code>オブジェクトの<a href="#document-family" id="nested-browsing-contexts:document-family-2">文書ファミリー</a>は、<code>Document</code>オブジェクトの<a href="#list-of-the-descendant-browsing-contexts" id="nested-browsing-contexts:list-of-the-descendant-browsing-contexts-2">子孫のブラウジングコンテキストのリスト</a>にある<a href="#browsing-context" id="nested-browsing-contexts:browsing-context-16">ブラウジングコンテキスト</a>のすべての<a href="#document-family" id="nested-browsing-contexts:document-family-3">文書ファミリー</a>の和集合で構成されている。</p>

  <p><a href="#browsing-context-container" id="nested-browsing-contexts:browsing-context-container-4">ブラウジングコンテキストコンテナー</a> <var>container</var>の<dfn id="concept-bcc-content-document">コンテンツ文書</dfn>は、次のアルゴリズムの結果である：</p>

  <ol><li><p><var>container</var>の<a href="#nested-browsing-context" id="nested-browsing-contexts:nested-browsing-context-4">ネストされたブラウジングコンテキスト</a>がnullである場合、nullを返す。<li><p><var>context</var>を<var>container</var>の<a href="#nested-browsing-context" id="nested-browsing-contexts:nested-browsing-context-5">ネストされたブラウジングコンテキスト</a>にする。<li><p><var>document</var>を<var>context</var>の<a href="#active-document" id="nested-browsing-contexts:active-document-10">アクティブ文書</a>にする。<li><p><var>document</var>の<a href="https://dom.spec.whatwg.org/#concept-document-origin" id="nested-browsing-contexts:concept-document-origin" data-x-internal="concept-document-origin">生成元</a>および<var>container</var>の<a id="nested-browsing-contexts:node-document-2" href="https://triple-underscore.github.io/DOM4-ja.html#concept-node-document" data-x-internal="node-document">ノード文書</a>の<a href="https://dom.spec.whatwg.org/#concept-document-origin" id="nested-browsing-contexts:concept-document-origin-2" data-x-internal="concept-document-origin">生成元</a>が<span>同一生成元ドメイン</span>でない場合、nullを返す。<li><p><var>document</var>を返す。</ol>


  <h5 id="navigating-nested-browsing-contexts-in-the-dom"><span class="secno">7.1.2.1</span> DOMで関連するブラウジングコンテキストをナビゲートする<a href="#navigating-nested-browsing-contexts-in-the-dom" class="self-link"></a></h5>

  <dl class="domintro"><dt><var>window</var> . <code id="dom-top">top</code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/top" title="Returns a reference to the topmost window in the window hierarchy.">Window/top</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>3+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><dd><p><a href="#top-level-browsing-context" id="navigating-nested-browsing-contexts-in-the-dom:top-level-browsing-context">トップレベルブラウジングコンテキスト</a>の<code>WindowProxy</code>を返す。</p>
   <dt><var>window</var> . <code id="dom-opener">opener</code> [ = <var>value</var> ]<div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/opener" title="The Window interface's opener property returns a reference to the window that opened the window, either with open(), or by navigating a link with a target attribute.">Window/opener</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>9+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div><dd><p><a href="#opener-browsing-context" id="navigating-nested-browsing-contexts-in-the-dom:opener-browsing-context">オープナーブラウジングコンテキスト</a>に対する<code>WindowProxy</code>を返す。</p>

    <p>存在しないまたはnullが設定されている場合、nullを返す。</p>

    <p>nullに設定可能である。</p>
   <dt><var>window</var> . <code id="dom-parent">parent</code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/parent" title="The Window.parent property is a reference to the parent of the current window or subframe.">Window/parent</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1.3+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>9+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div><dd><p><a href="#parent-browsing-context" id="navigating-nested-browsing-contexts-in-the-dom:parent-browsing-context">親ブラウジングコンテキスト</a>に対する<code>WindowProxy</code>を返す。</p>
   <dt><var>window</var> . <code id="dom-frameelement">frameElement</code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/frameElement" title="The Window.frameElement property returns the element (such as &lt;iframe> or &lt;object>) in which the window is embedded.">Window/frameElement</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>3+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>12.1+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>5.5+</span></span><hr><span class="firefox_android yes"><span>Firefox Android</span><span>4+</span></span><span class="safari_ios yes"><span>Safari iOS</span><span>1+</span></span><span class="chrome_android yes"><span>Chrome Android</span><span>18+</span></span><span class="webview_android yes"><span>WebView Android</span><span>1+</span></span><span class="samsunginternet_android yes"><span>Samsung Internet</span><span>1.0+</span></span><span class="opera_android yes"><span>Opera Android</span><span>12.1+</span></span></div></div></div><dd><p><a href="#browsing-context-container" id="navigating-nested-browsing-contexts-in-the-dom:browsing-context-container">ブラウジングコンテキストコンテナ</a>の<code id="navigating-nested-browsing-contexts-in-the-dom:element"><a data-x-internal="element" href="https://triple-underscore.github.io/DOM4-ja.html#interface-element">Element</a></code>を返す。</p>

    <p>存在しない場合、生成元をまたいだ状況でnullを返す。</p>
   </dl>

  


  



  <h4 id="browsing-context-names"><span class="secno">7.1.3</span> ブラウジングコンテキスト名<a href="#browsing-context-names" class="self-link"></a></h4>

  <p>ブラウジングコンテキストは、<dfn id="browsing-context-name">ブラウジングコンテキスト名</dfn>を持つことができる。特に明記しない限り、それは空文字列である。</p>

  <p><dfn id="valid-browsing-context-name">妥当なブラウジングコンテキスト名</dfn>は、U+005F LOW LINE文字で始まらない少なくとも1文字をもつ任意の文字列である。（アンダースコアで始まる名前は、特別なキーワードのために予約されている。）</p>

  <p><dfn id="valid-browsing-context-name-or-keyword">妥当なブラウジングコンテキスト名またはキーワード</dfn>は、<a href="#valid-browsing-context-name" id="browsing-context-names:valid-browsing-context-name">妥当なブラウジングコンテキスト名</a>または<a id="browsing-context-names:ascii-case-insensitive" href="https://triple-underscore.github.io/infra-ja.html#ascii-case-insensitive" data-x-internal="ascii-case-insensitive">ASCII大文字・小文字不区別</a>で<code>_blank</code>、<code>_self</code>、<code>_parent</code>、または<code>_top</code>の1つに一致するいずれかとなる任意の文字列である。</p>

  <p>これらの値は、以下の（非規範的な）テーブルで要約されるように、ページがサンドボックス化されるかどうかに基づいて異なる意味を持つ。この表において、"current"はリンクまたはスクリプト内にある<a href="#browsing-context" id="browsing-context-names:browsing-context">ブラウジングコンテキスト</a>を意味し、"parent"はリンクまたはスクリプト内にあるいずれかの<a href="#parent-browsing-context" id="browsing-context-names:parent-browsing-context">親ブラウジングコンテキスト</a>を意味し、"top"はリンクまたはスクリプトがあるいずれかの<a href="#top-level-browsing-context" id="browsing-context-names:top-level-browsing-context">トップレベルブラウジングコンテキスト</a>を意味し、"new"はさまざまなユーザー設定とユーザーエージェントのポリシーに次第で、新しい<a href="#top-level-browsing-context" id="browsing-context-names:top-level-browsing-context-2">トップレベルブラウジングコンテキスト</a>または<a href="#auxiliary-browsing-context" id="browsing-context-names:auxiliary-browsing-context">補助ブラウジングコンテキスト</a>が作成されることを意味し、"none"は何も起こらないことを意味し、"maybe new"は"<code id="browsing-context-names:attr-iframe-sandbox-allow-popups"><a href="origin.html#attr-iframe-sandbox-allow-popups">allow-popups</a></code>"キーワードはまた<code id="browsing-context-names:attr-iframe-sandbox"><a href="iframe-embed-object.html#attr-iframe-sandbox">sandbox</a></code>属性で指定される場合（またはユーザーがサンドボックスを覆う場合）、"new"と同じであり、そうでなければ"none"と同じである。</p>

  <table><thead><tr><th rowspan="2">キーワード<th rowspan="2">普通の効果<th colspan="2"><code id="browsing-context-names:the-iframe-element"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>での効果<tr><th><code>sandbox=""</code><th><code>sandbox="allow-top-navigation"</code><tbody><tr><td>リンクおよびフォーム送信に対して、何も指定しない<td>current<td>current<td>current<tr><td>空文字列<td>current<td>current<td>current<tr><td><code>_blank</code><td>new<td>maybe new<td>maybe new<tr><td><code>_self</code><td>current<td>current<td>current<tr><td>親が存在しない場合の<code>_parent</code><td>current<td>current<td>current<tr><td>親がまたトップである場合の<code>_parent</code><td>parent/top<td>none<td>parent/top<tr><td>存在するがトップでない場合の<code>_parent</code><td>parent<td>none<td>none<tr><td>トップが現在である場合の<code>_top</code><td>current<td>current<td>current<tr><td>トップが現在でない場合の<code>_top</code><td>top<td>none<td>top<tr><td>名前が存在しない<td>new<td>maybe new<td>maybe new<tr><td>名前が存在しかつ子孫である<td>specified descendant<td>specified descendant<td>specified descendant<tr><td>名前が存在し現在である<td>current<td>current<td>current<tr><td>名前が存在しかつトップとなる祖先である<td>specified ancestor<td>none<td>specified ancestor/top<tr><td>名前が存在しかつトップでない祖先である<td>specified ancestor<td>none<td>none<tr><td>他の名前が共通のトップとともに存在する<td>specified<td>none<td>none<tr><td><span>familiar</span>かつ<a id="browsing-context-names:one-permitted-sandboxed-navigator" href="origin.html#one-permitted-sandboxed-navigator">ある許可されたサンドボックス化されたナビゲーター</a>である場合、異なるトップをもつ名前が存在する<td>specified<td>specified<td>specified<tr><td><span>familiar</span>だが<a id="browsing-context-names:one-permitted-sandboxed-navigator-2" href="origin.html#one-permitted-sandboxed-navigator">ある許可されたサンドボックス化されたナビゲーター</a>でない場合、異なるトップをもつ名前が存在する<td>specified<td>none<td>none<tr><td><span>familiar</span>でない、異なるトップをもつ名前が存在する<td>new<td>maybe new<td>maybe new</table>

  <p class="tablenote"><small>サンドボックス化されたブラウジングコンテキストの制限のほとんどは、他のアルゴリズムにより適用される。たとえば、下記で与えられる<span>ブラウジングコンテキスト名で与えられたをブラウジングコンテキストを選択するための規則</span>でなく、<span>ナビゲーション</span>アルゴリズムとして。</small></p>

  



  <nav><a href="dnd.html">← 6.9 ドラッグアンドドロップ</a> — <a href="./">目次</a> — <a href="window-object.html">7.3 Windowオブジェクト →</a></nav>
