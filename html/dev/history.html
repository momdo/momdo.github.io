<!DOCTYPE html><html class="split" lang="ja"><script src="https://html.spec.whatwg.org/link-fixup.js" defer=""></script><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"><title>HTML Standard, Edition for Web Developers日本語訳</title><meta content="#3c790a" name="theme-color"><link rel="stylesheet" href="https://resources.whatwg.org/standard-shared-with-dev.css" crossorigin=""><link rel="icon" href="https://resources.whatwg.org/logo.svg" crossorigin=""><link rel="stylesheet" href="https://html.spec.whatwg.org/dev/styles.css" crossorigin=""><script>
   function toggleStatus(div) {
     div.parentNode.classList.toggle('wrapped');
   }
   function setLinkFragment(link) {
     link.hash = location.hash;
   }
  </script><body>
  <script async="" src="./search.js"></script>
  
  
  
  <header id="head" class="head with-buttons"><a href="https://whatwg.org/" class="logo"><img width="100" alt="WHATWG" crossorigin="" src="https://resources.whatwg.org/logo.svg" height="100"></a><hgroup><h1><a rel="home" href="../dev" />HTML: The Living Standard</a></h1><h2 id="dev-edition-h2" class="no-num no-toc">Edition for Web Developers — Last Updated <span class="pubdate">27 October 2022</span></h2></hgroup>
   

   <div id="search"><input placeholder="Search. Press '/'" autocomplete="off" name="query" id="query" type="search"><ol id="results"></ol>
   </div>
  </header>

  

  

  

  
  

  
  

  

  <nav><a href="origin.html">← 7.3 生成元</a> — <a href="./">目次</a> — <a href="browsing-the-web.html">7.9 ウェブを閲覧する →</a></nav><ol class="toc"><li><ol><li><a href="history.html#history"><span class="secno">7.5</span> セッション履歴およびナビゲーション</a><ol><li><a href="history.html#browsing-sessions"><span class="secno">7.8.1</span> ブラウジングセッション</a><li><a href="history.html#the-session-history-of-browsing-contexts"><span class="secno">7.8.2</span> ブラウジングコンテキストのセッション履歴</a><li><a href="history.html#the-history-interface"><span class="secno">7.8.3</span> <code>History</code>インターフェイス</a><li><a href="history.html#the-location-interface"><span class="secno">7.8.4</span> <code>Location</code>インターフェイス</a></ol></ol></ol><h3 id="history"><span class="secno">7.8</span> セッション履歴およびナビゲーション<a href="#history" class="self-link"></a></h3>

  <h4 id="browsing-sessions"><span class="secno">7.8.1</span> ブラウジングセッション<a href="#browsing-sessions" class="self-link"></a></h4>

  <div class="XXX"><p><dfn id="browsing-session" data-export="">ブラウジングセッション</dfn>は…である。 <a href="#browsing-session" id="browsing-sessions:browsing-session">ブラウジングセッション</a>の定義については、<a href="https://github.com/whatwg/html/issues/4782">whatwg/html issue #4782</a>および<a href="https://github.com/whatwg/html/issues/5350">whatwg/html issue #5350</a>を参照のこと。 `<code id="browsing-sessions:cross-origin-opener-policy-2"><a href="origin.html#cross-origin-opener-policy-2">Cross-Origin-Opener-Policy</a></code>`ヘッダーまたはナビゲーションのために置き換えることができないことを除いて、これは<a id="browsing-sessions:top-level-browsing-context" href="browsers.html#top-level-browsing-context">トップレベルブラウジングコンテキスト</a>にほぼ類似している。</p>

  <p><a id="browsing-sessions:top-level-browsing-context-2" href="browsers.html#top-level-browsing-context">トップレベルブラウジングコンテキスト</a>には、<a href="#browsing-session" id="browsing-sessions:browsing-session-2">ブラウジングセッション</a>である<dfn data-dfn-for="top-level browsing context" id="tlbc-browsing-session" data-export="">ブラウジングセッション</dfn>が関連付けられている。</p>

  <p><span>環境設定オブジェクト</span><var>environment</var>の<dfn data-dfn-for="environment settings object" id="environment-browsing-session" data-export="">ブラウジングセッション</dfn>は、次の手順を実行した結果である：</p>

  <ol><li><p><a id="browsing-sessions:assert" href="https://triple-underscore.github.io/infra-ja.html#assert" data-x-internal="assert">Assert</a>: <var>environment</var>'s <span>global object</span> is a <code>Window</code>.<li><p>Return <var>environment</var>'s <span>global object</span>'s <span>browsing context</span>'s <a id="browsing-sessions:top-level-browsing-context-3" href="browsers.html#top-level-browsing-context">top-level browsing context</a>'s <a href="#tlbc-browsing-session" id="browsing-sessions:tlbc-browsing-session">browsing session</a>.</ol>

  </div>


  <h4 id="the-session-history-of-browsing-contexts"><span class="secno">7.8.2</span> ブラウジングコンテキストのセッション履歴<a href="#the-session-history-of-browsing-contexts" class="self-link"></a></h4>

  <p><a id="the-session-history-of-browsing-contexts:browsing-context" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>内の<code>Document</code>の配列は、その<dfn id="session-history">セッション履歴</dfn>である。<a href="browsers.html#child-browsing-context" id="the-session-history-of-browsing-contexts:child-browsing-context">子ブラウジングコンテキスト</a>を含む各<a id="the-session-history-of-browsing-contexts:browsing-context-2" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>は、個別のセッション履歴を持つ。<a id="the-session-history-of-browsing-contexts:browsing-context-3" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>のセッション履歴は、<a href="#session-history-entry" id="the-session-history-of-browsing-contexts:session-history-entry">セッション履歴のエントリー</a>のフラットなリストから成る。</p>

  <p><a id="the-session-history-of-browsing-contexts:browsing-context-4" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>の<a href="#session-history" id="the-session-history-of-browsing-contexts:session-history">セッション履歴</a>における各<code>Document</code>オブジェクトは、同じ基礎となる<a href="#session-history" id="the-session-history-of-browsing-contexts:session-history-2">セッション履歴</a>をすべてモデル化しなければならない、一意な<code>History</code>オブジェクトに関連付けられる。</p>

  

  <hr>

  <p><dfn id="session-history-entry">セッション履歴エントリー</dfn>は、以下の<a href="https://triple-underscore.github.io/infra-ja.html#struct-item" id="the-session-history-of-browsing-contexts:struct-item" data-x-internal="struct-item">アイテム</a>をもつ<a id="the-session-history-of-browsing-contexts:struct" href="https://triple-underscore.github.io/infra-ja.html#struct" data-x-internal="struct">構造体</a>である：</p>

  <ul><li><p><dfn id="she-url">URL</dfn>、<a id="the-session-history-of-browsing-contexts:url" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a><li><p><dfn id="she-document">文書</dfn>、<code>Document</code>またはnull</p>

    <p class="note">各エントリーは、最初に作成されたとき、その<a href="#she-document" id="the-session-history-of-browsing-contexts:she-document">文書</a>の<code>Document</code>を持つ。しかし、<code>Document</code>が<a href="browsers.html#fully-active" id="the-session-history-of-browsing-contexts:fully-active">アクティブ</a>でない場合、リソースを解放するために<span>廃棄する</span>ことができる。次に、<a href="#session-history-entry" id="the-session-history-of-browsing-contexts:session-history-entry-2">セッション履歴エントリー</a>の<a href="#she-url" id="the-session-history-of-browsing-contexts:she-url">URL</a>およびその他のデータは、ユーザーエージェントがそのエントリーにナビゲートする必要があることを発見した場合に、元の代わりに新しい<code>Document</code>をもたらすために使用される。
</p>

    <p class="note">履歴ナビゲーションが発生し、かつ宛先<a href="#session-history-entry" id="the-session-history-of-browsing-contexts:session-history-entry-3">セッション履歴エントリー</a>の<code>Document</code>がnullでない場合（つまり、<span>履歴をトラバースする</span>ステップ1の述語がfalseの場合）、ブラウザーがその<code>Document</code>をキャッシュしたことを意味する。 このキャッシュは、<em>バックフォワードキャッシュ</em>または<em>bfcache</em>（つまり<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=274784">"blazingly fast"</a>キャッシュ）と呼ばれることがよくある。</p>
   <li><p><dfn id="she-serialized-state">シリアライズされた状態</dfn>、これは<a href="#serialized-state" id="the-session-history-of-browsing-contexts:serialized-state">シリアライズされた状態</a>またはnullであり、最初はnull<li><p><dfn id="she-policy-container">コンテナーポリシー</dfn>、<a id="the-session-history-of-browsing-contexts:policy-container" href="origin.html#policy-container">コンテナーポリシー</a>またはnull<li><p><dfn id="she-scroll-restoration-mode">スクロール復元モード</dfn>、<a href="#scroll-restoration-mode" id="the-session-history-of-browsing-contexts:scroll-restoration-mode">スクロール復元モード</a>、最初は "<code id="the-session-history-of-browsing-contexts:dom-scrollrestoration-auto"><a href="#dom-scrollrestoration-auto">auto</a></code>"。<li><p><dfn id="she-scroll-position">スクロール位置データ</dfn>、これは<a href="#she-document" id="the-session-history-of-browsing-contexts:she-document-2">文書</a>の<span>復元可能なスクロール可能領域</span>のスクロール位置データである。<li><p><dfn id="she-bc-name">ブラウジングコンテキスト名</dfn>、<a id="the-session-history-of-browsing-contexts:browsing-context-name" href="browsers.html#browsing-context-name">ブラウジングコンテキスト名</a>またはnull、最初はnull<li><p id="an-entry-with-persisted-user-state"><dfn id="she-other">永続ユーザー状態</dfn>、これは<a id="the-session-history-of-browsing-contexts:implementation-defined" href="https://triple-underscore.github.io/infra-ja.html#implementation-defined" data-x-internal="implementation-defined">実装定義</a>であり、最初はnull</p>

    <p class="example">たとえば、一部のユーザーエージェントは、フォームコントロールの値を永続化したいかもしれない。</p>

    <p class="note">フォームコントロールの値を永続化するユーザーエージェントはまた、それらの方向（要素の<code id="the-session-history-of-browsing-contexts:attr-dir"><a href="dom.html#attr-dir">dir</a></code>属性の値）を保持することが推奨される。これは、ユーザーが最初明示的にデフォルト以外の方向をもつ値を入力した場合、履歴走査の後に誤って値を表示することを防ぐ。</p>
   </ul>

  <p id="state-object"><dfn id="serialized-state">シリアライズされた状態</dfn>は、ユーザーインターフェイスの状態を表すオブジェクトを（<span>StructuredSerializeForStorage</span>経由で）シリアライズしたものである。非公式に"状態オブジェクト"と呼ぶこともあるが、これは著者から提供されたユーザーインターフェイスの状態を表すオブジェクトであり、あるいは、シリアライズされた状態をデシリアライズ（<span>StructuredDeserialize</span>経由で）して作成されたオブジェクトでもある。</p>

  <p>ページは、<a href="#serialized-state" id="the-session-history-of-browsing-contexts:serialized-state-2">シリアライズされた状態</a>をセッション履歴に<a href="#dom-history-pushstate" id="the-session-history-of-browsing-contexts:dom-history-pushstate">追加する</a>ことができる。ユーザー（またはスクリプト）が履歴に戻るとき、これらは<span>デシリアイズされ</span>て<a href="indices.html#event-popstate" id="the-session-history-of-browsing-contexts:event-popstate">スクリプトに返される</a>ため、著者は1ページのアプリケーションでも"ナビゲーション"メタファーを使用できるようになる。</p>

  <div class="note"><p><a href="#serialized-state" id="the-session-history-of-browsing-contexts:serialized-state-3">シリアライズされた状態</a>は、主に2つの目的で使用されることを意図している：1つは、事前に準備された状態の記述を<a id="the-session-history-of-browsing-contexts:url-2" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a>に格納することで、単純な場合には著者が解析を行う必要がないようにすることである（ただし、ユーザーによって渡された<a href="https://triple-underscore.github.io/URL-ja.html#concept-url" id="the-session-history-of-browsing-contexts:url-3" data-x-internal="url">URL</a>を処理するためには解析が必要になるので、マイナーな最適化に過ぎない）。もう1つは、現在の<code>Document</code>インスタンスにのみ適用され、新しい <code>Document</code>を開いた場合に再構築しなければならないため、URL には保存されないような状態を作者が保存できるようにすることである。</p>

   <p>後者の例は、ユーザーが戻った場合同じ場所にアニメーションさせることができるように、ポップアップ<code id="the-session-history-of-browsing-contexts:the-div-element"><a href="grouping-content.html#the-div-element">div</a></code>がアニメーション化するために作られた正確な座標を追跡するようなものになるだろう。またその代わりに、前後に行くときに、情報が再度フェッチする必要がないよう、<a id="the-session-history-of-browsing-contexts:url-4" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a>内の情報に基づいてサーバーからフェッチされるデータのキャッシュにポインターを保持するために使用できる。</p>
  </div>

  <p><dfn id="scroll-restoration-mode">スクロール復元モード</dfn>は、<a href="#session-history-entry" id="the-session-history-of-browsing-contexts:session-history-entry-4">エントリー</a>に移動するときに、ユーザーエージェントが永続化されたスクロール位置（存在する場合）を復元すべきかどうかを示す。スクロール復元モードは次のいずれかである：</p>

  <dl><dt>"<dfn data-dfn-for="ScrollRestoration" id="dom-scrollrestoration-auto" data-dfn-type="enum-value"><code>auto</code></dfn>"<dd>ユーザーエージェントは、ナビゲーション時にスクロール位置を復元する責任がある。<dt>"<dfn data-dfn-for="ScrollRestoration" id="dom-scrollrestoration-manual" data-dfn-type="enum-value"><code>manual</code></dfn>"<dd>ページはスクロール位置を復元する責任があり、ユーザーエージェントは自動的に復元を試みない。</dl>

  <hr>

  <p>セッション履歴内の複数の連続したエントリーは、同じ<a href="#she-document" id="the-session-history-of-browsing-contexts:she-document-3">文書</a>を共有することができる。これは、通常の<span>ナビゲーション</span>を介して最初のエントリーに到達し、かつ<code id="the-session-history-of-browsing-contexts:dom-history-pushstate-2"><a href="#dom-history-pushstate">history.pushState()</a></code>を介して次のエントリーが追加された場合に発生する可能性がある。または、<span>フラグメントへのナビゲーション</span>を介して発生する可能性がある。</p>

  <p class="note">同じ<a href="#she-document" id="the-session-history-of-browsing-contexts:she-document-4">Document</a>を共有する（したがって、特定の文書の単に異なる状態である）すべてのエントリーは、定義により連続する。</p>

  

  <hr>

  <p>任意の時点で、セッション履歴のエントリーの1つは、<dfn id="current-entry">現在のエントリー</dfn>である。これは、<a id="the-session-history-of-browsing-contexts:browsing-context-5" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>の<a id="the-session-history-of-browsing-contexts:active-document" href="browsers.html#active-document">アクティブ文書</a>を表すエントリーである。<a href="#current-entry" id="the-session-history-of-browsing-contexts:current-entry">現在のエントリー</a>であるそれぞれのエントリーは、この仕様で定義されるアルゴリズムによって変更される。たとえば<span>セッション履歴走査</span>中など。</p>

  <p class="note"><a href="#current-entry" id="the-session-history-of-browsing-contexts:current-entry-2">現在のエントリー</a>は通常、ナビゲーション時に作成される最初のエントリーである。しかし、上記のように、同じ<a href="#she-document" id="the-session-history-of-browsing-contexts:she-document-5">文書</a>を共有する連続したエントリーの1つにすることもできる。</p>

  <p><a id="the-session-history-of-browsing-contexts:browsing-context-6" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>内の各<code>Document</code>はまた、<dfn id="latest-entry">最新のエントリー</dfn>を持つことができる。これは、<a id="the-session-history-of-browsing-contexts:browsing-context-7" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>の<a href="#session-history" id="the-session-history-of-browsing-contexts:session-history-3">セッション履歴</a>が最後にたどられた<code>Document</code>のエントリーである。 <code>Document</code>が作成されるとき、最初は<a href="#latest-entry" id="the-session-history-of-browsing-contexts:latest-entry">最新のエントリー</a>を持たない。</p>



  <h4 id="the-history-interface"><span class="secno">7.8.3</span> <code>History</code>インターフェイス<a href="#the-history-interface" class="self-link"></a></h4><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/History" title="The History interface allows manipulation of the browser session history, that is the pages visited in the tab or frame that the current page is loaded in.">History</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>10+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/history" title="The Window.history read-only property returns a reference to the History object, which provides an interface for manipulating the browser session history (pages visited in the tab or frame that the current page is loaded in).">Window/history</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div>

  

  <dl class="domintro"><dt><code><var>window</var>.<span id="dom-history">history</span>.<span id="dom-history-length">length</span></code><dd><p><a href="#joint-session-history" id="the-history-interface:joint-session-history">ジョイントセッション履歴</a>内のエントリーの数を返す。<dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history">history</a>.<span id="dom-history-scroll-restoration">scrollRestoration</span> [ = <var>value</var> ]</code><dd><p><a href="#session-history" id="the-history-interface:session-history">セッション履歴</a>の現在のエントリーの<a href="#she-scroll-restoration-mode" id="the-history-interface:she-scroll-restoration-mode">スクロール復元モード</a>を返す。</p>

    <p><a href="#session-history" id="the-history-interface:session-history-2">セッション履歴</a>の現在のエントリーの<a href="#she-scroll-restoration-mode" id="the-history-interface:she-scroll-restoration-mode-2">スクロール復元モード</a>を変更する設定が可能である。</p>
   <dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history-2">history</a>.<span id="dom-history-state">state</span></code><dd><p>オブジェクトにデシリアライズされた、現在の<a href="#serialized-state" id="the-history-interface:serialized-state">シリアライズされた状態</a>を返す。<dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history-3">history</a>.<span id="dom-history-go">go</span>([ <var>delta</var> ])</code><dd><p><a href="#joint-session-history" id="the-history-interface:joint-session-history-2">ジョイントセッション履歴</a>内のステップの指定した数の前後に進む。</p>

    <p>ゼロ差分は、現在のページをリロードする。</p>

    <p>差分が範囲外の場合、何もしない。</p>
   <dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history-4">history</a>.<span id="dom-history-back">back</span>()</code><dd><p><a href="#joint-session-history" id="the-history-interface:joint-session-history-3">ジョイントセッション履歴</a>内の1つのステップに戻る。</p>

    <p>前のページが存在しない場合、何もしない。</p>
   <dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history-5">history</a>.<span id="dom-history-forward">forward</span>()</code><dd><p><a href="#joint-session-history" id="the-history-interface:joint-session-history-4">ジョイントセッション履歴</a>内の1つのステップに進む。</p>

    <p>次のページが存在しない場合、何もしない。</p>
   <dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history-6">history</a>.<span id="dom-history-pushstate">pushState</span>(<var>data</var>, "")</code><dd><p>指定された<var>data</var>が関連付けられたセッション履歴に新しいエントリーをプッシュする。 現在のエントリーのURLがコピーされ、新しいエントリーのURLに使用される。</p>

    <p> （2番目のパラメーターは歴史的な理由で存在し、省略することはできない。空の文字列を渡すことは慣例的なものである。）</p>
   <dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history-7">history</a>.<a href="#dom-history-pushstate" id="the-history-interface:dom-history-pushstate">pushState</a>(<var>data</var>, "", <var>url</var>)</code><dd><p>指定された<var>data</var>が関連付けられ、そのURLが<var>url</var>に設定される新しいエントリーをセッション履歴にプッシュする。</p>

    <p>現在の<code>Document</code>がURLを<var>url</var>に<a href="#can-have-its-url-rewritten" id="the-history-interface:can-have-its-url-rewritten">書き換えることができない</a>場合、<a id="the-history-interface:securityerror" href="https://triple-underscore.github.io/WebIDL-ja.html#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-history-interface:domexception"><a data-x-internal="domexception" href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-DOMException">DOMException</a></code>が投げられる。</p>

    <p> （2番目のパラメーターは歴史的な理由で存在し、省略することはできない。空の文字列を渡すことは慣例的なものである。）</p>
   <dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history-8">history</a>.<span id="dom-history-replacestate">replaceState</span>(<var>data</var>, "")</code><dd><p>現在のセッション履歴エントリーに保存されているデータを<var>data</var>に更新する。</p>

    <p> （2番目のパラメーターは歴史的な理由で存在し、省略することはできない。空の文字列を渡すことは慣例的なものである。）</p>
   <dt><code><var>window</var>.<a href="#dom-history" id="the-history-interface:dom-history-9">history</a>.<a href="#dom-history-replacestate" id="the-history-interface:dom-history-replacestate">replaceState</a>(<var>data</var>, "", <var>url</var>)</code><dd><p>現在のセッション履歴エントリーに保存されているデータを<var>data</var>に更新し、そのURLを<var>url</var>に更新する。</p>

    <p>現在の<code>Document</code>がURLを<var>url</var>に<a href="#can-have-its-url-rewritten" id="the-history-interface:can-have-its-url-rewritten-2">書き換えることができない</a>場合、<a id="the-history-interface:securityerror-2" href="https://triple-underscore.github.io/WebIDL-ja.html#securityerror" data-x-internal="securityerror">"<code>SecurityError</code>"</a> <code id="the-history-interface:domexception-2"><a data-x-internal="domexception" href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-DOMException">DOMException</a></code>が投げられる。</p>

    <p> （2番目のパラメーターは歴史的な理由で存在し、省略することはできない。空の文字列を渡すことは慣例的なものである。）</p>
   </dl>


  <p><a id="the-history-interface:top-level-browsing-context" href="browsers.html#top-level-browsing-context">トップレベルブラウジングコンテキスト</a>の<dfn id="joint-session-history">ジョイントセッション履歴</dfn>は、<a href="#current-entry-of-the-joint-session-history" id="the-history-interface:current-entry-of-the-joint-session-history">ジョイントセッション履歴の現在のエントリー</a>を除いて削除されたそれぞれの<a href="#session-history" id="the-history-interface:session-history-4">セッション履歴</a>において<a href="#current-entry" id="the-history-interface:current-entry">現在のエントリー</a>であるすべてのエントリーとともに、<a id="the-history-interface:top-level-browsing-context-2" href="browsers.html#top-level-browsing-context">トップレベルブラウジングコンテキスト</a>を共有するすべての<a id="the-history-interface:fully-active" href="browsers.html#fully-active">完全にアクティブな</a><code>Document</code>オブジェクトのすべての<a href="browsers.html#concept-document-bc" id="the-history-interface:concept-document-bc">ブラウジングコンテキスト</a>に属するすべての<a href="#session-history" id="the-history-interface:session-history-3">セッション履歴</a>の結合である。</p>

  <p><dfn id="current-entry-of-the-joint-session-history">ジョイントセッション履歴の現在のエントリー</dfn>は、最近その<a href="#session-history" id="the-history-interface:session-history-5">セッション履歴</a>内の<a href="#current-entry" id="the-history-interface:current-entry-2">現在のエントリー</a>になったエントリーである。</p>

  <p><a href="#joint-session-history" id="the-history-interface:joint-session-history-5">ジョイントセッション履歴</a>内のエントリーは、それぞれの<a href="#session-history" id="the-history-interface:session-history-6">セッション履歴</a>に追加された時点で時系列に並べられる。各エントリーはインデックスを持つ。最古のエントリーのインデックスは0を持ち、後続のエントリーは連続して増加する整数（1、2、3など）を番号付けされる。</p>

  <p class="note"><a id="the-history-interface:browsing-context" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>内の各<code>Document</code>は、異なる<a id="the-history-interface:event-loop" href="webappapis.html#event-loop">イベントループ</a>があるかもしれないので、<a href="#joint-session-history" id="the-history-interface:joint-session-history-6">ジョイントセッション履歴</a>の実際の状態は、不明瞭にできる。たとえば、2つの兄弟<code id="the-history-interface:the-iframe-element"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>要素は、同時に1つの一意な生成元から別のものに互いに<span>横断</span>でき、それらの正確な順序は明確に定義されないかもしれない。それらは後にお互いを知るかもしれないので、同様に、それらは<a href="#joint-session-history" id="the-history-interface:joint-session-history-7">ジョイントセッション履歴</a>の長さについて同意しないかもしれない。</p>


  

  <p>A <code>Document</code> <var>document</var> <dfn id="can-have-its-url-rewritten">can have its URL rewritten</dfn> to a <a id="the-history-interface:url" href="https://triple-underscore.github.io/URL-ja.html#concept-url" data-x-internal="url">URL</a> <var>targetURL</var> if the following algorithm returns true:</p>

  <ol><li><p>Let <var>documentURL</var> be <var>document</var>'s <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-url" id="the-history-interface:the-document's-address" data-x-internal="the-document's-address">URL</a>.<li><p>If <var>targetURL</var> and <var>documentURL</var> differ in their <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-scheme" id="the-history-interface:concept-url-scheme" data-x-internal="concept-url-scheme">scheme</a>, <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-username" id="the-history-interface:concept-url-username" data-x-internal="concept-url-username">username</a>, <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-password" id="the-history-interface:concept-url-password" data-x-internal="concept-url-password">password</a>, <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-host" id="the-history-interface:concept-url-host" data-x-internal="concept-url-host">host</a>, or <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-port" id="the-history-interface:concept-url-port" data-x-internal="concept-url-port">port</a> components, then return false.<li><p>If <var>targetURL</var>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-scheme" id="the-history-interface:concept-url-scheme-2" data-x-internal="concept-url-scheme">scheme</a> is an <a id="the-history-interface:http(s)-scheme" href="https://triple-underscore.github.io/Fetch-ja.html#http-scheme" data-x-internal="http(s)-scheme">HTTP(S) scheme</a>, then return true. (Differences in <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-path" id="the-history-interface:concept-url-path" data-x-internal="concept-url-path">path</a>, <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-query" id="the-history-interface:concept-url-query" data-x-internal="concept-url-query">query</a>, and <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-fragment" id="the-history-interface:concept-url-fragment" data-x-internal="concept-url-fragment">fragment</a> are allowed for <code id="the-history-interface:http-protocol"><a data-x-internal="http-protocol" href="https://httpwg.org/specs/rfc7230.html#http.uri">http:</a></code> and <code id="the-history-interface:https-protocol"><a data-x-internal="https-protocol" href="https://httpwg.org/specs/rfc7230.html#https.uri">https:</a></code> URLs.)<li><p>If <var>targetURL</var>'s <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-scheme" id="the-history-interface:concept-url-scheme-3" data-x-internal="concept-url-scheme">scheme</a> is "<code>file</code>", and <var>targetURL</var> and <var>documentURL</var> differ in their <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-path" id="the-history-interface:concept-url-path-2" data-x-internal="concept-url-path">path</a> component, then return false. (Differences in <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-query" id="the-history-interface:concept-url-query-2" data-x-internal="concept-url-query">query</a> and <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-fragment" id="the-history-interface:concept-url-fragment-2" data-x-internal="concept-url-fragment">fragment</a> are allowed for <code>file:</code> URLs.)<li><p>If <var>targetURL</var> and <var>documentURL</var> differ in their <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-path" id="the-history-interface:concept-url-path-3" data-x-internal="concept-url-path">path</a> component or <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-query" id="the-history-interface:concept-url-query-3" data-x-internal="concept-url-query">query</a> components, then return false. (Only differences in <a href="https://triple-underscore.github.io/URL-ja.html#concept-url-fragment" id="the-history-interface:concept-url-fragment-3" data-x-internal="concept-url-fragment">fragment</a> are allowed for other types of URLs.)<li><p>Return true.</ol>

  <div class="example"><table><thead><tr><th><var>document</var>'s <a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-url" id="the-history-interface:the-document's-address-2" data-x-internal="the-document's-address">URL</a><th><var>targetURL</var><th><a href="#can-have-its-url-rewritten" id="the-history-interface:can-have-its-url-rewritten-3">can have its URL rewritten</a><tbody><tr><td><code>https://example.com/home</code><td><code>https://example.com/home#about</code><td>✅<tr><td><code>https://example.com/home</code><td><code>https://example.com/home?page=shop</code><td>✅<tr><td><code>https://example.com/home</code><td><code>https://example.com/shop</code><td>✅<tr><td><code>https://example.com/home</code><td><code>https://user:pass@example.com/home</code><td>❌<tr><td><code>https://example.com/home</code><td><code>http://example.com/home</code><td>❌<tr><td><code>file:///path/to/x</code><td><code>file:///path/to/x#hash</code><td>✅<tr><td><code>file:///path/to/x</code><td><code>file:///path/to/x?search</code><td>✅<tr><td><code>file:///path/to/x</code><td><code>file:///path/to/y</code><td>❌<tr><td><code>about:blank</code><td><code>about:blank#hash</code><td>✅<tr><td><code>about:blank</code><td><code>about:blank?search</code><td>❌<tr><td><code>about:blank</code><td><code>about:srcdoc</code><td>❌<tr><td><code>data:text/html,foo</code><td><code>data:text/html,foo#hash</code><td>✅<tr><td><code>data:text/html,foo</code><td><code>data:text/html,foo?search</code><td>❌<tr><td><code>data:text/html,foo</code><td><code>data:text/html,bar</code><td>❌<tr><td><code>data:text/html,foo</code><td><code>data:bar</code><td>❌<tr><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43</code><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43#hash</code><td>✅<tr><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43</code><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43?search</code><td>❌<tr><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43</code><td><code>blob:https://example.com/anything</code><td>❌<tr><td><code>blob:https://example.com/77becafe-657b-4fdc-8bd3-e83aaa5e8f43</code><td><code>blob:path</code><td>❌</table>

   <p><code>Document</code>の<a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-url" id="the-history-interface:the-document's-address-3" data-x-internal="the-document's-address">URL</a>のみが重要であり、その<a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-origin" id="the-history-interface:concept-document-origin" data-x-internal="concept-document-origin">生成元</a>は重要ではないことに注意する。継承された生成元をもつ<code id="the-history-interface:about:blank"><a href="infrastructure.html#about:blank">about:blank</a></code> <code>Document</code>、サンフォボックス<code id="the-history-interface:the-iframe-element-2"><a href="iframe-embed-object.html#the-iframe-element">iframe</a></code>、または<code id="the-history-interface:dom-document-domain"><a href="origin.html#dom-document-domain">document.domain</a></code>セッターが使用されている場合のように、これらが一致しないことがある。</p>
  </div>

  <div class="example"><p>ユーザーはいくつかの座標に常にあり、ユーザーが後で再開するための特定の座標に対応するページをブックマークできるような、ユーザーがラインに沿って移動できるゲームを考える。</p>

   <p>そのようなゲームでx=5位置を実装する静的ページは次のようになる：</p>

   <pre><code class='html'><c- cp>&lt;!DOCTYPE HTML></c->
<c- c>&lt;!-- this is https://example.com/line?x=5 --></c->
<c- p>&lt;</c-><c- f>html</c-> <c- e>lang</c-><c- o>=</c-><c- s>"en"</c-><c- p>></c->
<c- p>&lt;</c-><c- f>title</c-><c- p>></c->Line Game - 5<c- p>&lt;/</c-><c- f>title</c-><c- p>></c->
<c- p>&lt;</c-><c- f>p</c-><c- p>></c->You are at coordinate 5 on the line.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
<c- p>&lt;</c-><c- f>p</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>a</c-> <c- e>href</c-><c- o>=</c-><c- s>"?x=6"</c-><c- p>></c->Advance to 6<c- p>&lt;/</c-><c- f>a</c-><c- p>></c-> or
 <c- p>&lt;</c-><c- f>a</c-> <c- e>href</c-><c- o>=</c-><c- s>"?x=4"</c-><c- p>></c->retreat to 4<c- p>&lt;/</c-><c- f>a</c-><c- p>></c->?
<c- p>&lt;/</c-><c- f>p</c-><c- p>></c-></code></pre>

   <p>このようなシステムの問題点は、毎回ユーザーがクリックするとページ全体をリロードする必要があることにある。ここで、代わりにスクリプトを使用して、リロードを行うための別の方法：</p>

   <pre><code class='html'><c- cp>&lt;!DOCTYPE HTML></c->
<c- c>&lt;!-- this starts off as https://example.com/line?x=5 --></c->
<c- p>&lt;</c-><c- f>html</c-> <c- e>lang</c-><c- o>=</c-><c- s>"en"</c-><c- p>></c->
<c- p>&lt;</c-><c- f>title</c-><c- p>></c->Line Game - 5<c- p>&lt;/</c-><c- f>title</c-><c- p>></c->
<c- p>&lt;</c-><c- f>p</c-><c- p>></c->You are at coordinate <c- p>&lt;</c-><c- f>span</c-> <c- e>id</c-><c- o>=</c-><c- s>"coord"</c-><c- p>></c->5<c- p>&lt;/</c-><c- f>span</c-><c- p>></c-> on the line.<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
<c- p>&lt;</c-><c- f>p</c-><c- p>></c->
 <c- p>&lt;</c-><c- f>a</c-> <c- e>href</c-><c- o>=</c-><c- s>"?x=6"</c-> <c- e>onclick</c-><c- o>=</c-><c- s>"go(1); return false;"</c-><c- p>></c->Advance to 6<c- p>&lt;/</c-><c- f>a</c-><c- p>></c-> or
 <c- p>&lt;</c-><c- f>a</c-> <c- e>href</c-><c- o>=</c-><c- s>"?x=4"</c-> <c- e>onclick</c-><c- o>=</c-><c- s>"go(-1); return false;"</c-><c- p>></c->retreat to 4<c- p>&lt;/</c-><c- f>a</c-><c- p>></c->?
<c- p>&lt;/</c-><c- f>p</c-><c- p>></c->
<c- p>&lt;</c-><c- f>script</c-><c- p>></c->
 <c- a>var</c-> currentPage <c- o>=</c-> <c- mf>5</c-><c- p>;</c-> <c- c1>// prefilled by server</c->
 <c- a>function</c-> go<c- p>(</c->d<c- p>)</c-> <c- p>{</c->
   setupPage<c- p>(</c->currentPage <c- o>+</c-> d<c- p>);</c->
   history<c- p>.</c->pushState<c- p>(</c->currentPage<c- p>,</c-> <c- u>""</c-><c- p>,</c-> <c- t>'?x='</c-> <c- o>+</c-> currentPage<c- p>);</c->
 <c- p>}</c->
 onpopstate <c- o>=</c-> <c- a>function</c-><c- p>(</c->event<c- p>)</c-> <c- p>{</c->
   setupPage<c- p>(</c->event<c- p>.</c->state<c- p>);</c->
 <c- p>}</c->
 <c- a>function</c-> setupPage<c- p>(</c->page<c- p>)</c-> <c- p>{</c->
   currentPage <c- o>=</c-> page<c- p>;</c->
   document<c- p>.</c->title <c- o>=</c-> <c- t>'Line Game - '</c-> <c- o>+</c-> currentPage<c- p>;</c->
   document<c- p>.</c->getElementById<c- p>(</c-><c- t>'coord'</c-><c- p>).</c->textContent <c- o>=</c-> currentPage<c- p>;</c->
   document<c- p>.</c->links<c- p>[</c-><c- mf>0</c-><c- p>].</c->href <c- o>=</c-> <c- t>'?x='</c-> <c- o>+</c-> <c- p>(</c->currentPage<c- o>+</c-><c- mf>1</c-><c- p>);</c->
   document<c- p>.</c->links<c- p>[</c-><c- mf>0</c-><c- p>].</c->textContent <c- o>=</c-> <c- t>'Advance to '</c-> <c- o>+</c-> <c- p>(</c->currentPage<c- o>+</c-><c- mf>1</c-><c- p>);</c->
   document<c- p>.</c->links<c- p>[</c-><c- mf>1</c-><c- p>].</c->href <c- o>=</c-> <c- t>'?x='</c-> <c- o>+</c-> <c- p>(</c->currentPage<c- o>-</c-><c- mf>1</c-><c- p>);</c->
   document<c- p>.</c->links<c- p>[</c-><c- mf>1</c-><c- p>].</c->textContent <c- o>=</c-> <c- t>'retreat to '</c-> <c- o>+</c-> <c- p>(</c->currentPage<c- o>-</c-><c- mf>1</c-><c- p>);</c->
 <c- p>}</c->
<c- p>&lt;/</c-><c- f>script</c-><c- p>></c-></code></pre>

   <p>スクリプトをもたないシステムにおいて、前の例と同じように動作する。しかし、同じ体験に対するネットワークアクセスが存在しないので、スクリプトをサポート<em>する</em>ユーザーは現在はるかに速く移動できる。さらに、経験に反して、ユーザーは単にナイーブなスクリプトベースのアプローチ、ブックマーク、およびセッション履歴の移動が依然として動作する必要がある。</p>

   <p>上記の例において、<code id="the-history-interface:dom-history-pushstate-2"><a href="#dom-history-pushstate">pushState()</a></code>メソッドへの<var>data</var>引数は、サーバーに送信されるものと同じ情報であるが、スクリプトはURLにユーザーが移動するたびに解析する必要はないので、より便利な形式となる。</p>

  </div>

  <div class="example"><p>ほとんどのアプリケーションは、すべての履歴エントリーに同じ<a href="#scroll-restoration-mode" id="the-history-interface:scroll-restoration-mode">スクロール復元モード</a>値を使用したいと考えている。これを実現するために、できるだけ早く<code id="the-history-interface:dom-history-scroll-restoration"><a href="#dom-history-scroll-restoration">scrollRestoration</a></code>属性を設定して（たとえば、文書の<code id="the-history-interface:the-head-element"><a href="semantics.html#the-head-element">head</a></code>要素の最初の<code id="the-history-interface:the-script-element"><a href="scripting.html#the-script-element">script</a></code>要素で）、履歴セッションに追加されたエントリーが確実に希望のスクロール復元モードになるようにする。</p>

   <pre><code class='html'><c- p>&lt;</c-><c- f>head</c-><c- p>></c->
  <c- p>&lt;</c-><c- f>script</c-><c- p>></c->
       <c- k>if</c-> <c- p>(</c-><c- t>'scrollRestoration'</c-> <c- k>in</c-> history<c- p>)</c->
            history<c- p>.</c->scrollRestoration <c- o>=</c-> <c- t>'manual'</c-><c- p>;</c->
  <c- p>&lt;/</c-><c- f>script</c-><c- p>></c->
<c- p>&lt;/</c-><c- f>head</c-><c- p>></c->
   </code></pre>
  </div>


  


  <h4 id="the-location-interface"><span class="secno">7.8.4</span> <code>Location</code>インターフェイス<a href="#the-location-interface" class="self-link"></a></h4><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/location" title="The Document.location read-only property returns a Location object, which contains information about the URL of the document and provides methods for changing that URL and loading another URL.">Document/location</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Location" title="The Location interface represents the location (URL) of the object it is linked to. Changes done on it are reflected on the object it relates to. Both the Document and Window interface have such a linked Location, accessible via Document.location and Window.location respectively.">Location</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>3+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android yes"><span>WebView Android</span><span>37+</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/location" title="The Window.location read-only property returns a Location object with information about the current location of the document.">Window/location</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>1+</span></span><span class="safari yes"><span>Safari</span><span>1+</span></span><span class="chrome yes"><span>Chrome</span><span>1+</span></span><hr><span class="opera yes"><span>Opera</span><span>3+</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge yes"><span>Edge (Legacy)</span><span>12+</span></span><span class="ie yes"><span>Internet Explorer</span><span>4+</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android yes"><span>Opera Android</span><span>10.1+</span></span></div></div></div>

  <p>各<code>Window</code>オブジェクトは、<code>Location</code>オブジェクトの一意なインスタンスに関連付けられており、<code>Window</code>オブジェクトの作成時に割り当てられる。</p>

  

  <dl class="domintro"><dt><code><var>document</var>.<span id="dom-document-location">location</span> [ = <var>value</var> ]</code><dt><code><var>window</var>.<span id="dom-location">location</span> [ = <var>value</var> ]</code><dd><p>現在のページの位置と<code>Location</code>オブジェクトを返す。</p>

    <p>別のページにナビゲートするために、設定可能である。</p>
   </dl>

  

  <p><code>Location</code>オブジェクトは、<code>Document</code>の<a href="browsers.html#concept-document-bc" id="the-location-interface:concept-document-bc">ブラウジングコンテキスト</a>に属する<a id="the-location-interface:active-document" href="browsers.html#active-document">アクティブ文書</a>の<a href="https://triple-underscore.github.io/DOM4-ja.html#concept-document-url" id="the-location-interface:the-document's-address" data-x-internal="the-document's-address">URL</a>の表現を提供し、<code id="the-location-interface:dom-history"><a href="#dom-history">history</a></code>オブジェクトのエントリーを追加または置換することによって、<a id="the-location-interface:browsing-context" href="browsers.html#browsing-context">ブラウジングコンテキスト</a>のセッション履歴の<a href="#current-entry" id="the-location-interface:current-entry">現在のエントリー</a>を変更可能にする。</p>

  

  <dl class="domintro"><dt><code><var>location</var>.<span>toString()</span></code><dt><code><var>location</var>.<span id="dom-location-href">href</span></code><dd><p><code>Location</code>オブジェクトのURLを返す。</p>

    <p>与えられたURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<span id="dom-location-origin">origin</span></code><dd><p><code>Location</code>オブジェクトの生成元を返す。<dt><code><var>location</var>.<span id="dom-location-protocol">protocol</span></code><dd><p><code>Location</code>オブジェクトのスキームを返す。</p>

    <p>変更されたスキームと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<span id="dom-location-host">host</span></code><dd><p><code>Location</code>オブジェクトのURLのホストとポートを返す（スキームのデフォルトポートと異なる場合）。</p>

    <p>変更されたホストおよびポートと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<span id="dom-location-hostname">hostname</span></code><dd><p><code>Location</code>オブジェクトのホストを返す。</p>

    <p>変更されたホストと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<span id="dom-location-port">port</span></code><dd><p><code>Location</code>オブジェクトのポートを返す。</p>

    <p>変更されたポートと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<span id="dom-location-pathname">pathname</span></code><dd><p><code>Location</code>オブジェクトのパスを返す。</p>

    <p>変更されたパスと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<span id="dom-location-search">search</span></code><dd><p><code>Location</code>オブジェクトのURLのクエリーを返す（空でない場合は先頭の"<code>?</code>"を含む）。</p>

    <p>（先頭の"<code>?</code>"を無視して）変更されたクエリーと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<span id="dom-location-hash">hash</span></code><dd><p><code>Location</code>オブジェクトのURLのフラグメントを返す（空でない場合は先頭の"<code>#</code>"を含む）。</p>

    <p>（先頭の"<code>#</code>"を無視して）変更されたフラグメントと同じURLにナビゲートするように、設定可能である。</p>
   <dt><code><var>location</var>.<span id="dom-location-assign">assign</span>(<var>url</var>)</code><dd><p>与えられたURLにナビゲートする。<dt><code><var>location</var>.<span id="dom-location-replace">replace</span>(<var>url</var>)</code><dd><p>セッション履歴から現在のページを削除し、与えられたURLにナビゲートする。<dt><code><var>location</var>.<span id="dom-location-reload">reload</span>()</code><dd><p>現在のページをリロードする。<dt><code><var>location</var>.<span id="dom-location-ancestororigins">ancestorOrigins</span></code><dd><p><a id="the-location-interface:parent-browsing-context" href="browsers.html#parent-browsing-context">親ブラウジングコンテキスト</a>から<a id="the-location-interface:top-level-browsing-context" href="browsers.html#top-level-browsing-context">トップレベルブラウジングコンテキスト</a>まで、祖先<a href="browsers.html#browsing-context" id="the-location-interface:browsing-context-2">ブラウジングコンテキスト</a>の生成元を列挙する<code>DOMStringList</code>オブジェクトを返す。</p>
   </dl>

  


  <nav><a href="origin.html">← 7.3 生成元</a> — <a href="./">目次</a> — <a href="browsing-the-web.html">7.9 ウェブを閲覧する →</a></nav>
