<!DOCTYPE html><html class="split" lang="ja"><script src="https://html.spec.whatwg.org/link-fixup.js" defer=""></script><meta charset="UTF-8"><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"><title>HTML Standard, Edition for Web Developers日本語訳</title><meta content="#3c790a" name="theme-color"><meta content="light dark" name="color-scheme"><link rel="stylesheet" href="https://resources.whatwg.org/standard-shared-with-dev.css" crossorigin=""><link rel="icon" href="https://resources.whatwg.org/logo.svg" crossorigin=""><link rel="stylesheet" href="https://html.spec.whatwg.org/dev/styles.css" crossorigin=""><script>
   function toggleStatus(div) {
     div.parentNode.classList.toggle('wrapped');
   }
   function setLinkFragment(link) {
     link.hash = location.hash;
   }
  </script><body>
  <script async="" src="./search.js"></script>
  
  
  <header id="head" class="head with-buttons"><a href="https://whatwg.org/" class="logo"><img width="100" alt="WHATWG" crossorigin="" class="darkmode-aware" src="https://resources.whatwg.org/logo.svg" height="100"></a><hgroup><h1><a rel="home" href="../dev" />HTML: The Living Standard</a></h1><p id="dev-edition-h2">Edition for Web Developers — Last Updated <span class="pubdate">26 November 2024</span></hgroup>
   

   <div id="search"><input placeholder="Search. Press &apos;/&apos;" autocomplete="off" name="query" id="query" type="search"><ol id="results"></ol>
   </div>
  </header>

  

  

  

  
  

  
  

  

  <nav><a href="common-dom-interfaces.html">← 2.5 共通DOMインターフェイス</a> — <a href="./">目次</a> — <a href="dom.html">3 セマンティックス、構造、HTML文書のAPI群 →</a></nav><ol class="toc"><li><ol><li><a href="structured-data.html#safe-passing-of-structured-data"><span class="secno">2.6</span> 構造化データの安全な受け渡し</a><ol><li><a href="structured-data.html#serializable-objects"><span class="secno">2.6.1</span> シリアル化可能なオブジェクト</a><li><a href="structured-data.html#transferable-objects"><span class="secno">2.6.2</span> 転送可能なオブジェクト</a><li><a href="structured-data.html#structured-cloning"><span class="secno">2.6.3</span> 構造化クローニングAPI</a></ol></ol></ol><h3 id="safe-passing-of-structured-data"><span class="secno">2.6</span> 構造化データの安全な受け渡し<a href="#safe-passing-of-structured-data" class="self-link"></a></h3>

  <p id="structuredclone"><span id="structured-clone"></span><a href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-platform-object" id="safe-passing-of-structured-data:platform-object" data-x-internal="platform-object">プラットフォームオブジェクト</a>を含むJavaScriptオブジェクトを<a id="safe-passing-of-structured-data:realm" href="https://tc39.es/ecma262/#sec-code-realms" data-x-internal="realm">レルム</a>の境界を越えて渡すことをサポートするために、この仕様では、オブジェクトをシリアル化および逆シリアル化するためのインフラを定義する。これには、基になるデータをコピーする代わりに転送する場合も含まれる。総称して、このシリアル化/逆シリアル化プロセスは"構造化クローン"と呼ばれるが、ほとんどのAPIは別々のシリアル化と逆シリアル化のステップを実行する。（注目すべき例外は<code id="safe-passing-of-structured-data:dom-structuredclone"><a href="#dom-structuredclone">structuredClone()</a></code>メソッドである。）</p>

  

  <h4 id="serializable-objects" data-lt="serializable object" data-export=""><span class="secno">2.6.1</span> <dfn>シリアル化可能なオブジェクト</dfn><a href="#serializable-objects" class="self-link"></a></h4><div class="mdn-anno wrapped"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/https://developer.mozilla.org/en-US/docs/Glossary/Serializable_object" title="Serializable objects are objects that can be serialized and later deserialized in any JavaScript environment (&quot;realm&quot;). This allows them to, for example, be stored on disk and later restored, or cloned with structuredClone(), or shared between workers using DedicatedWorkerGlobalScope.postMessage().">/developer.mozilla.org/en-US/docs/Glossary/Serializable_object</a><div class="support"><span class="firefox yes"><span>Firefox</span><span>103+</span></span><span class="safari no"><span>Safari</span><span>No</span></span><span class="chrome yes"><span>Chrome</span><span>77+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/https://developer.mozilla.org/en-US/docs/Glossary/Serializable_object" title="Serializable objects are objects that can be serialized and later deserialized in any JavaScript environment (&quot;realm&quot;). This allows them to, for example, be stored on disk and later restored, or cloned with structuredClone(), or shared between workers using DedicatedWorkerGlobalScope.postMessage().">/developer.mozilla.org/en-US/docs/Glossary/Serializable_object</a><div class="support"><span class="firefox yes"><span>Firefox</span><span>103+</span></span><span class="safari no"><span>Safari</span><span>No</span></span><span class="chrome yes"><span>Chrome</span><span>77+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/https://developer.mozilla.org/en-US/docs/Glossary/Serializable_object" title="Serializable objects are objects that can be serialized and later deserialized in any JavaScript environment (&quot;realm&quot;). This allows them to, for example, be stored on disk and later restored, or cloned with structuredClone(), or shared between workers using DedicatedWorkerGlobalScope.postMessage().">/developer.mozilla.org/en-US/docs/Glossary/Serializable_object</a><div class="support"><span class="firefox yes"><span>Firefox</span><span>103+</span></span><span class="safari no"><span>Safari</span><span>No</span></span><span class="chrome yes"><span>Chrome</span><span>77+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/https://developer.mozilla.org/en-US/docs/Glossary/Serializable_object" title="Serializable objects are objects that can be serialized and later deserialized in any JavaScript environment (&quot;realm&quot;). This allows them to, for example, be stored on disk and later restored, or cloned with structuredClone(), or shared between workers using DedicatedWorkerGlobalScope.postMessage().">/developer.mozilla.org/en-US/docs/Glossary/Serializable_object</a><div class="support"><span class="firefox yes"><span>Firefox</span><span>103+</span></span><span class="safari no"><span>Safari</span><span>No</span></span><span class="chrome yes"><span>Chrome</span><span>77+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/https://developer.mozilla.org/en-US/docs/Glossary/Serializable_object" title="Serializable objects are objects that can be serialized and later deserialized in any JavaScript environment (&quot;realm&quot;). This allows them to, for example, be stored on disk and later restored, or cloned with structuredClone(), or shared between workers using DedicatedWorkerGlobalScope.postMessage().">/developer.mozilla.org/en-US/docs/Glossary/Serializable_object</a><div class="support"><span class="firefox yes"><span>Firefox</span><span>103+</span></span><span class="safari no"><span>Safari</span><span>No</span></span><span class="chrome yes"><span>Chrome</span><span>77+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/https://developer.mozilla.org/en-US/docs/Glossary/Serializable_object" title="Serializable objects are objects that can be serialized and later deserialized in any JavaScript environment (&quot;realm&quot;). This allows them to, for example, be stored on disk and later restored, or cloned with structuredClone(), or shared between workers using DedicatedWorkerGlobalScope.postMessage().">/developer.mozilla.org/en-US/docs/Glossary/Serializable_object</a><div class="support"><span class="firefox yes"><span>Firefox</span><span>103+</span></span><span class="safari no"><span>Safari</span><span>No</span></span><span class="chrome yes"><span>Chrome</span><span>77+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/https://developer.mozilla.org/en-US/docs/Glossary/Serializable_object" title="Serializable objects are objects that can be serialized and later deserialized in any JavaScript environment (&quot;realm&quot;). This allows them to, for example, be stored on disk and later restored, or cloned with structuredClone(), or shared between workers using DedicatedWorkerGlobalScope.postMessage().">/developer.mozilla.org/en-US/docs/Glossary/Serializable_object</a><div class="support"><span class="firefox yes"><span>Firefox</span><span>103+</span></span><span class="safari no"><span>Safari</span><span>No</span></span><span class="chrome yes"><span>Chrome</span><span>77+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>79+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div>

  <p><a href="#serializable-objects" id="serializable-objects:serializable-objects">シリアル化可能なオブジェクト</a>は、特定の<a id="serializable-objects:realm" href="https://tc39.es/ecma262/#sec-code-realms" data-x-internal="realm">realm</a>から独立した方法で、シリアル化され、後で逆シリアル化されることをサポートする。 これにより、それらをディスクに保存して後で復元したり、<a id="serializable-objects:agent" href="https://tc39.es/ecma262/#sec-agents" data-x-internal="agent">エージェント</a>や<a id="serializable-objects:agent-cluster" href="https://tc39.es/ecma262/#sec-agent-clusters" data-x-internal="agent-cluster">エージェントクラスター</a>の境界を越えて複製したりすることができる。</p>

  <p>すべてのオブジェクトが<a href="#serializable-objects" id="serializable-objects:serializable-objects-2">シリアル化可能なオブジェクト</a>であるとは限らない。また、<a href="#serializable-objects" id="serializable-objects:serializable-objects-3">シリアル化可能なオブジェクト</a>であるオブジェクトのすべての側面が、シリアル化されるときに必ずしも保持されるわけではない。</p>

  

  <h4 id="transferable-objects" data-lt="transferable object" data-export=""><span class="secno">2.6.2</span> <dfn>転送可能なオブジェクト</dfn><a href="#transferable-objects" class="self-link"></a></h4>

  <p><a href="#transferable-objects" id="transferable-objects:transferable-objects">転送可能なオブジェクト</a>は、<a href="https://tc39.es/ecma262/#sec-agents" id="transferable-objects:agent" data-x-internal="agent">エージェント</a>間での転送をサポートする。 転送とは、基になるデータへの参照を共有し、転送されるオブジェクトを切り離しながら、オブジェクトを効果的に再作成することである。これは、高価なリソースの所有権を譲渡するのに役立つ。すべてのオブジェクトが<a href="#transferable-objects" id="transferable-objects:transferable-objects-2">転送可能なオブジェクト</a>であるとは限らない。また、<a href="#transferable-objects" id="transferable-objects:transferable-objects-3">転送可能なオブジェクト</a>であるオブジェクトのすべての側面が、転送時に必ずしも保持されるわけではない。</p>

  <p class="note">転送は、不可逆的かつ非べき等な操作である。一度転送されたものは、二度と転送することはできず、実際に使用することもできない。</p>

  

  <h4 id="structured-cloning"><span class="secno">2.6.3</span> 構造化クローニングAPI<a href="#structured-cloning" class="self-link"></a></h4>

  <dl class="domintro"><dt><code><var>result</var> = self.<span id="dom-structuredclone">structuredClone</span>(<var>value</var>[, { <span>transfer</span> }])</code><div class="mdn-anno wrapped before"><button onclick="toggleStatus(this)" class="mdn-anno-btn"><b title="Support in all current engines." class="all-engines-flag">✔</b><span>MDN</span></button><div class="feature"><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/structuredClone" title="The global structuredClone() method creates a deep clone of a given value using the structured clone algorithm.">structuredClone</a><p class="all-engines-text">Support in all current engines.<div class="support"><span class="firefox yes"><span>Firefox</span><span>94+</span></span><span class="safari yes"><span>Safari</span><span>15.4+</span></span><span class="chrome yes"><span>Chrome</span><span>98+</span></span><hr><span class="opera unknown"><span>Opera</span><span>?</span></span><span class="edge_blink yes"><span>Edge</span><span>98+</span></span><hr><span class="edge unknown"><span>Edge (Legacy)</span><span>?</span></span><span class="ie no"><span>Internet Explorer</span><span>No</span></span><hr><span class="firefox_android unknown"><span>Firefox Android</span><span>?</span></span><span class="safari_ios unknown"><span>Safari iOS</span><span>?</span></span><span class="chrome_android unknown"><span>Chrome Android</span><span>?</span></span><span class="webview_android unknown"><span>WebView Android</span><span>?</span></span><span class="samsunginternet_android unknown"><span>Samsung Internet</span><span>?</span></span><span class="opera_android unknown"><span>Opera Android</span><span>?</span></span></div></div></div><dd><p>入力値を取得し、構造化クローンアルゴリズムを実行してディープコピーを返す。<code>transfer</code>配列にリストされている<a href="#transferable-objects" id="structured-cloning:transferable-objects">転送可能なオブジェクト</a>は、複製されるだけでなく転送される。つまり、もはや入力値で使用できなくなる。</p>

    <p>入力値のいずれかの部分が<a href="#serializable-objects" id="structured-cloning:serializable-objects">シリアル化</a>できない場合、<a id="structured-cloning:datacloneerror" href="https://triple-underscore.github.io/WebIDL-ja.html#datacloneerror" data-x-internal="datacloneerror">"<code>DataCloneError</code>"</a> <code id="structured-cloning:domexception"><a data-x-internal="domexception" href="https://triple-underscore.github.io/WebIDL-ja.html#dfn-DOMException">DOMException</a></code>を投げる。</p>
   </dl>

  


  <nav><a href="common-dom-interfaces.html">← 2.5 共通DOMインターフェイス</a> — <a href="./">目次</a> — <a href="dom.html">3 セマンティックス、構造、HTML文書のAPI群 →</a></nav>
